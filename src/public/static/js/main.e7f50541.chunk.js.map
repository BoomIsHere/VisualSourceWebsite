{"version":3,"sources":["assets/images/background_game.webp","assets/models/field/field.obj","assets/models/field/field.mtl","assets/models/fruit/fruit_one.obj","assets/models/fruit/fruit_one.mtl","assets/models/ocean/ocean.obj","assets/models/ocean/ocean_none.obj","assets/models/ocean/ocean_one.obj","assets/models/ocean/ocean_two.obj","assets/models/ocean/ocean_two_b.obj","assets/models/ocean/ocean_three.obj","assets/models/ocean/ocean.mtl","assets/models/ocean/ocean_none.mtl","assets/models/ocean/ocean_one.mtl","assets/models/ocean/ocean_two.mtl","assets/models/ocean/ocean_two_b.mtl","assets/models/ocean/ocean_three.mtl","assets/models/water/water.obj","assets/models/water/water_none.obj","assets/models/water/water_one.obj","assets/models/water/water_two.obj","assets/models/water/water_two_b.obj","assets/models/water/water_three.obj","assets/models/water/water.mtl","assets/models/water/water_none.mtl","assets/models/water/water_one.mtl","assets/models/water/water_two.mtl","assets/models/water/water_two_b.mtl","assets/models/water/water_three.mtl","assets/models/cloud/cloud.obj","assets/models/cloud/cloud.mtl","assets/models/slector/slector.obj","assets/models/slector/slector.mtl","assets/models/trees/tree_one.obj","assets/models/trees/tree_two.obj","assets/models/trees/tree_one.mtl","assets/models/trees/tree_two.mtl","assets/images/icons/arrow_perv.svg","assets/images/icons/sign-in.svg","assets/images/icons/sign-out.svg","assets/images/icons/plus.svg","assets/images/icons/arrow_down.svg","contaner/Auth/useAuth.js","contaner/Game/scene.js","scripts/utility.js","scripts/createBlockMesh.js","scripts/wordGenerationv3.js","scripts/anim.js","scripts/websocket.js","contaner/Game/GameProvider.js","contaner/Game/Game.js","redux/constants.js","redux/actions.js","contaner/Errorboundery/Errorboundery.js","components/BackButton/BackButton.js","components/pages/About/About.js","components/Loader/Loader.js","components/pages/ThoneRoom/ThroneRoom.js","components/pages/HighScore/HighScore.js","components/ToggleButtom/ToggleButtom.js","components/NormalButton/NormalButton.js","components/pages/Settings/Settings.js","components/IconButton/IconButton.js","components/pages/MainMenu/MainMenu.js","components/pages/Singleplayer/Tribe.js","components/pages/Singleplayer/Mode.js","components/pages/Singleplayer/SetupSP.js","components/pages/Multiplayer/Multiplayer.js","components/pages/Multiplayer/Friends.js","components/pages/Multiplayer/NewGame/SetupMP.js","components/pages/Multiplayer/NewGame/PlayerMP.js","components/pages/Multiplayer/NewGame/TribesMP.js","components/pages/Multiplayer/NewGame/AddPlayerMP.js","components/menus/View.js","components/menus/NavGame.js","components/menus/GameData.js","components/menus/GameStats.js","components/menus/TechTree.js","contaner/App/App.js","redux/reducers.js","serviceWorker.js","index.js","assets/images/icons/menu.svg"],"names":["module","exports","notify","msg","data","position","title","Message","info","error","success","show","camera","cameraControls","frameId","DEFAULT_REDIRECT_CALLBACK","Aviator","naviagte","Auth0Context","createContext","useAuth0","useContext","Auth0Provider","children","onRedirectCallback","initOptions","useState","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","useEffect","a","createAuth0Client","auth0FromHook","window","location","search","includes","handleRedirectCallback","appState","getUser","name","initAuth0","loginWithPopup","params","Provider","value","getIdTokenClaims","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout","savedGames","JSON","parse","localStorage","getItem","savedlocalMPGames","loadSettings","default","sound_effects","ambience","tribe_music","suggestions","info_on_build","confirm_turn","volume","get","set","current","setItem","stringify","Object","assign","remove","removeItem","isVaild","getQueryParams","object","uri","getCurrentURI","replace","split","reali","array","i","length","push","CONFIG","load","fetch","then","res","json","console","global","showingView","preId","CREATE","models","Water","pos","faction","variation","rotation","water","mesh","Mesh","geometry","material","cursor","on","ev","target","userData","click","id","navigate","queryParams","blockId","type","canBuild","parent","x","y","z","rotateY","Math","PI","Field","field","fram","cost","Ocean","ocean","Tree","tree","log","attached","Wall","wall","Fruit","fruit","Cloud","cloud","Slector","slector","renderOrder","this","entityManager","EntityManager","scene","THREE","st","Stats","clock","renderer","antialias","composer","EffectComposer","threeDomElement","domElement","handleResize","setSize","innerWidth","innerHeight","setPixelRatio","devicePixelRatio","aspect","updateProjectionMatrix","animate","delta","getDelta","begin","requestAnimationFrame","update","render","end","WorldGenerationV3","assets","settings","noise","SimplexNoise","mp","width","height","nx","ny","noise2D","worldGroup","Group","worldSize","121","256","324","400","worldNoise","mapsize","placementArray","worldIndex","row","colum","userid","players","add","blockPlacement","b","waterSides","wo","undefined","coords","oceanSides","oo","oceanRotation","forEach","warn","int","ViewOut","TimelineMax","to","ease","duration","setTimeout","onMessageHandler","payload","token","ws","userToken","messageSystem","messageGame","getRequest","onCloseHandler","event","send","onErrorHandler","errorMessages","socket","systemMessage","gameMessage","requestReponse","currentRequest","init","host","WebSocket","onopen","loginMsg","date","Date","now","readyState","onmessage","onclose","e","quit","close","reconnect","random","Random","PolytopiaGameContext","createPlayer","opt","score","tech","stars","starsPerTurn","PolytopiaGameProvider","setMP","mode","setMode","currentPlayer","setCurrentPlayer","setPlayers","turns","setTurns","item","newPlayers","player","playerdata","playerF","pick","addTurn","Game","setState","state","quaryData","mount","appendChild","showPanel","document","body","dom","CameraControls","install","shadowMap","enabled","zoom","addPass","RenderPass","outlinePass","OutlinePass","edgeStrength","edgeGlow","edgeThickness","pulsePeriod","hiddenEdgeColor","visibleEdgeColor","effectFXAA","ShaderPass","FXAAShader","uniforms","bb","dollySpeed","maxZoom","minZoom","setBoundary","Interaction","lightGroup","directionalLight","castShadow","shadow","mapSize","hemisphere","addEventListener","tl","from","opacity","loadingMenu","background","props","textures","createWorld","cancelAnimationFrame","removeChild","ref","Component","connect","gameAssetsLoad","dispatch","GAMEASSETSLOAD","loadManager","LoadingManager","textureLoader","TextureLoader","mtlLoader","MTLLoader","setResourcePath","loadWaterAssets","WaterMtl","materials","preload","OBJLoader","setMaterials","WaterObj","WaterThreeMtl","WaterThreeObj","WaterTwoMtl","WaterTwoObj","WaterOneMtl","WaterOneObj","WaterNoneMtl","WaterNoneObj","WaterTwoBMtl","WaterTwoBObj","loadOceanAssets","OceanMtl","OceanObj","OceanThreeMtl","OceanThreeObj","OceanTwoMtl","OceanTwoObj","OceanOneMtl","OceanOneObj","OceanNoneMtl","OceanNoneObj","OceanTwoBMtl","OceanTwoBObj","ErrorBoundry","hasError","BackButton","className","onClick","history","back","src","ArrowPerv","alt","AboutPage","build","REVISION","Loader","ThroneRoom","list","key","HighScore","selected","wrapperClass","ToggleButton","text","checked","change","defaultChecked","onChange","v","data-tg-on","data-tg-off","htmlFor","NormalButton","method","isUri","callback","disable","disabled","reducer","action","Settings","menu","useReducer","min","max","defaultValue","IconButton","MainMenu","saved","dev_url","production_url","returnURL","production","size","outline","returnTo","LogoutIcon","LoginIcon","MENUICON","tribes","dis","imperius","bardur","oumaji","vengir","TribeData","prevQuary","setShowTribe","Tribe","showTribe","tribe","showInfo","Mode","opponents","worldSizes","difficulty","createData","map","element","SetupSP","query","setMap","diff","setDiff","opponent","setOpponents","onSelect","useButtonRole","savedgame","toUpperCase","getSaves","dataArray","el","Multiplayer","yourTurn","setYourTrun","setNotify","hasOnlineGames","setHasOnlineGames","hasLocalGame","setHasLocalGames","sub","icon","iconSize","PLUSICON","Friends","SetupMP","network","setNetwork","setMapSize","PlayerMP","urlParams","setUrlParams","minPlayers","setMinPlayers","urp","filter","readOnly","TribesMP","request","ofGameID","isLocal","currentPlayers","lock","ofUser","status","concat","View","block","getObjectById","Number","getObjectByName","DownArrow","keys","menuClass","btnStat","class","NavGame","nextData","MenuIcon","GameData","setData","GameStats","TechTree","model","setModel","onClose","visible","footer","App","savedGame","savedGameObject","inGame","hasBefore","loadGameAssets","setRoutes","showGame","index","goTo","AddPlayerMP","Error","loadContent","inGameContent","of","progress","isPending","loadError","onStart","rConst","onLoad","onError","err","onProgress","url","itemsLoaded","itemsTotal","backgroundImage","texture","FieldMtl","FieldObj","CloudMtl","CloudObj","TreeOneMtl","TreeOneObj","TreeTwoMtl","TreeTwoObj","FruitOneMtl","FruitOneObj","SlectorNoneMtl","SlectorObj","intialAssetsLoadStates","rootReducer","combineReducers","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","redirect","ReactDOM","domain","client_id","clientId","redirect_uri","getElementById","URL","process","href","origin","response","contentType","headers","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"4OAAAA,EAAOC,QAAU,IAA0B,8C,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,omBCY3C,SAASC,IAAsD,IAA/C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","file":"static/js/main.e7f50541.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background_game.b879c134.webp\";","module.exports = __webpack_public_path__ + \"static/media/field.820a5de2.obj\";","module.exports = __webpack_public_path__ + \"static/media/field.bd606281.mtl\";","module.exports = __webpack_public_path__ + \"static/media/fruit_one.401782fb.obj\";","module.exports = __webpack_public_path__ + \"static/media/fruit_one.deedf5c9.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean.49960e7c.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_none.e646e666.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_one.1149f12f.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two.8478a460.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two_b.5f12e9cc.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_three.09f7749a.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean.9289348b.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_none.d0d89c1d.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_one.f49bda95.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two.40654d41.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two_b.38e20ff2.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_three.ff5600a1.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water.065725eb.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_none.bd934e57.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_one.34ff3246.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_two.0db41b72.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_two_b.7b4c02ee.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_three.7dfcfd72.obj\";","module.exports = __webpack_public_path__ + \"static/media/water.b6d02e43.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_none.a0876c1d.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_one.14ed2016.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_two.504cbe72.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_two_b.cde0d92a.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_three.a56fb38c.mtl\";","module.exports = __webpack_public_path__ + \"static/media/cloud.1337cfe0.obj\";","module.exports = __webpack_public_path__ + \"static/media/cloud.47b98894.mtl\";","module.exports = __webpack_public_path__ + \"static/media/slector.a35f20df.obj\";","module.exports = __webpack_public_path__ + \"static/media/slector.0eb39234.mtl\";","module.exports = __webpack_public_path__ + \"static/media/tree_one.9a0a07b7.obj\";","module.exports = __webpack_public_path__ + \"static/media/tree_two.ddb2b1b0.obj\";","module.exports = __webpack_public_path__ + \"static/media/tree_one.9bf4606c.mtl\";","module.exports = __webpack_public_path__ + \"static/media/tree_two.bed7a1fa.mtl\";","module.exports = __webpack_public_path__ + \"static/media/arrow_perv.1448615b.svg\";","module.exports = __webpack_public_path__ + \"static/media/sign-in.2d188652.svg\";","module.exports = __webpack_public_path__ + \"static/media/sign-out.80e1990a.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.785b6480.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_down.84da5a29.svg\";","import React,{ createContext,useState , useEffect, useContext } from \"react\";\r\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\r\nimport Aviator from 'aviator';\r\nimport {Message} from 'shineout'\r\n\r\n\r\n\r\n/**\r\n * Creates a Notiry Popup\r\n * @param {string} msg\r\n * @param {string} title\r\n */\r\nfunction notify(msg = \"Message\", title = \"Title\", type = null){\r\n  const data = {position:\"top-right\", title};\r\n   switch(type){\r\n      case \"info\":\r\n        Message.info(msg, 5, data);\r\n        break;\r\n      case \"error\":\r\n        Message.error(msg, 5, data);\r\n        break;\r\n      case \"success\":\r\n        Message.success(msg,5,data) ;\r\n        break;   \r\n      default:\r\n        Message.show(msg, 5, data);\r\n        break;\r\n   }\r\n \r\n}\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () => Aviator.naviagte(\"/\");\r\n\r\nexport const Auth0Context = createContext();\r\n\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\n/**\r\n * JSX Element providing Auth0 functions \r\n */\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes(\"code=\")) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n        notify(`Welcome ${ await user.name}`,\"Login\",\"success\");\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      notify(\"There was a error when logging in!\",\"Login Error\",\"error\")\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    if(user) {\r\n      setIsAuthenticated(true);\r\n      notify(`Welcome ${ await user.name}`,\"Login\",\"success\");\r\n    }\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n\r\n\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) =>  auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};","import * as THREE from 'three';\r\nimport {EntityManager} from 'yuka';\r\nimport CameraControls from 'camera-controls';\r\nimport { Interaction } from 'three.interaction';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\r\nimport { FXAAShader} from 'three/examples/jsm/shaders/FXAAShader';\r\nimport { ShaderPass }from 'three/examples/jsm/postprocessing/ShaderPass';\r\nimport Stats from 'stats.js';\r\n\r\n\r\nexport const entityManager = new EntityManager();\r\nexport const scene = new THREE.Scene();\r\nconst st = new Stats();\r\n\r\nconst clock = new THREE.Clock();\r\nconst renderer = new THREE.WebGLRenderer({antialias: false});\r\nconst composer = new EffectComposer( renderer );\r\n\r\nlet camera, cameraControls;\r\nexport const threeDomElement = renderer.domElement;\r\nexport let frameId;\r\nfunction handleResize(){\r\n    renderer.setSize(window.innerWidth,window.innerHeight);\r\n    composer.setSize(window.innerWidth,window.innerHeight);\r\n    renderer.setPixelRatio( window.devicePixelRatio );\r\n    composer.setPixelRatio( window.devicePixelRatio );\r\n    camera.aspect = window.innerWidth/window.innerHeight;\r\n    camera.updateProjectionMatrix();\r\n  }\r\n\r\nconst animate = () =>{\r\n    const delta = clock.getDelta();\r\n    st.begin();\r\n    frameId = requestAnimationFrame(animate);\r\n    cameraControls.update(delta);\r\n    entityManager.update(delta)\r\n    composer.render();\r\n    st.end();\r\n  }\r\nexport function init(){\r\n    st.showPanel(1)\r\n    document.body.appendChild(st.dom);\r\n    CameraControls.install({THREE: THREE});\r\n\r\n    renderer.shadowMap.enabled = true;\r\n\r\n    camera = new THREE.OrthographicCamera(window.innerWidth/-200,window.innerWidth/200,window.innerHeight/200,window.innerHeight/-200,1,1000);\r\n    camera.position.set( 53, 57, 57 );\r\n    camera.rotation.set(-0.965,0.505,0.610);\r\n    camera.zoom =  0.16401226550047032;\r\n    camera.updateProjectionMatrix();\r\n\r\n    composer.addPass( new RenderPass( scene, camera ) );\r\n    const outlinePass = new OutlinePass(new THREE.Vector2(window.innerWidth,window.innerHeight), scene, camera);\r\n    outlinePass.edgeStrength = 5;\r\n    outlinePass.edgeGlow = 0;\r\n    outlinePass.edgeThickness = 3;\r\n    outlinePass.pulsePeriod = 0;\r\n    outlinePass.hiddenEdgeColor.set(\"#ffffff\");\r\n    outlinePass.visibleEdgeColor.set(0x0000ff);\r\n    composer.addPass(outlinePass);\r\n\r\n    const effectFXAA = new ShaderPass(FXAAShader);\r\n    effectFXAA.uniforms['resolution'].value.set(1/window.innerWidth, 1/window.innerHeight);\r\n    composer.addPass(effectFXAA);\r\n    const bb = new THREE.Box3(\r\n      new THREE.Vector3( 20, 0, 20 ),\r\n      new THREE.Vector3( 50, 50, 50 )\r\n    );\r\n\r\n    cameraControls = new CameraControls( camera, threeDomElement);\r\n    cameraControls.dollySpeed = 0.9;\r\n    cameraControls.maxZoom = 0.5;\r\n    cameraControls.minZoom = 0.09;\r\n    cameraControls.setBoundary(bb);\r\n    new Interaction(renderer,scene,camera);\r\n\r\n    renderer.setSize(window.innerWidth,window.innerHeight);\r\n    composer.setSize(window.innerWidth,window.innerHeight);\r\n    renderer.setPixelRatio( window.devicePixelRatio );\r\n    composer.setPixelRatio( window.devicePixelRatio );\r\n    camera.aspect = window.innerWidth/window.innerHeight;\r\n\r\n    const lightGroup = new THREE.Group();\r\n    const directionalLight = new THREE.DirectionalLight(0xddffdd, 0.6);\r\n    directionalLight.position.set(0,200,0);\r\n    directionalLight.rotation.set(25,0,0);\r\n    directionalLight.castShadow = true;\r\n    directionalLight.shadow.mapSize.width = 1024;\r\n    directionalLight.shadow.mapSize.height = 1024;\r\n    lightGroup.add(directionalLight);\r\n    const hemisphere = new THREE.HemisphereLight();\r\n    lightGroup.add(hemisphere);\r\n    lightGroup.add(new THREE.AmbientLight(0xaaaaaa, 0.2));\r\n    scene.add(lightGroup);\r\n\r\n    if(!frameId){\r\n        frameId = requestAnimationFrame(animate)\r\n      }else{\r\n        animate();\r\n      }\r\n      window.addEventListener(\"resize\", handleResize, false);\r\n}\r\n\r\n","import Aviator from \"aviator\";\r\n/*\r\n    {id:\"GAMEID\", mapdata:{MAPDATA}, data:{GAMEDATA}}\r\n*/\r\nexport const savedGames = {\r\n    get: async() =>{\r\n         return JSON.parse(localStorage.getItem('save-sp'));\r\n    },\r\n    set: (data)=>{\r\n        localStorage.setItem('save-sp',data);\r\n    },\r\n    remove: ()=>{\r\n        localStorage.removeItem('save-sp');\r\n    },\r\n    hasSave: ()=>{\r\n        if(localStorage.getItem('save-sp')){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\n/*\r\n    [\r\n        {name: \"NAME\", id:\"GAMEID\", mapdata:{MAPDATAOBJECT}, data:{GAMEDATA} },\r\n        {name: \"NAME\", id:\"GAMEID\", mapdata:{MAPDATAOBJECT}, data:{GAMEDATA} }\r\n    ]\r\n*/\r\nexport const savedlocalMPGames = {\r\n    get: () =>{\r\n         return JSON.parse(localStorage.getItem('save-mp'));\r\n    },\r\n    set: (data)=>{\r\n        localStorage.setItem('save-mp',JSON.stringify(data));\r\n    },\r\n    remove: ()=>{\r\n        //TODO \r\n        // get game id => remove from array but keep array\r\n    },\r\n    hasSaves: ()=>{\r\n        let storage = localStorage.getItem('save-mp');\r\n        if(storage !== null){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * main var to get, set and remove settings\r\n * @function get() gets the settings from localstorge\r\n * @function set(data,current) set new values to settings\r\n * @function remove() remove settings from localstorge\r\n * @function isVaild() to check if vaules exsist \r\n */\r\nexport const loadSettings = {\r\n    /** \r\n     * @var default the defaults for settings\r\n    */\r\n    default: {\r\n    sound_effects: true, \r\n    ambience: true, \r\n    tribe_music: true, \r\n    suggestions:true,\r\n    info_on_build:true,\r\n    confirm_turn:true,\r\n    volume: 100\r\n  },\r\n    get: () =>{\r\n        return JSON.parse(localStorage.getItem('settings'));\r\n   },\r\n   /**\r\n    * @param {Object} data data to set\r\n    * @param {Object} current the orginal data \r\n    */\r\n   set: (data,current)=>{\r\n       localStorage.setItem('settings', JSON.stringify(Object.assign({},current,data)));\r\n       return JSON.parse(localStorage.getItem('settings'));\r\n   },\r\n   remove: ()=>{\r\n       localStorage.removeItem('settings');\r\n   },\r\n   isVaild:()=>{\r\n       let isSettings = localStorage.getItem('settings');\r\n       if(isSettings === null){\r\n           localStorage.setItem('settings', JSON.stringify(loadSettings.default))\r\n           return false;\r\n       }\r\n       return true\r\n   }\r\n};\r\n\r\n/**\r\n * Get the queary prams from the url\r\n * @returns {object} queary parms object\r\n */\r\nexport const getQueryParams = ()=> {\r\n  let object = {};\r\n  let uri = Aviator.getCurrentURI()\r\n    .replace(/\\/(.*)\\/(.*)\\/(.*)\\?/, \"\")\r\n    .replace(/\\/(.*)\\/(.*)\\?/, \"\")\r\n    .replace(/\\/(.*)\\?/, \"\")\r\n    .split(/=|&/);\r\n  let reali = 0;\r\n  let array = [];\r\n  for (let i = 0; i < (uri.length/2); i++) {\r\n      if(uri[reali].includes(\"[]\")){\r\n         array.push(uri[reali+1]);\r\n         Object.assign(object, JSON.parse(`{\"${uri[reali].replace(\"[]\",\"\")}\":${JSON.stringify(array)}}`));\r\n      }else{\r\n        Object.assign(object, JSON.parse(`{\"${uri[reali]}\":\"${uri[reali+1]}\"}`));\r\n      }\r\n    reali +=2\r\n  }\r\n\r\n  return object;\r\n}\r\nexport const CONFIG = {\r\n    data : {},\r\n    load: async()=>{\r\n      try{\r\n        let data = await fetch(\"/config/config.json\").then(res=>res.json());\r\n        CONFIG.data = data;\r\n      }catch(e){\r\n          console.error(\"Failed to load config\")\r\n      }\r\n    }\r\n}; \r\n\r\n/**\r\n * Fetch data from backend\r\n * @async\r\n * @param {string} path \r\n * @param {Object} params \r\n * @returns {Object} server data\r\n */\r\nexport const Post = async(path,params)=>{\r\n  const response = await fetch(`http://localhost:8000/${path}`,{\r\n    method: \"POST\",\r\n    mode:\"cors\",\r\n    body: JSON.stringify(params),\r\n    headers:{\r\n      'Content-Type':'application/json'\r\n    }\r\n  });\r\n  return await response.json();\r\n}\r\n\r\nexport const combineQuery = (query)=>{\r\n    return Object.assign({}, query, getQueryParams());\r\n} \r\n\r\nexport const global = {\r\n    showingView: false,\r\n    preId: 0\r\n}\r\n","import { Mesh } from 'three';\r\nimport Aviator from 'aviator';\r\nimport {global} from './utility';\r\n/**\r\n * @typedef Position \r\n * @type {object}\r\n * @property {number} x \r\n * @property {number} y\r\n * @property {number} z \r\n */\r\n/**\r\n * @typedef ObjectUserData\r\n * @type {object}\r\n * @property {string} type\r\n * @property {string} faction\r\n * @property {number[]=} children\r\n * @property {object=} canBuild\r\n * @property {number} variation\r\n * @property {(number | null)} parent\r\n * @property {number=} click\r\n */\r\n /**\r\n *  Class For Creating blocks for the world map\r\n * @param models - the loaded OBJ and MTL object\r\n */\r\nexport default class CREATE {\r\n    constructor(models) {\r\n        this.models = models;\r\n    }\r\n    /** Main Blocks that world contants */\r\n    /**\r\n    *  This Method return a Water block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @param {number} rotation - rotation of the block\r\n    * @returns {Mesh} THREE Mesh Object\r\n    */\r\n    Water = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { water } = this.models;\r\n            let mesh = new Mesh(water.geometry[variation], water.material[variation]);\r\n            mesh.name = \"water_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', (ev)=> {\r\n                if(!global.showingView && ((ev.data.target.userData.click < 1) || (global.preId !== ev.data.target.id))){\r\n                    Aviator.navigate(\"/game/view/water\",{queryParams:{blockId: ev.data.target.id}});\r\n                    ev.data.target.userData.click++;\r\n                    global.preId = ev.data.target.id;\r\n                }else{\r\n                    Aviator.navigate(\"/game\");\r\n                        ev.data.target.userData.click = 0;\r\n                }  \r\n            });\r\n            mesh.userData = {\r\n                type: \"Water\",\r\n                faction: faction,\r\n                children: [],\r\n                canBuild: {},\r\n                variation: variation,\r\n                parent: null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY( Math.PI * rotation/180);\r\n            return mesh;\r\n    };\r\n    /**\r\n    *  This Method return a Field block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Field = (pos, faction = null, variation = 0) => {\r\n            const { field } = this.models;\r\n            let mesh = new Mesh(field.geometry[0], field.material[0]);\r\n            mesh.name = `field_${variation}`;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', ev=> {\r\n                if(!global.showingView && ((ev.data.target.userData.click < 1) || (global.preId !== ev.data.target.id))){\r\n                    Aviator.navigate(\"/game/view/field\",{queryParams:{blockId: ev.data.target.id}});\r\n                    ev.data.target.userData.click++;\r\n                    global.preId = ev.data.target.id;\r\n                }else{\r\n                    Aviator.navigate(\"/game\");\r\n                        ev.data.target.userData.click = 0;\r\n                }\r\n            });\r\n            mesh.userData = {\r\n                type: \"Field\",\r\n                faction: faction,\r\n                children: [],\r\n                canBuild: { fram: { cost: 0} },\r\n                variation: variation,\r\n                parent:null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n    };\r\n    /**\r\n    *  This Method return a Ocean block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @param {number} rotation - The rotation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Ocean = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { ocean } = this.models;\r\n            let mesh = new Mesh(ocean.geometry[variation], ocean.material[variation]);\r\n            mesh.name = \"ocean_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', ev=> {\r\n                if(!global.showingView && ((ev.data.target.userData.click < 1) || (global.preId !== ev.data.target.id))){\r\n                    Aviator.navigate(\"/game/view/ocean\",{queryParams:{blockId: ev.data.target.id}});\r\n                    ev.data.target.userData.click++;\r\n                    global.preId = ev.data.target.id;\r\n                }else{\r\n                    Aviator.navigate(\"/game\");\r\n                        ev.data.target.userData.click = 0;\r\n                }\r\n            });\r\n            mesh.userData = {\r\n                type: \"Ocean\",\r\n                faction: faction,\r\n                children: [],\r\n                canBuild: {},\r\n                variation: variation,\r\n                parent: null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY(Math.PI * rotation/180);\r\n            return mesh;\r\n    };\r\n    /**  Function blocks */\r\n    /**\r\n    *  This Method return a Field block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Tree = (pos, faction = null, variation = 0) => {\r\n            const { tree } = this.models;\r\n            let mesh = new Mesh(tree.geometry[variation], tree.material[variation]);\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', function(ev) {console.log(ev)});\r\n            mesh.name = \"tree_\"+variation;\r\n            mesh.userData = {\r\n                type: \"TREE\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n    };\r\n    /**\r\n    * This Method return a Wall block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Wall = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { wall } = this.models;\r\n            let mesh = new Mesh(wall.geometry[variation], wall.material[variation]);\r\n            mesh.name = \"wall_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', function(ev) {console.log(ev)});\r\n            mesh.userData = {\r\n                type: \"WALL\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY(Math.PI * rotation/180);\r\n            return mesh;\r\n    };\r\n    /**\r\n    *  create a Fruit block mesh\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Fruit = (pos, faction = null, variation = 0) => {\r\n            const { fruit } = this.models;\r\n            let mesh = new Mesh(fruit.geometry[variation], fruit.material[variation]);\r\n            mesh.name = \"fruit_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', function(ev) {console.log(ev)});\r\n            mesh.userData = {\r\n                type: \"Fruit\",\r\n                faction: faction,\r\n                variation: variation,\r\n                parent: null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n    };\r\n    /** Non function blocks  */\r\n    /**\r\n    *  This Method return a Cloud block;\r\n    * @param {Position} pos - x, y ,z \r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Cloud = (pos) => {\r\n        const { cloud } = this.models;\r\n        let mesh = new Mesh(cloud.geometry[0], cloud.material[0]);\r\n        mesh.name = \"cloud\";\r\n        mesh.cursor = 'pointer';\r\n        mesh.on('click', function(ev) { /** TODO || add animation */});\r\n        mesh.userData = {\r\n            type: \"Cloud\",\r\n            faction: null,\r\n            variation: 0\r\n        };\r\n        mesh.position.set(pos.x, pos.y, pos.z);\r\n        return mesh;\r\n    };\r\n    /**\r\n    *  This Method return a Slector\r\n    * @param {string} user - The faction to who the Slector belongs\r\n    * @param {number} y - The y axis\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Slector = (user, y = 0, variation = 0) => {\r\n            const { slector } = this.models;\r\n            let mesh = new Mesh(slector.geometry[0], slector.material[variation]);\r\n            mesh.name = `slector_${user}`;\r\n            mesh.renderOrder = 1;\r\n            mesh.userData = {\r\n                type: \"Slector\",\r\n                user: user,\r\n                variation: variation\r\n            };\r\n            mesh.position.set(0, y, 0);\r\n            return mesh;\r\n    };\r\n}\r\n","import SimplexNoise from 'simplex-noise';\r\nimport CREATE from './createBlockMesh';\r\nimport {Group} from 'three';\r\nimport {scene} from '../contaner/Game/scene';\r\n\r\n\r\n\r\nexport default class WorldGenerationV3{\r\n    constructor(assets, settings){\r\n        this.settings = settings;\r\n        this.models = new CREATE(assets);\r\n        this.noise = new SimplexNoise();\r\n    }\r\n    /**\r\n     * Load World from save\r\n     * @param {boolean} mp is a local mp game.\r\n     * @param {string=} id id of local mp game \r\n     */\r\n    loadworld(mp, id){\r\n    \r\n    }\r\n    /**\r\n     *  creates noise\r\n    * @param {number} height the x axis of the world\r\n    * @param {number} width the y axis of the world\r\n    */\r\n    worldNoise(width,height){\r\n        let value = [];\r\n        for (let y = 0; y < height; y++){\r\n            value[y] = [];\r\n            for(let x = 0; x < width; x++){\r\n                let nx = x/width - 0.5, ny = y/height -0.5;\r\n                value[y][x] = this.noise.noise2D(nx, ny)/2+0.5;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n    createWorld(){\r\n        const worldGroup = new Group();\r\n        const worldSize = {121:11,256:16,324:18,400:20}\r\n        const {Field,Ocean,Water, Slector} = this.models;\r\n        const {data} = this.settings;\r\n        const noise = this.worldNoise(worldSize[data.mapsize],worldSize[data.mapsize]);\r\n        const placementArray = [];\r\n        const worldIndex = [];\r\n        let row = 0;\r\n        let colum = 0;\r\n        /**\r\n         *  @todo add system to create a slector for every real player\r\n         *  @body \r\n         */\r\n        let userid = data.players.split(\"_\");\r\n        worldGroup.add(Slector(userid[0], -2, 0));\r\n        // change noise into a \"String\" so that it can be tested for Ocean blocks by Fields\r\n        for(let y = 0; y <= noise.length-1; y++){\r\n            placementArray.push([])\r\n               for(let x = 0; x <= noise[y].length-1; x++){\r\n                placementArray[y].push(this.blockPlacement(noise[y][x]));      \r\n               }   \r\n        }\r\n         // set roation and variation for water and oceans and block coords\r\n        for(let a = 0; a <= placementArray.length-1; a++){\r\n            worldIndex.push([]);\r\n            for(let b = 0; b <= placementArray[a].length-1; b++){\r\n                switch (placementArray[a][b]) {\r\n                    case \"WATER\": {\r\n                        let waterSides = 0;\r\n                        let wo = [];\r\n                        let rotation = 0;\r\n                        placementArray[a][b+1] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a][b-1] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a+1] === undefined ? waterSides+=0 : placementArray[a+1][b] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a-1] === undefined ? waterSides+=0 : placementArray[a-1][b] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        if(waterSides === 2){\r\n                           placementArray[a][b+1] === \"WATER\" && placementArray[a][b-1] === \"WATER\" ? waterSides = 5: waterSides+=0;\r\n                          if( placementArray[a+1] !== undefined && placementArray[a-1] !== undefined){\r\n                            placementArray[a+1][b] === \"WATER\" && placementArray[a-1][b] === \"WATER\" ? waterSides = 5: waterSides+=0;\r\n                          } \r\n                          \r\n                        }\r\n                            //front\r\n                            placementArray[a][b+1] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //back\r\n                            placementArray[a][b-1] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //right\r\n                            placementArray[a+1] === undefined ? wo.push(false) : placementArray[a+1][b] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //left\r\n                            placementArray[a-1] === undefined ? wo.push(false) : placementArray[a-1][b] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            if(waterSides===1){\r\n                                if(wo[0]===true && wo[1]===false && wo[2]===false && wo[3]===false){\r\n                                    rotation = 90;\r\n                                }else if(wo[0]===false && wo[1]===false && wo[2]===true && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===false && wo[1]===true && wo[2]===false && wo[3]===false){\r\n                                    rotation = 270;\r\n                                }else{\r\n                                    rotation = 180;\r\n                                }\r\n                            }\r\n                            if(waterSides===2){\r\n                                if(wo[0]===false && wo[1]===true && wo[2]===false && wo[3]===true){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===true && wo[1]===false && wo[2]===false && wo[3]===true){\r\n                                    rotation = 270;\r\n                                }else if(wo[0]===true && wo[1]===false && wo[2]===true && wo[3]===false){\r\n                                    rotation = 180;\r\n                                }else{\r\n                                    rotation = 90;\r\n                                }\r\n                            }\r\n                            if(waterSides===3){\r\n                                if(wo[0]===true && wo[1]===false && wo[2]===true && wo[3]===true){\r\n                                    rotation = 90;\r\n                                }else if(wo[0]===true && wo[1]===true && wo[2]===true && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===false && wo[1]===true && wo[2]===true && wo[3]===true){\r\n                                    rotation = 270;\r\n                                }else{\r\n                                    rotation = 180;\r\n                                }\r\n                            }\r\n                            if(waterSides===5){\r\n                                if(wo[0]===true && wo[1]===true && wo[2]===false && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else{\r\n                                    rotation = 90;\r\n                                }\r\n                            }\r\n\r\n                        worldIndex[a].push({type: placementArray[a][b], variation: waterSides, rotation, coords:{x:row,y:colum}});\r\n                        break;\r\n                    }\r\n                    case \"OCEAN\":{\r\n                            let oceanSides = 0;\r\n                            let oo = [];\r\n                            let oceanRotation = 0;\r\n                            placementArray[a][b+1] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a][b-1] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a+1] === undefined ? oceanSides+=0 : placementArray[a+1][b] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a-1] === undefined ? oceanSides+=0 : placementArray[a-1][b] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            if(oceanSides === 2){\r\n                               placementArray[a][b+1] === \"OCEAN\" && placementArray[a][b-1] === \"OCEAN\" ? oceanSides = 5: oceanSides+=0;\r\n                              if( placementArray[a+1] !== undefined && placementArray[a-1] !== undefined){\r\n                                placementArray[a+1][b] === \"OCEAN\" && placementArray[a-1][b] === \"OCEAN\" ? oceanSides = 5: oceanSides+=0;\r\n                              } \r\n                              \r\n                            }\r\n                            if((oceanSides > 0 && oceanSides < 4) || oceanSides === 5 ){\r\n                                //front\r\n                                placementArray[a][b+1] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //back\r\n                                placementArray[a][b-1] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //right\r\n                                placementArray[a+1] === undefined ? oo.push(false) : placementArray[a+1][b] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //left\r\n                                placementArray[a-1] === undefined ? oo.push(false) : placementArray[a-1][b] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n    \r\n                                if(oceanSides===1){\r\n                                    if(oo[0]===true && oo[1]===false && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 270;\r\n                                    }else if(oo[0]===false && oo[1]===false && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 180;\r\n                                    }else if(oo[0]===false && oo[1]===true && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 90;\r\n                                    }else{\r\n                                        oceanRotation = 0;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===2){\r\n                                    if(oo[0]===false && oo[1]===true && oo[2]===false && oo[3]===true){\r\n                                        oceanRotation = 0;\r\n                                    }else if(oo[0]===true && oo[1]===false && oo[2]===false && oo[3]===true){\r\n                                        oceanRotation = 270;\r\n                                    }else if(oo[0]===true && oo[1]===false && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 180;\r\n                                    }else{\r\n                                        oceanRotation = 90;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===3){\r\n                                    if(oo[0]===true && oo[1]===false && oo[2]===true && oo[3]===true){\r\n                                        oceanRotation = 90;\r\n                                    }else if(oo[0]===true && oo[1]===true && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 0;\r\n                                    }else if(oo[0]===false && oo[1]===true && oo[2]===true && oo[3]===true){\r\n                                        oceanRotation = 270;\r\n                                    }else{\r\n                                        oceanRotation = 180;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===5){\r\n                                    if(oo[0]===true && oo[1]===true && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 90;\r\n                                    }else{\r\n                                        oceanRotation = 0;\r\n                                    }\r\n                                }\r\n                            }\r\n                            worldIndex[a].push({type: placementArray[a][b], variation: oceanSides, rotation: oceanRotation, coords:{x:row,y:colum}});\r\n                        break;\r\n                    }\r\n                    default:\r\n                        worldIndex[a].push({type: placementArray[a][b], variation: 0, rotation: 0, coords:{x:row,y:colum}});\r\n                        break;\r\n                }\r\n                row +=2\r\n            }\r\n            if(row > worldSize[data.mapsize]){\r\n                colum +=2;\r\n                row = 0;\r\n            }\r\n        }\r\n        worldIndex.forEach(array=>{\r\n            array.forEach(object=>{\r\n                switch(object.type){\r\n                    case \"WATER\":\r\n                            worldGroup.add(Water({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    case \"OCEAN\":\r\n                            worldGroup.add(Ocean({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    case \"FIELD\":\r\n                            worldGroup.add(Field({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    default:\r\n                        console.warn(\"?\");\r\n                        break;\r\n                }\r\n            });\r\n        });\r\n\r\n    scene.add(worldGroup);\r\n       \r\n    }\r\n    blockPlacement(int){\r\n        if(int <=0.25){\r\n            return \"OCEAN\";\r\n        }else if(int < 0.45 && int > 0.25){\r\n            return \"WATER\";\r\n        }else{\r\n            return \"FIELD\";\r\n        }\r\n    }\r\n}","import {TimelineMax} from 'gsap'\r\nimport Aviator from 'aviator';\r\n\r\n\r\nexport const ViewOut = ()=>{\r\n    const tl = new TimelineMax();\r\n    tl.to(\"#view-block\", { y: 200 , ease: \"power4.easeIn\", duration: 0.8});\r\n    setTimeout(()=>{\r\n        Aviator.navigate(\"/game\");\r\n    },805)\r\n}\r\nexport const ViewIn = ()=>{\r\n     const tl = new TimelineMax();\r\n     tl.from(\"#view-block\", { y: 100 , ease: 'power3.easeOut', duration: 1 });\r\n}\r\n\r\nexport const loadingMenu = (state)=>{\r\n    const tl = new TimelineMax();\r\n    tl.from(\"#game-loading-h1\", { ease: \"power3.inOut\", duration: 2.8, opacity: 0}).then(()=>{\r\n        tl.to(\"#game-loading\", { ease: \"power3.inOut\", duration: 2, opacity: 0});\r\n        tl.to(\"#game-loading-h1\", { ease: \"power1.out\", duration: .2, opacity: 0});\r\n        tl.then(state)\r\n    });\r\n}","\r\n\r\nconst onMessageHandler = async(msg) =>{\r\n    /** @type {import(\"./index\").ServerMessage}*/\r\n    let data = await JSON.parse(msg.data);\r\n    console.log(data)\r\n    switch (data.type) {\r\n         case \"LOGIN\":\r\n             if(data.payload.token === null){\r\n                data.payload.id = ws.userToken;\r\n             }else if(data.payload.id === null){\r\n                data.payload.token = ws.userToken;\r\n             }\r\n             break;\r\n         case \"SYSTEM\":\r\n            ws.messageSystem.push(data);\r\n            break;\r\n         case \"GAME\":\r\n            ws.messageGame.push(data)\r\n            break;\r\n         case \"REQUEST\":\r\n            ws.getRequest.push(data);\r\n            break;\r\n         case \"ERROR\":\r\n\r\n             break;\r\n         default:\r\n            break;\r\n    }\r\n }\r\n const onCloseHandler = event =>{\r\n    ws.send({type:\"EXIT\"})\r\n  \r\n }\r\n const onErrorHandler = event =>{\r\n      ws.errorMessages.push({type:\"client\", error: event});\r\n }\r\n /** @type {import(\"./index\").WebSocketClient}*/\r\n export const ws = {\r\n     socket: null,\r\n     userToken: null,\r\n     systemMessage: [],\r\n     gameMessage: [],\r\n     requestReponse: [],\r\n     errorMessages: [],\r\n     currentRequest: function(){\r\n         return this.requestReponse[this.requestReponse.length-1];\r\n     },\r\n     init: function(id = null, token = null, host = \"ws://localhost:8000/polytopia\"){\r\n         try{\r\n             this.socket = new WebSocket(host);\r\n             this.socket.onopen = ()=>{\r\n                 // login to the websocket my send auth0 Token and user id\r\n                   const loginMsg = {\r\n                                         type:\"LOGIN\",\r\n                                         payload:{\r\n                                             token\r\n                                         },\r\n                                         id,\r\n                                         date: Date.now()\r\n                                     };\r\n                   this.socket.send(JSON.stringify(loginMsg));\r\n                   this.readyState = this.socket.readyState;\r\n             };\r\n             this.socket.onmessage = onMessageHandler;\r\n             this.socket.onclose = onCloseHandler;\r\n             this.socket.error = onErrorHandler;\r\n             this.readyState = this.socket.readyState\r\n         }catch(e){\r\n             /** \r\n              * @todo Add method to attempted a reconnect\r\n             */\r\n            console.error(\"Websocket error\")\r\n         }\r\n         return this;\r\n     },\r\n\r\n     send: async function(msg){\r\n         try{\r\n             this.socket.send(JSON.stringify(Object.assign({},msg,{id: this.userToken, date: Date.now()})));\r\n         }catch(e){\r\n             //TODO, and method to try again\r\n             console.warn(\"Did not send msg\");\r\n         }\r\n         return this;\r\n     },\r\n     quit: async function(){\r\n         if(this.socket !== null){\r\n             this.socket.close();\r\n             this.socket = null;\r\n         }\r\n         return this;\r\n     },\r\n     reconnect: async function(){\r\n         this.quit();\r\n         this.init();\r\n         return this;\r\n     }\r\n }\r\n ","import React, {useState, useContext, useEffect, createContext} from 'react';\r\nimport {Random} from 'random-js';\r\n\r\nconst random = new Random();\r\nexport const PolytopiaGameContext = createContext();\r\nexport const usePolytopiaGame = () => useContext(PolytopiaGameContext);\r\n\r\nfunction createPlayer(opt){\r\n  switch (opt.faction) {\r\n    case \"xin-xi\":\r\n      return [{\r\n        id: opt.id,\r\n        score: 0,\r\n        faction: \"xin-xi\",\r\n        tech: [\"climbing\"],\r\n        stars: 5,\r\n        starsPerTurn: 2\r\n      }];\r\n    case \"imperius\":\r\n        return [{\r\n          id: opt.id,\r\n          score: 0,\r\n          faction:\"imperius\",\r\n          tech: [\"organization\"],\r\n          stars: 5,\r\n          starsPerTurn: 2\r\n        }];\r\n    case \"bardur\":\r\n        return [{\r\n          id: opt.id,\r\n          score: 0,\r\n          faction: \"bardur\",\r\n          tech: [\"hunting\"],\r\n          stars: 5,\r\n          starsPerTurn: 2\r\n        }];  \r\n    case \"oumaji\":\r\n      return [{\r\n        id: opt.id,\r\n        score: 0,\r\n        faction: \"oumaji\",\r\n        tech:[\"riding\"],\r\n        stars: 5,\r\n        starsPerTurn: 2\r\n      }];\r\n    case \"vengir\":\r\n      return [{\r\n        id: opt.id,\r\n        score: 0,\r\n        faction: \"vengir\",\r\n        tech: [\"smithery\"],\r\n        stars: 5,\r\n        starsPerTurn: 2\r\n      }];\r\n    default:\r\n      return [{\r\n        id: opt.id,\r\n        score: 0,\r\n        faction: null,\r\n        tech: [],\r\n        stars: 5,\r\n        starsPerTurn: 2\r\n      }]\r\n  }\r\n}\r\n\r\n\r\n/*\r\n{\r\n  mode: String, \r\n  player:\"player_random\" || player:[\"player_random\",\"player_random\"]\r\n\r\n}\r\n*/\r\nexport const PolytopiaGameProvider = ({ children, data})=>{\r\n    const [mp, setMP] = useState(false);\r\n    const [mode,setMode] = useState(\"custom\");\r\n    const [currentPlayer, setCurrentPlayer] = useState(0);\r\n    const [players, setPlayers] = useState([]);\r\n    const [turns, setTurns] = useState(0);\r\n    useEffect(()=>{\r\n      const init = async()=>{\r\n        let mp = (data.mp === \"true\");\r\n        setMP(mp)\r\n        setMode(data.mode);\r\n        if(!mp) {\r\n          let playerF = data.players.replace(\"player_\",\"\");\r\n          if(playerF === \"random\"){\r\n            playerF = random.pick([\"xin-xi\",\"imperius\",\"bardur\",\"oumaji\",\"vengir\"])\r\n          }\r\n          setPlayers(createPlayer({id: \"player\" , faction: playerF}));\r\n        }else{\r\n          let newPlayers = [];\r\n          for(let item in data.player){\r\n              let playerdata = item.split(\"_\");\r\n              newPlayers.push(createPlayer({id: playerdata[0], faction: playerdata[1]}));\r\n          }\r\n          setPlayers(newPlayers)\r\n        }\r\n        \r\n        setCurrentPlayer(0);\r\n      }\r\n      init();\r\n    },[]);\r\n\r\n    const addTurn = ()=>{\r\n         setTurns(turns+1);\r\n    }\r\n\r\n    return <PolytopiaGameContext.Provider value={{\r\n      mp, \r\n      mode, \r\n      players, \r\n      currentPlayer, \r\n      turns,\r\n      addTurn\r\n      }}>\r\n                {children}\r\n           </PolytopiaGameContext.Provider>\r\n}\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport WorldGenerationV3 from '../../scripts/wordGenerationv3';\r\nimport {getQueryParams} from '../../scripts/utility';\r\nimport {loadingMenu} from '../../scripts/anim';\r\nimport {ws} from '../../scripts/websocket';\r\nimport {PolytopiaGameProvider} from './GameProvider';\r\nimport {init, scene, threeDomElement, frameId } from './scene';\r\nimport './Game.sass';\r\n\r\n\r\n\r\nconst mapStateToProps = state => {return {\r\n assets:state.gameAssetsLoad.assets\r\n}}\r\nconst mapDispatchToProps = dispatch => {return {}}\r\nclass Game extends Component{\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      loading: true\r\n    }\r\n    this.quaryData = getQueryParams();\r\n  }\r\n\r\n  setLoading = () =>{\r\n    this.setState({loading: false});\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    this.mount.appendChild(threeDomElement);\r\n    init();\r\n    loadingMenu(this.setLoading);\r\n    setTimeout(()=>{\r\n      scene.background = this.props.assets.textures.background;\r\n      new WorldGenerationV3(this.props.assets,{data: this.quaryData}).createWorld();\r\n\r\n    },3000);\r\n    \r\n  }\r\n  componentWillUnmount(){\r\n    ws.send({type:\"EXIT\"});\r\n    cancelAnimationFrame(frameId);\r\n    this.mount.removeChild(threeDomElement);\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n      <PolytopiaGameProvider data={this.quaryData}>\r\n        { this.state.loading ?\r\n        <div id=\"game-loading\">\r\n          <h1 id=\"game-loading-h1\">Creating world</h1>\r\n        </div> : null\r\n        }\r\n       <div id=\"three-scene\" ref={mount => {this.mount = mount}}>\r\n         {this.props.children}\r\n       </div>\r\n       </PolytopiaGameProvider>\r\n    );\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Game);\r\n\r\n\r\n","export const GAMEASSETSLOAD = { \r\n                            PENDING: \"GAMEASSETSLOAD_PENDING\", \r\n                            ERROR:\"GAMEASSETSLOAD_ERROR\",\r\n                            COMPLETE:\"GAMEASSETSLOAD_COMPLETE\",\r\n                            PROGRESS:\"GAMEASSETSLOAD_PROGRESS\"\r\n                          };\r\nexport const GAMELOCATION = \"GAMELOCATION\";","import {LoadingManager,TextureLoader} from 'three';\r\nimport {OBJLoader} from 'three/examples/jsm/loaders/OBJLoader';\r\nimport {MTLLoader} from 'three/examples/jsm/loaders/MTLLoader';\r\nimport * as rConst from './constants'\r\n\r\nimport backgroundImage from '../assets/images/background_game.webp';\r\n\r\nimport FieldObj from '../assets/models/field/field.obj';\r\nimport FieldMtl from '../assets/models/field/field.mtl';\r\n\r\nimport FruitOneObj from '../assets/models/fruit/fruit_one.obj';\r\nimport FruitOneMtl from '../assets/models/fruit/fruit_one.mtl';\r\n\r\nimport OceanObj from '../assets/models/ocean/ocean.obj';\r\nimport OceanNoneObj from '../assets/models/ocean/ocean_none.obj';\r\nimport OceanOneObj from '../assets/models/ocean/ocean_one.obj';\r\nimport OceanTwoObj from '../assets/models/ocean/ocean_two.obj';\r\nimport OceanTwoBObj from '../assets/models/ocean/ocean_two_b.obj';\r\nimport OceanThreeObj from '../assets/models/ocean/ocean_three.obj';\r\nimport OceanMtl from '../assets/models/ocean/ocean.mtl';\r\nimport OceanNoneMtl from '../assets/models/ocean/ocean_none.mtl';\r\nimport OceanOneMtl from '../assets/models/ocean/ocean_one.mtl';\r\nimport OceanTwoMtl from '../assets/models/ocean/ocean_two.mtl';\r\nimport OceanTwoBMtl from '../assets/models/ocean/ocean_two_b.mtl';\r\nimport OceanThreeMtl from '../assets/models/ocean/ocean_three.mtl';\r\n\r\nimport WaterObj from '../assets/models/water/water.obj';\r\nimport WaterNoneObj from '../assets/models/water/water_none.obj';\r\nimport WaterOneObj from '../assets/models/water/water_one.obj';\r\nimport WaterTwoObj from '../assets/models/water/water_two.obj';\r\nimport WaterTwoBObj from '../assets/models/water/water_two_b.obj';\r\nimport WaterThreeObj from '../assets/models/water/water_three.obj';\r\nimport WaterMtl from '../assets/models/water/water.mtl';\r\nimport WaterNoneMtl from '../assets/models/water/water_none.mtl';\r\nimport WaterOneMtl from '../assets/models/water/water_one.mtl';\r\nimport WaterTwoMtl from '../assets/models/water/water_two.mtl';\r\nimport WaterTwoBMtl from '../assets/models/water/water_two_b.mtl';\r\nimport WaterThreeMtl from '../assets/models/water/water_three.mtl';\r\n\r\nimport CloudObj from '../assets/models/cloud/cloud.obj';\r\nimport CloudMtl from '../assets/models/cloud/cloud.mtl';\r\n\r\nimport SlectorObj from '../assets/models/slector/slector.obj';\r\nimport SlectorNoneMtl from '../assets/models/slector/slector.mtl';\r\n//import slectorFactionMtl from '../assets/models/other/slectorFaction.mtl';\r\n\r\nimport TreeOneObj from '../assets/models/trees/tree_one.obj';\r\nimport TreeTwoObj from '../assets/models/trees/tree_two.obj';\r\nimport TreeOneMtl from '../assets/models/trees/tree_one.mtl';\r\nimport TreeTwoMtl from '../assets/models/trees/tree_two.mtl';\r\n\r\n\r\n/**\r\n * change the ingame content location \r\n * ex. displayer the block info box \r\n * @param {string} location \r\n */\r\nexport const setGameLocation = (location)=> dispatch =>{\r\n      dispatch({type:rConst.GAMELOCATION, payload: location});\r\n}\r\n\r\nlet assets = {    \r\nfield: {\r\n  geometry: {},\r\n  material:{}\r\n},\r\ncloud: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\nwater: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\nocean: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\ntree: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\nfruit:{\r\n  geometry:{},\r\n  material:{}\r\n},\r\nslector: {\r\n  geometry: {},\r\n  material: {}\r\n}\r\n};\r\nconst loadManager = new LoadingManager();\r\nconst textureLoader = new TextureLoader(loadManager);\r\nconst mtlLoader = new MTLLoader(loadManager).setResourcePath('./textures/');\r\nconst loadWaterAssets = async()=>{\r\n\r\n  await mtlLoader.load(WaterMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterObj,object=>{\r\n      assets.water.geometry[0] = object.children[0].geometry;\r\n       assets.water.material[0] = object.children[0].material;\r\n     \r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterThreeMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterThreeObj,object=>{\r\n      assets.water.geometry[1] = object.children[0].geometry\r\n      assets.water.material[1] = object.children[0].material\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterTwoMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterTwoObj,object=>{\r\n      assets.water.geometry[2] = object.children[0].geometry;\r\n      assets.water.material[2] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterOneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterOneObj,object=>{\r\n      assets.water.geometry[3] = object.children[0].geometry;\r\n      assets.water.material[3] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterNoneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterNoneObj,object=>{\r\n      assets.water.geometry[4] = object.children[0].geometry;\r\n      assets.water.material[4] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterTwoBMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterTwoBObj,object=>{\r\n      assets.water.geometry[5] = object.children[0].geometry;\r\n      assets.water.material[5] = object.children[0].material;\r\n    });\r\n  });\r\n}\r\nconst loadOceanAssets = async()=>{\r\n  await mtlLoader.load(OceanMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanObj,object=>{\r\n      assets.ocean.geometry[0] = object.children[0].geometry;\r\n      assets.ocean.material[0] = object.children[0].material;\r\n     \r\n    });\r\n  });\r\n  await mtlLoader.load(OceanThreeMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanThreeObj,object=>{\r\n      assets.ocean.geometry[1] = object.children[0].geometry\r\n      assets.ocean.material[1] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanTwoMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanTwoObj,object=>{\r\n      assets.ocean.geometry[2] = object.children[0].geometry;\r\n      assets.ocean.material[2] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanOneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanOneObj,object=>{\r\n      assets.ocean.geometry[3] = object.children[0].geometry;\r\n      assets.ocean.material[3] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanNoneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanNoneObj,object=>{\r\n      assets.ocean.geometry[4] = object.children[0].geometry;\r\n      assets.ocean.material[4] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanTwoBMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanTwoBObj,object=>{\r\n      assets.ocean.geometry[5] = object.children[0].geometry;\r\n      assets.ocean.material[5] = object.children[0].material;\r\n    });\r\n  });\r\n}\r\n/**\r\n * load game assets\r\n */\r\nexport const loadAssets = () => (dispatch) => {\r\n    loadManager.onStart=()=>{dispatch({type: rConst.GAMEASSETSLOAD.PENDING})};\r\n    loadManager.onLoad=()=>{dispatch({type: rConst.GAMEASSETSLOAD.COMPLETE, payload : assets})};\r\n    loadManager.onError=err=>{dispatch({type: rConst.GAMEASSETSLOAD.ERROR, payload:err})};\r\n    loadManager.onProgress=(url,itemsLoaded,itemsTotal)=>{dispatch({type: rConst.GAMEASSETSLOAD.PROGRESS, payload:{item: itemsLoaded, of: itemsTotal}})}\r\n\r\n    textureLoader.load(backgroundImage,(texture)=>{\r\n        assets.textures = {\r\n          background: texture\r\n        }\r\n      });\r\n      loadWaterAssets();\r\n      loadOceanAssets();\r\n      mtlLoader.load(FieldMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials);\r\n        objLoader.load(FieldObj,object=>{\r\n          assets.field.geometry[0] = object.children[0].geometry;\r\n          assets.field.material[0] = object.children[0].material;\r\n         \r\n        });\r\n      });\r\n      mtlLoader.load(CloudMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(CloudObj,object=>{\r\n          assets.cloud.geometry[0] = object.children[0].geometry;\r\n          assets.cloud.material[0] = object.children[0].material;\r\n         \r\n        });\r\n      });\r\n      mtlLoader.load(TreeOneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(TreeOneObj,object=>{\r\n          assets.tree.geometry[0] = object.children[0].geometry;\r\n          assets.tree.material[0] = object.children[0].material;\r\n         mtlLoader.load(TreeTwoMtl,materials=>{\r\n          materials.preload();\r\n          const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n          objLoader.load(TreeTwoObj,object=>{\r\n            assets.tree.geometry[1] = object.children[0].geometry;\r\n            assets.tree.material[1] = object.children[0].material;\r\n          });\r\n        });\r\n        });\r\n      });\r\n      mtlLoader.load(FruitOneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(FruitOneObj,object=>{\r\n          assets.fruit.geometry[0] = object.children[0].geometry;\r\n          assets.fruit.material[0] = object.children[0].material;\r\n        });\r\n      });\r\n      mtlLoader.load(SlectorNoneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(SlectorObj,object=>{\r\n          assets.slector.geometry[0] = object.children[0].geometry;\r\n          assets.slector.material[0] = object.children[0].material;\r\n        });\r\n      });\r\n}\r\n\r\n","import React, {Component} from 'react';\r\n\r\nexport default class ErrorBoundry extends Component{\r\nconstructor(props){\r\n super(props);\r\n this.state = {\r\n     error: \"\",\r\n     hasError: false\r\n }\r\n}\r\ncomponentDidCatch(e){\r\n this.setState({ error: e, hasError: true});\r\n}\r\nrender(){ \r\n    return this.state.hasError ? \r\n    <div>\r\n       <h1>There was an error!</h1>\r\n      <p>{this.state.error}</p>\r\n    </div> : this.props.children\r\n       }\r\n\r\n}","import React from 'react';\r\nimport ArrowPerv from '../../assets/images/icons/arrow_perv.svg';\r\nimport './BackButton.sass'\r\n\r\n/**\r\n * \r\n * @param {Function} clickfunc the func to run when clicked \r\n */\r\nconst BackButton = ()=> {\r\n    //TODO get font button => http://cdn.onlinewebfonts.com/svg/img_295694.svg\r\n return (<button className=\"back-button\" onClick={()=>{window.history.back()}}><img src={ArrowPerv} alt=\"back Icon\"/></button>);\r\n}\r\nexport default BackButton;","import React from 'react';\r\nimport {REVISION} from 'three';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {CONFIG} from '../../../scripts/utility';\r\nimport './About.sass'\r\nconst AboutPage = ()=> {\r\n return (\r\n        <div id=\"about\">\r\n            <BackButton/>\r\n            <h1>-ABOUT-</h1>\r\n\r\n            <section>\r\n                <h3>-Debug Info-</h3>\r\n                <p>Build version . . . . . {CONFIG.data.build}</p>\r\n                <p>THREE Revision . . . . . . . .{REVISION}</p>\r\n                <p>Screen size . . . . . . . . . {`${window.innerHeight}x${window.innerWidth}`}</p>\r\n            </section>\r\n\r\n        </div>\r\n        );\r\n}\r\nexport default AboutPage;","import React from 'react';\r\nimport \"./Loader.sass\";\r\n\r\nconst Loader = ()=> {\r\n return (\r\n    <div className=\"lds\"><div></div><div></div><div></div></div>\r\n        );\r\n}\r\nexport default Loader;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {useAuth0} from '../../../contaner/Auth/useAuth';\r\n//import NormalButton from '../../NormalButton/NormalButton';\r\nimport \"./ThroneRoom.sass\";\r\nconst ThroneRoom = ()=> {\r\n    const {isAuthenticated, user} = useAuth0();\r\n    let topScore = [];\r\n    let topRating = [];\r\n return ( \r\n        isAuthenticated ? \r\n        <div id=\"throneroom\">\r\n            <BackButton/>\r\n            <h1>-THRONE ROOM-</h1>\r\n            <section id=\"tr-player\">\r\n                <h4>-Player Info</h4>\r\n                <p>Alias . . . . . . .  {user.name}</p>\r\n                <p>Games Played . . . {`GET_GAMESPLAYED`}</p>\r\n            </section>\r\n            <section>\r\n                <h4>-Top Score-</h4>\r\n                {topScore.length > 0 ? <p>CONTETN</p>: <Loader/>}\r\n            </section>\r\n            <section>\r\n                <h4>-Top Rating-</h4>\r\n                {topRating.length > 0 ? <p>CONTETN</p>: <Loader/>}\r\n            </section>\r\n        </div> : \r\n        <div id=\"throneroom\">\r\n            <BackButton/>\r\n            <h1>-THRONE ROOM-</h1>\r\n            <h3>Plesse Login to View</h3>\r\n        </div>\r\n        );\r\n}\r\nexport default ThroneRoom;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport './HighScore.sass';\r\n\r\n\r\nconst list = [<div className=\"menu-item\" key={\"all_tribes\"}>All Tribes</div>,\r\n              <div className=\"menu-item\" key={\"xin_xi\"}>Xin-xi</div>,\r\n              <div className=\"menu-item\" key={\"imperius\"}>Imperius</div>,\r\n              <div className=\"menu-item\" key={\"bardar\"}>Bardar</div>,\r\n              <div className=\"menu-item\" key={\"oumaji\"}>Oumaji</div>,\r\n              <div className=\"menu-item\" key={\"vengir\"}>Vengir</div>\r\n             ];\r\nconst HighScore = ()=> {\r\n    let highScores = [];\r\n return (\r\n        <div id=\"highscore\">\r\n            <BackButton/>\r\n            <h1>-HIGH SCORE-</h1>\r\n            <ScrollMenu selected={\"vengir\"} data={list} wrapperClass={\"hr-menu\"}/>\r\n            <section>\r\n                {highScores.length > 0 ? <p>CONTENT</p>: <Loader/>}\r\n            </section>\r\n        </div>\r\n        );\r\n}\r\nexport default HighScore;","import React from \"react\";\r\nimport \"./ToggleButton.sass\";\r\n// TODO add onChange function callback\r\nconst ToggleButton = ({ id, text, checked ,change}) => {\r\n  if (checked === undefined) {\r\n    checked = true;\r\n  }\r\n  return (\r\n    <div className=\"toggle-button\">\r\n      <h5>{text}</h5>\r\n      <input\r\n        className=\"tgl tgl-skewed\"\r\n        id={id}\r\n        type=\"checkbox\"\r\n        defaultChecked={checked}\r\n        onChange={(v)=>{change(v)}}\r\n      />\r\n      <label\r\n        className=\"tgl-btn\"\r\n        data-tg-on=\"ON\"\r\n        data-tg-off=\"OFF\"\r\n        htmlFor={id}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleButton;\r\n","import React from \"react\";\r\nimport Aviator from \"aviator\";\r\nimport \"./NormalButton.sass\";\r\n/**\r\n * @param {string} text display text\r\n * @param {boolean} isUri use router\r\n * @param {object|Function} callback {uri,params} || Function\r\n * @param {boolean} warn  use warn css\r\n * @param {boolean} disable use disable css\r\n */\r\nconst NormalButton = ({ text, isUri, callback, warn, disable, className}) => {\r\n  let method;\r\n  if (isUri) {\r\n    method = () => {\r\n      Aviator.navigate(callback.uri, callback.params);\r\n    };\r\n  } else {\r\n    method = callback;\r\n  }\r\n  return (\r\n    <button disabled={disable}\r\n      onClick={method}\r\n      className={`normal-button ${warn ? \"warn\" : \"\"} ${className}`}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\nexport default NormalButton;\r\n","import React,{useReducer} from 'react';\r\nimport './Settings.sass'\r\nimport ToggleButton from '../../ToggleButtom/ToggleButtom';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {loadSettings} from '../../../scripts/utility';\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"set\":\r\n            return loadSettings.set(action.payload,state)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n/**\r\n * \r\n * @param {boolen} menu is a ingame menu? \r\n */\r\nconst Settings = ({menu})=> {\r\n    let settings; // loaded settings\r\n    // is a in game menu?\r\n    if(menu === undefined){\r\n        menu = false;\r\n    }\r\n    // audio text state\r\n    if(loadSettings.isVaild()){\r\n         settings = loadSettings.get();\r\n    }else{\r\n        settings = loadSettings.default;\r\n    }\r\n    const [state, dispatch] = useReducer(reducer, settings);\r\n return (   \r\n            <div id=\"settings\">\r\n                <BackButton/>\r\n                <h1>-SETTINGS-</h1>\r\n                <section id=\"audio-select\">\r\n                    <p>Audio volume {state.volume}</p>\r\n                    <div className=\"slidecontainer\">\r\n                      <input type=\"range\" min=\"0\" max=\"100\" defaultValue={settings.volume} id=\"audio\" onChange={(v)=>dispatch({type:\"set\", payload: {volume: v.target.value}})}/>\r\n                    </div>\r\n                </section>\r\n                <section>\r\n                    <ToggleButton checked={settings.sound_effects} id=\"soundEffect\" text=\"Sound Effects\" change={(v)=>dispatch({type:\"set\", payload: {sound_effects: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.ambience} id=\"ambience\" text=\"Ambience\" change={(v)=>dispatch({type:\"set\", payload: {ambience: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.tribe_music} id=\"tribeMusic\" text=\"Tribe Music\" change={(v)=>dispatch({type:\"set\", payload: {tribe_music: v.target.checked}})}/>\r\n                </section>\r\n                <hr/>\r\n                <section>\r\n                    <ToggleButton checked={settings.suggestions} id=\"suggestions\" text=\"Suggestions\" change={(v)=>dispatch({type:\"set\", payload: {suggestions: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.info_on_build} id=\"infoOnBuild\" text=\"Info On Build\" change={(v)=>dispatch({type:\"set\", payload: {info_on_build: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.confirm_turn} id=\"confirmTurn\" text=\"Confirm Turn\" change={(v)=>dispatch({type:\"set\", payload: {confirm_turn: v.target.checked}})}/>\r\n                </section>\r\n                {menu ? <hr/> : null}\r\n                {menu ? <NormalButton text=\"EXIT GAME\" warn={true} isUri={true} callback={{uri:\"/main\", params:{replace: true}}}/> : null}         \r\n          </div>\r\n        );\r\n}\r\nexport default Settings;","import React from 'react';\r\nimport Aviator from 'aviator';\r\nimport \"./IconButton.sass\"\r\n\r\n/**\r\n * \r\n * @param {string} text text to display on button\r\n * @param {string|Object|Function} uri uir to naviagete to or function\r\n * \r\n *  uses css class icon-button\r\n */\r\nconst IconButton = ({children, text, uri, disable = false, className = \"\"})=> {\r\n    let click;\r\n    if(typeof uri === \"string\" || typeof uri === 'object'){\r\n        typeof uri === \"string\" ? click = ()=>{Aviator.navigate(uri)} : click = ()=>{Aviator.navigate(uri.uri, uri.params)}\r\n    }else{\r\n        click = uri;\r\n    }\r\n    return (  \r\n            <div className={`icon-button ${className}`}>\r\n                <button onClick={click} disabled={disable}>\r\n                    {children}\r\n                </button>\r\n                <p>{text}</p>\r\n            </div>\r\n            );\r\n}\r\nexport default IconButton;","import React from 'react';\r\nimport IconButton from '../../IconButton/IconButton';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport {Button} from 'shineout';\r\nimport {useAuth0} from '../../../contaner/Auth/useAuth';\r\nimport MENUICON from '../../../assets/images/icons/menu.svg';\r\nimport LoginIcon from '../../../assets/images/icons/sign-in.svg';\r\nimport LogoutIcon from '../../../assets/images/icons/sign-out.svg';\r\nimport {CONFIG} from '../../../scripts/utility';\r\nimport './MainMenu.sass';\r\n\r\nconst MainMenu = ({saved})=> {\r\n    const {isAuthenticated, loginWithPopup, logout} = useAuth0();\r\n    const {settings, dev_url, production_url} = CONFIG.data;\r\n    const returnURL = settings.production ? production_url : dev_url;\r\n return (<div id=\"main-menu\">\r\n        { \r\n            isAuthenticated ? \r\n            <Button type=\"primary\" size=\"large\" outline={false} className=\"log-out-in\" onClick={()=>{logout({returnTo: returnURL});}}>    \r\n                <img src={LogoutIcon} alt=\"Logout\" className=\"img-out\"/>\r\n            </Button> :\r\n            <Button type=\"primary\" size=\"large\" outline={false} className=\"log-out-in\" onClick={()=>{loginWithPopup();}}>    \r\n                <img src={LoginIcon} alt=\"Login\" className=\"img-in\"/>\r\n            </Button>  \r\n        }\r\n        <div className=\"Logo\">\r\n            <img src=\"\" alt=\"Main icon\"></img>\r\n            <p>---THE BATTLE OF ---</p>\r\n            <h1>POLYTOPIA</h1>\r\n        </div>\r\n        <div className=\"main\">\r\n            <NormalButton text=\"NEW GAME\" isUri={true} callback={{uri:\"/main/singleplayer/mode\",params:{}}}/>\r\n            {saved ?  <NormalButton text=\"RESUME GAME\" isUri={true} callback={{uri:\"/game\",params:{}}}/> : null}\r\n            <NormalButton text=\"MULTIPLAYER\" isUri={true} callback={{uri:\"/main/multiplayer\",params:{}}}/>\r\n        </div>\r\n         <section id=\"menu-nav\">\r\n            <IconButton text=\"Settings\" uri=\"/main/settings\">\r\n                <img src={MENUICON} alt=\"Menu ICON\"/>\r\n            </IconButton>\r\n            <IconButton text=\"throneroom\" uri=\"/main/throneroom\"></IconButton>\r\n            <IconButton text=\"Highscore\" uri=\"/main/highscore\"></IconButton>\r\n            <IconButton text=\"About\" uri=\"/main/about\"></IconButton>\r\n         </section>\r\n        </div>);\r\n}\r\nexport default MainMenu;\r\n","import React,{useState} from 'react';\r\nimport './Singleplayer.sass'\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport IconButton from '../../IconButton/IconButton'\r\nimport BackButton from '../../BackButton/BackButton'\r\nimport {getQueryParams} from '../../../scripts/utility';\r\n\r\nconst tribes = {\r\n    \"xin-xi\": {\r\n        name:\"Xin-xi\",\r\n        tech:\"Xin-xi starts the game with the 'Climbing' tech.\",\r\n        dis:\"They start their journey in the dense mountains, surrounded by beautiful cherry blossom.\"\r\n    },\r\n    imperius: {\r\n        name:\"Imperius\",\r\n        tech: \"Huge mountains and green valleys. The Imperius climate is perfect for growing fruit.\",\r\n        dis:\"Imperius starts the game with the 'Organization' tech.\"\r\n    },\r\n    bardur: {\r\n        name: \"Bardur\",\r\n        tech:\"Bardur starts the game with the 'Hunting' tech.\",\r\n        dis:\"Surviving the harsh eternal winter of the Bardur woods is not an easy task, but Bardur seems to thrive here.\"\r\n    },\r\n    oumaji:{\r\n        tech:\"Oumaji starts the game with the 'Riding' tech.\",\r\n        dis:\"The seemingly endless, sun blessed desert is the home of the Oumaji tribe.\"\r\n    },\r\n    vengir:{\r\n        tech:\"Vengir start the game the Smithery tech and a powerful Swordman.\",\r\n        dis:\"Frowned upon by the other tribes and pushed into the unpleasant wastelands. Will they tolerate this injustice or rise to fight back?\"\r\n    }\r\n}\r\nconst TribeData = ({name,prevQuary,setShowTribe}) => <div id=\"tribe-data\">\r\n                            <h4>{tribes[name].name}</h4>\r\n                            <img src=\"\" alt=\"tribe view\"/>\r\n                            <p>{tribes[name].dis}</p>\r\n                            <p>{tribes[name].tech}</p>\r\n                            <section>\r\n                                <p>Score</p>\r\n                                <p>next</p>\r\n                            </section>\r\n                           <div>\r\n                           <NormalButton  className=\"cancel\" text=\"CANCEL\" isUri={false} callback={()=>{setShowTribe(null)}}/>\r\n                            <NormalButton text=\"PICK\" isUri={true} callback={{uri:\"/main/singleplayer/setup\", params:{queryParams:{mode: prevQuary.mode, players: `player_${name}` }}}}/>\r\n                           </div>\r\n                            </div>\r\n\r\nconst showInfo = (tribe,prevQuary,setShowTribe)=>{\r\n    switch (tribe) {\r\n        case \"xin-xi\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"imperius\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"bardur\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"oumaji\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"vengir\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        default:\r\n            return null\r\n    }\r\n}\r\nconst Tribe = ()=> {\r\n    let prevQuary = getQueryParams();\r\n    const [showTribe,setShowTribe] = useState(\"\");\r\n return (<div id=\"sp-tribe\">\r\n     <BackButton/>\r\n     <h1>-PICK YOUR TRIBE-</h1>\r\n     <section>\r\n         <div>\r\n            <IconButton text=\"Xin-Xi\" uri={()=>{setShowTribe(\"xin-xi\")}}></IconButton>\r\n            <IconButton text=\"Bardur\" uri={()=>{setShowTribe(\"bardur\")}}></IconButton>\r\n            <IconButton text=\"Imperius\" uri={()=>{setShowTribe(\"imperius\")}}></IconButton>\r\n         </div>\r\n         <div>\r\n            <IconButton text=\"Oumaji\" uri={()=>{setShowTribe(\"oumaji\")}}></IconButton>\r\n            <IconButton text=\"Vengir\" uri={()=>{setShowTribe(\"vengir\")}}></IconButton>\r\n         </div>\r\n     </section>\r\n     <section id=\"sp-tribe-random\">\r\n         <p>-Let fate decide!-</p>\r\n        <NormalButton text=\"RANDOM\" isUri={true} callback={{uri:\"/main/singleplayer/setup\", params:{queryParams:{mode: prevQuary.mode, players:\"player_random\"}}}}/>\r\n     </section>\r\n     {showInfo(showTribe,prevQuary,setShowTribe)}\r\n    </div>);\r\n}\r\nexport default Tribe;","import React from 'react';\r\nimport './Singleplayer.sass';\r\nimport Aviator from \"aviator\";\r\nimport BackButton from '../../BackButton/BackButton'\r\n\r\n\r\nconst Mode = ()=> {\r\n return (<div id=\"sp-mode\">\r\n     <BackButton/>\r\n     <h1>-GAME MODE-</h1>\r\n     <section>\r\n        <button className=\"normal-button\" onClick={()=>{Aviator.navigate(\"/main/singleplayer/tribe\",{queryParams:{mode:\"perfection\"}});}}>\r\n            <img src=\"\" alt=\"perfection_icon\"/>\r\n            <h3>PERFECTION</h3>\r\n            <p>Show your skills on the golobal highscore in the classic 30 turns game.</p>\r\n        </button>\r\n        <button className=\"normal-button\" onClick={()=>{Aviator.navigate(\"/main/singleplayer/tribe\",{queryParams:{mode:\"domination\"}});}}>\r\n            <img src=\"\" alt=\"domination_icon\"/>\r\n            <h3>DOMINATION</h3>\r\n            <p>Play until there is only one tribe left, with no time limit.</p>\r\n        </button>\r\n        <button className=\"normal-button\" onClick={()=>{Aviator.navigate(\"/main\",{queryParams:{mode:\"custom\"}});}}>\r\n            <img src=\"\" alt=\"custommode_icon\"/>\r\n            <h3>CUSTOM</h3>\r\n            <p>Play custom created modes you created or the community.</p>\r\n        </button>\r\n     </section>\r\n </div>);\r\n}\r\nexport default Mode;","import React,{useState} from 'react';\r\nimport './Singleplayer.sass';\r\nimport NormalButton from '../../NormalButton/NormalButton'\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {combineQuery} from '../../../scripts/utility'\r\n\r\nconst opponents = [1,2,3,4];\r\nconst worldSizes = [121,256,324,400]\r\nconst difficulty = [\"Easy\",\"Normal\",\"Hard\",\"Crazy\"];\r\nconst createData = list => {\r\n     return list.map(element => {\r\n         return <div className={`scrollmenu-item`} key={element}>{element}</div>;\r\n     });    \r\n}\r\nconst SetupSP = ()=> {\r\n    const [map,setMap] = useState(121);\r\n    const [diff, setDiff] = useState(\"NORMAL\");\r\n    const [opponent, setOpponents] = useState(1);\r\n return (<div id=\"sp-setup\">\r\n     <BackButton/>\r\n    <h1>-GAME SETUP-</h1>\r\n     <section>\r\n         <h5>Opponents</h5>\r\n        <ScrollMenu selected={1} onSelect={e=>{setOpponents(e)}} data={createData(opponents)}/>\r\n     </section>\r\n     <section>\r\n         <h5>World Size</h5>\r\n        <ScrollMenu selected={121} onSelect={e=>{setMap(e)}} data={createData(worldSizes)} useButtonRole={true}/>\r\n     </section>\r\n     <section>\r\n         <h5>Difficulty</h5>\r\n        <ScrollMenu selected={\"Easy\"} onSelect={e=>{setDiff(e);}}data={createData(difficulty)}/>\r\n     </section>\r\n\r\n     <NormalButton text=\"Start Game\" isUri={true} callback={{uri:\"/game\", params:{replace: true, queryParams: combineQuery({savedgame: false, mp: false, opponents:opponent, mapsize: map, diff: diff.toUpperCase()})}}}/>\r\n     </div>);\r\n}\r\nexport default SetupSP;","import React,{useState, useEffect} from 'react';\r\nimport IconButton from '../../IconButton/IconButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {savedlocalMPGames} from '../../../scripts/utility';\r\nimport {useAuth0} from '../../../contaner/Auth/useAuth';\r\nimport Aviator from 'aviator';\r\nimport { Alert, Button } from 'shineout'\r\nimport Loader from '../../Loader/Loader';\r\nimport {ws} from '../../../scripts/websocket';\r\nimport './Multiplayer.sass';\r\nimport PLUSICON from '../../../assets/images/icons/plus.svg'\r\n\r\nconst getSaves = () =>{\r\n    let dataArray = [];\r\n    if(savedlocalMPGames.hasSaves()){\r\n        let data = savedlocalMPGames.get();\r\n        dataArray = data.map(el=>{\r\n         return <button className=\"saved\" key={el.id}>\r\n                    <img src=\"\" alt=\"randomIcon\"/>\r\n                    <h5>{el.name}</h5>\r\n                </button>\r\n        });\r\n    }\r\n    return dataArray;\r\n}\r\n\r\n\r\n\r\nconst Multiplayer = ()=> {\r\n   const {isAuthenticated,getTokenSilently, user,loginWithPopup} = useAuth0();\r\n   const [yourTurn, setYourTrun] = useState(false);\r\n   const [notify, setNotify] = useState(false);\r\n   const [hasOnlineGames, setHasOnlineGames] = useState([]);\r\n   const [hasLocalGame,setHasLocalGames] = useState(getSaves());\r\n   \r\n   const checkAuth = ()=>{\r\n      isAuthenticated ? Aviator.navigate(\"/main/multiplayer/new-game/setup\") : setNotify(true);\r\n   }\r\n   useEffect(()=>{\r\n     const init = ()=>{\r\n      setYourTrun(false);\r\n      setHasOnlineGames([]);\r\n      setHasLocalGames(getSaves());\r\n      try{\r\n        if(isAuthenticated && (ws.socket === null)){\r\n          getTokenSilently().then(token=>{\r\n             ws.init(user.sub.replace(\"auth0|\",\"\"), token)\r\n          });\r\n         }\r\n       }catch(e){\r\n         ws.quit();\r\n         console.error(\"Failed Login\")\r\n         setNotify(true)\r\n       }\r\n     }\r\n     init()\r\n   },[isAuthenticated,getTokenSilently]);\r\n    \r\n\r\n return (<div id=\"multiplayer\">\r\n         {\r\n         notify ? <Alert type=\"danger\" icon iconSize={20} className=\"alert-nologin\">\r\n                  Please Login to use and see online components. <Button onClick={()=>{ Aviator.navigate('/main'); loginWithPopup();}}>Login</Button>\r\n                  </Alert> : null\r\n          }\r\n            <BackButton/>\r\n            <h1>-MULTIPLAYER-</h1>\r\n            <h3>{`-${ yourTurn ? \"Your\" : \"Their\"} Turn-`}</h3>\r\n            {hasOnlineGames.length > 0 ? <div/> : <Loader/>}\r\n            <h3>{\"-Pass & Play-\"}</h3>\r\n            {hasLocalGame.length > 0 ? hasLocalGame : <Loader/>}\r\n            <section>\r\n                <IconButton uri={checkAuth} text=\"New Game\"><img src={PLUSICON} alt=\"NewGame\"/></IconButton>\r\n                <IconButton uri=\"/main/multiplayer/friends\" text=\"Friends\"></IconButton>\r\n            </section>\r\n            </div>\r\n            );\r\n}\r\nexport default Multiplayer;\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport './Multiplayer.sass';\r\n\r\nconst Friends = ()=> {\r\n return (<div id=\"mp-friends\">\r\n            <BackButton/>\r\n            <h1>-FRIENDS LIST-</h1>\r\n            <h5>-Friends-</h5>\r\n            {/*Load Friends */\r\n                <Loader/>\r\n            }\r\n            <NormalButton text=\"NEW FRIEND\" isUri={false} callback={()=>{}}/>\r\n        </div>);\r\n}\r\nexport default Friends;","import React,{useState} from 'react';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport NormalButton from '../../../NormalButton/NormalButton';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport '../Multiplayer.sass'\r\nconst SetupMP = ()=> {\r\n    const [network,setNetwork] = useState(\"local\");\r\n    const [mode,setMode] = useState(\"might\");\r\n    const [mapSize, setMapSize] = useState(\"tiny\")\r\n return (<div id=\"mp-setup\">\r\n     <BackButton/>\r\n            <h1>-SETUP-</h1>\r\n            <div>\r\n                <h6>Network</h6>\r\n                <ScrollMenu data={[<button onClick={()=>setNetwork(\"online\")} key=\"online\">Online</button>,<button onClick={()=>setNetwork(\"local\")} key=\"local\">{\"Pass & Play\"}</button>]}/>\r\n            </div>\r\n            <p>{'Lorm ipsom'}</p>\r\n            <div>\r\n                <h6>Game Mode</h6>\r\n                <ScrollMenu data={[<div onClick={()=>setMode(\"glory\")} key=\"glory\">Glory</div>,<div onClick={()=>setMode(\"might\")} key=\"might\">Might</div>]}/>\r\n            </div>\r\n            <p>{`Lorm Ipsom`}</p>\r\n            <div>\r\n                <h6>Map Size</h6>\r\n                <ScrollMenu data={[<div onClick={()=>{setMapSize(\"tiny\")}} key=\"tiny\">tiny</div>,<div onClick={()=>setMapSize(\"normal\")} key=\"normal\">normal</div>,<div onClick={()=>setMapSize(\"large\")} key=\"large\">large</div>,<div onClick={()=>setMapSize(\"mega\")} key=\"mega\">mega</div>,<div onClick={()=>setMapSize(\"ultra\")} key=\"ultra\">ultra</div>]}/>\r\n            </div>\r\n            <p>{`${999} tiles map.`}</p>\r\n            <NormalButton text=\"CONTINUE\" isUri={true} callback={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:{network,mode,mapSize}}}}/>\r\n        </div>);\r\n}\r\nexport default SetupMP;\r\n\r\n\r\n","import React,{useState} from 'react';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport NormalButton from '../../../NormalButton/NormalButton';\r\nimport {getQueryParams} from '../../../../scripts/utility';\r\nimport '../Multiplayer.sass';\r\n\r\n\r\nconst removePlayer = (player, urp)=>{\r\n        return Object.assign({},urp, {players: urp.players.filter(item=> item !== player)})\r\n}\r\n\r\nconst PlayerMP = ()=> {\r\n    const [urlParams,setUrlParams] = useState(getQueryParams());\r\n    const [minPlayers,setMinPlayers] = useState(urlParams.players === undefined ? 0 : urlParams.players.length);\r\n    let players = null;\r\n    if(urlParams.players){\r\n        players = urlParams.players.map(el=>{\r\n            return <div key={el}>\r\n                     <img src=\"\" alt=\"head\"/>\r\n                     <h6>{el}</h6>\r\n                     <button onClick={()=>{setMinPlayers(minPlayers-1); setUrlParams(removePlayer(el, urlParams))}}>X</button>\r\n                   </div>\r\n        });\r\n    }\r\n return (<div id=\"player-mp\">\r\n            <BackButton/>\r\n            <h1>-PICK PLAYERS-</h1>\r\n            <h5>-Game Name-</h5>\r\n            <input type=\"text\" readOnly={true} defaultValue={\"RANDOM_NAME\"}></input>\r\n            <div>\r\n                <p>{`Map Size: ${324}`}</p>\r\n                <p>{`Game Mode: ${\"Might\"}`}</p>\r\n                <p>{\"MODE_TEXT\"}</p>\r\n                <hr/>\r\n                <h5>{`-Players (${minPlayers}/5)-`}</h5>\r\n                {players}\r\n                <NormalButton text=\"ADD PLAYER\" isUri={true} callback={{uri:\"/main/multiplayer/new-game/add\", params: {queryParams: urlParams} }}/>\r\n                <hr/>\r\n                <NormalButton  disable={minPlayers >= 2 ? false : true} text=\"START GAME\" isUri={true} callback={{uri:\"/main/multiplayer/new-game/tribes\", params:{replace: true, queryParams: Object.assign({}, { mp: true, savedgame: false}, urlParams) }}}/>\r\n            </div>\r\n         </div>);\r\n}\r\nexport default PlayerMP;","import React from 'react';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport {getQueryParams} from '../../../../scripts/utility';\r\nimport {ws} from '../../../../scripts/websocket';\r\nimport '../Multiplayer.sass';\r\n\r\n\r\nconst TribesMP = ()=> {\r\n    const urlParams = getQueryParams();\r\n    const isLocal = urlParams.network === \"local\" ? true: false;\r\n    if(!isLocal){\r\n        ws.send({type:\"get\", request:\"slectedTribes\", ofGameID:\"CURRENT_GAME_ID\"})\r\n    }\r\n return (<div id=\"tribes-mp\">\r\n     <BackButton/>\r\n            \r\n        </div>);\r\n}\r\nexport default TribesMP;","import React from 'react';\r\nimport IconButton from '../../../IconButton/IconButton';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport {getQueryParams} from '../../../../scripts/utility';\r\nimport {ws} from '../../../../scripts/websocket';\r\nimport '../Multiplayer.sass';\r\n\r\n\r\n\r\n\r\nconst TribesMP = ()=> {\r\n    const urlParams = getQueryParams();\r\n    const isLocal = urlParams.network === \"local\" ? true: false;\r\n    const currentPlayers = urlParams.players || [];\r\n    let lock = false;\r\n    if(urlParams.players){\r\n        if(urlParams.players.length === 5){\r\n            lock = true;\r\n        }\r\n    }\r\n    if(!isLocal){\r\n        ws.send({type:\"get\",request:\"friendsList\", ofUser:\"USER_TEMP\", status:204});\r\n    }\r\n return (<div id=\"tribes-mp\">\r\n     <BackButton/>\r\n            <h1>-FRIEND LIST-</h1>\r\n            <div>\r\n                <h5>-Local Players-</h5>\r\n                <section>\r\n                    <IconButton disable={lock} text=\"Player 1\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player1_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 2\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player2_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 3\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player3_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 4\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player4_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 5\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player5_na\")})}}}/>\r\n                </section>\r\n            </div>\r\n            <h5>-Bots-</h5>\r\n            <section>\r\n               <IconButton disable={lock} text=\"Easy Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botEasy_random\")})}}}/>\r\n               <IconButton disable={lock} text=\"Normal Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botNormal_random\")})}}}/>\r\n               <IconButton disable={lock} text=\"Hard Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botHard_random\")})}}}/>\r\n               <IconButton disable={lock} text=\"Crazy Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botCrazy_random\")})}}}/>\r\n            </section>\r\n        </div>);\r\n}\r\nexport default TribesMP;","import React,{useEffect} from 'react';\r\nimport {getQueryParams} from '../../scripts/utility';\r\nimport IconButton from '../IconButton/IconButton';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport {ViewIn,ViewOut} from '../../scripts/anim';\r\nimport DownArrow from '../../assets/images/icons/arrow_down.svg';\r\nimport {scene} from '../../contaner/Game/scene';\r\nimport './menus.sass';\r\n\r\n\r\nconst View = ()=> {\r\n    useEffect(()=>{ViewIn()\r\n                  },[]);\r\n    const data = getQueryParams();\r\n    let block = scene.getObjectById(Number(data.blockId));\r\n    let slector = scene.getObjectByName(\"slector_player\");\r\n    slector.position.set(block.position.x, 0, block.position.z);\r\n return (<div id=\"view-block\">\r\n           <section>\r\n                <img src=\"\" alt=\"block icon\"/>\r\n                <div>\r\n                    <h3>{block.userData.type}</h3>\r\n                    {<p>{block.userData.faction === null ? \"This tile is outside your empire\" :\"\"}</p>}\r\n                </div>\r\n                <button onClick={ViewOut}><img src={DownArrow} alt=\"hide\"/></button>\r\n           </section>\r\n              {\r\n                Object.keys(block.userData.canBuild).length > 0 ? <ScrollMenu data={[<IconButton text=\"Fram\"></IconButton>]} menuClass=\"view-scroll\"/> : null\r\n               }\r\n        </div>);\r\n}\r\n\r\nexport default View;\r\n","import React,{useState} from 'react';\r\nimport IconButtom from '../IconButton/IconButton';\r\nimport MenuIcon from '../../assets/images/icons/menu.svg';\r\nconst btnStat = {\r\n    next: {\r\n        text:\"Next Turn\",\r\n        class:\"nb-default\"\r\n        },\r\n    full:{\r\n        text: \"Next Turn\",\r\n        class:\"nb-full\"\r\n    },\r\n    end:{\r\n        text: \"Finish Game\",\r\n        class:\"nb-finish\"\r\n    }\r\n}\r\nconst NavGame = ()=> {\r\n    const [nextData,setNextData] = useState(btnStat['next']);\r\n    \r\n return (\r\n            <div id=\"nav-game\">\r\n                <IconButtom text=\"Menu\" uri=\"/game/menu\"><img src={MenuIcon} alt=\"Game Menu\"/></IconButtom>\r\n                <IconButtom text=\"Game Stats\" uri=\"/game/stats\"></IconButtom>\r\n                <IconButtom text=\"Tech Tree\" uri=\"/game/tech\"></IconButtom>\r\n                <IconButtom text={nextData.text} className={nextData.class}></IconButtom>\r\n            </div>\r\n        );\r\n}\r\nexport default NavGame;","import React,{useEffect, useState} from 'react';\r\nimport {usePolytopiaGame} from '../../contaner/Game/GameProvider'\r\n\r\n\r\nconst GameData = ()=> {\r\n    const {mode, turns,players, currentPlayer} = usePolytopiaGame();\r\n    const [data, setData] = useState({\r\n                                        score: 0,\r\n                                        stars: 5,\r\n                                        starsPerTurn: 2\r\n                                    });\r\n\r\n    useEffect(()=>{\r\n            if(players[currentPlayer] !== undefined) setData(players[currentPlayer])\r\n    },[currentPlayer,players])\r\n return (\r\n    <div id=\"game-data\">\r\n        <section>\r\n            <h5>Score</h5>\r\n            <p>{data.score}</p>\r\n        </section>\r\n        <section>\r\n            <h5>Stars (+{data.starsPerTurn})</h5>\r\n            <p>{data.stars}</p>\r\n        </section>\r\n        <section>\r\n            <h5>Turn {mode === \"perfection\" ? `(${turns}/30)` : \"\"}</h5>\r\n            <p>{turns}</p>\r\n        </section>\r\n    </div>);\r\n}\r\nexport default GameData;","import React from 'react';\r\n\r\n\r\nconst GameStats = ()=> {\r\n return (<div id=\"game-stats\"></div>);\r\n}\r\nexport default GameStats;","import React,{useState} from 'react';\r\nimport BackButton from '../BackButton/BackButton';\r\nimport {Modal} from 'shineout';\r\nimport NormalButton from '../NormalButton/NormalButton';\r\n\r\nconst TechTree = ()=> {\r\n    const [model,setModel] = useState(false);\r\n return (\r\n    <div id=\"tech-tree\">\r\n        <BackButton/>\r\n        <button onClick={()=>{setModel(true)}}>Test</button>\r\n        <Modal\r\n            className=\"pt-modal\"\r\n            onClose={()=>{setModel(false)}}\r\n            title=\"\"\r\n            visible={model}\r\n            footer={[\r\n                <NormalButton text=\"Cancal\" isUri={false} callback={()=>{setModel(false)}} key=\"cancal\"/>,\r\n                <NormalButton text=\"Ok\" isUri={false} key=\"ok\"/>\r\n            ]}>\r\n             DATA_TECH\r\n        </Modal>\r\n    </div>);\r\n}\r\nexport default TechTree;","import React, {Component} from 'react';\r\nimport Game from '../Game/Game';\r\nimport { connect } from 'react-redux'\r\nimport {loadAssets} from '../../redux/actions';\r\nimport ErrorBoundry from '../Errorboundery/Errorboundery';\r\nimport Aviator from 'aviator';\r\nimport {savedGames, CONFIG} from '../../scripts/utility';\r\nimport './App.sass';\r\n\r\n\r\nimport AboutPage from '../../components/pages/About/About';\r\nimport ThroneRoom from '../../components/pages/ThoneRoom/ThroneRoom';\r\nimport HighScore from '../../components/pages/HighScore/HighScore';\r\nimport Settings from '../../components/pages/Settings/Settings';\r\nimport MainMenu from '../../components/pages/MainMenu/MainMenu';\r\n\r\n// singleplayer pages\r\nimport Tribe from '../../components/pages/Singleplayer/Tribe';\r\nimport Mode from '../../components/pages/Singleplayer/Mode';\r\nimport SetupSP from '../../components/pages/Singleplayer/SetupSP';\r\n//multiplayer pages\r\nimport Multiplayer from '../../components/pages/Multiplayer/Multiplayer';\r\nimport Friends from '../../components/pages/Multiplayer/Friends';\r\n//multiplayer new game\r\nimport SetupMP from '../../components/pages/Multiplayer/NewGame/SetupMP';\r\nimport PlayerMP from '../../components/pages/Multiplayer/NewGame/PlayerMP';\r\nimport TribesMP from '../../components/pages/Multiplayer/NewGame/TribesMP';\r\nimport AddPlayerMP from '../../components/pages/Multiplayer/NewGame/AddPlayerMP';\r\n\r\n\r\nimport View from '../../components/menus/View';\r\nimport NavGame from '../../components/menus/NavGame';\r\nimport GameData from '../../components/menus/GameData';\r\nimport GameStats from '../../components/menus/GameStats';\r\nimport TechTree from '../../components/menus/TechTree';\r\n\r\n\r\nconst mapStateToProps = state => {return {\r\n    of: state.gameAssetsLoad.progress.of,\r\n    item: state.gameAssetsLoad.progress.item,\r\n    isPending: state.gameAssetsLoad.isPending,\r\n    loadError: state.gameAssetsLoad.error,\r\n}}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      loadGameAssets: ()=>dispatch(loadAssets())\r\n    }\r\n  }\r\n\r\nclass App extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            savedGame: false,\r\n            savedGameObject: {},\r\n            location: \"MAIN\",\r\n            inGame: \"NONE\",\r\n            hasBefore: false\r\n        }\r\n    }\r\n    goTo(to, params = {}){\r\n        Aviator.navigate(to,params)\r\n    }\r\n    componentDidMount(){\r\n        this.props.loadGameAssets();\r\n        Aviator.setRoutes({\r\n            '/game': {\r\n                target: { \r\n                    showGame:()=>{this.setState({location:\"GAME\", inGame:\"NONE\"});},\r\n                    show:(v)=>{this.setState({inGame: v.uri.replace(\"/game/\",\"\").replace(/\\/(ocean|field|water)$/,\"\").toUpperCase()})},\r\n                    data: (v)=>{this.setState({inGame: v.uri.replace(\"/game/\",\"\").toUpperCase()})}\r\n                },\r\n                '/': \"showGame\",\r\n                \"/view\":{\"/:type\":\"show\"},\r\n                \"/tech\":\"data\",\r\n                \"/stats\":\"data\",\r\n                \"/menu\":\"data\"\r\n            },\r\n            \"/main\":{\r\n                target:{ \r\n                        index: ()=>{this.setState({location: \"MAIN\", inGame: null}) },\r\n                        show:(v)=>{ \r\n                           this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})\r\n                         }\r\n                        },\r\n                \"/\":\"index\",\r\n                \"/singleplayer\":{\r\n                    target:{ show:(v)=>{this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})}\r\n                            },\r\n                    \"/mode\":\"show\",\r\n                    \"/tribe\":\"show\",\r\n                    \"/setup\":\"show\"\r\n                },\r\n                \"/multiplayer\":{\r\n                    target:{ show:(v)=>{this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})},\r\n                            },\r\n                    \"/\":\"show\",\r\n                    \"/new-game\":{\r\n                        target:{ show:(v)=>{ this.setState({location: v.uri.replace(\"/main/multiplayer/\",\"\").toUpperCase()})}\r\n                                },\r\n                        \"/setup\":\"show\",\r\n                        \"/players\":\"show\",\r\n                        \"/tribes\":\"show\",\r\n                        \"/add\":\"show\"\r\n                    },\r\n                    \"/friends\":\"show\",\r\n                    \"/:game\":\"game\"\r\n                },\r\n                \"/settings\":\"show\",\r\n                \"/highscore\":\"show\",\r\n                \"/throneroom\":\"show\",\r\n                \"/about\":\"show\"\r\n            }\r\n          });\r\n          Aviator.dispatch();\r\n          if(!this.state.hasBefore){\r\n              this.goTo('/main',{ replace: true });\r\n              this.setState({hasBefore: true});\r\n          }\r\n          \r\n\r\n    }\r\n   loadContent(location){\r\n       switch (location) {\r\n            case \"MAIN\":\r\n               return (<MainMenu saved={savedGames.hasSave()}/>);\r\n            case \"SETTINGS\":\r\n              return  <Settings menu={false}/>;\r\n            case \"ABOUT\":\r\n              return <AboutPage/>;\r\n            case \"HIGHSCORE\":\r\n                return <HighScore/>;\r\n            case \"THRONEROOM\":\r\n                return <ThroneRoom/>;\r\n            case \"SINGLEPLAYER/MODE\":\r\n                return <Mode/>;\r\n            case \"SINGLEPLAYER/TRIBE\":\r\n                return <Tribe/>;\r\n            case \"SINGLEPLAYER/SETUP\":\r\n                return <SetupSP/>;\r\n            case \"MULTIPLAYER\":\r\n                return <Multiplayer/>;\r\n            case \"MULTIPLAYER/FRIENDS\":\r\n                return <Friends/>;\r\n            case \"NEW-GAME/SETUP\":\r\n                return <SetupMP/>;\r\n            case \"NEW-GAME/PLAYERS\":\r\n                return <PlayerMP/>;\r\n            case \"NEW-GAME/TRIBES\":\r\n                return <TribesMP/>;\r\n            case \"NEW-GAME/ADD\":\r\n                return <AddPlayerMP/>\r\n            default:\r\n               throw new Error(\"LOCATION CHANGE ERROR\")\r\n       }\r\n   }\r\n   inGameContent(menu){\r\n       switch (menu) {\r\n            case \"NONE\":\r\n               return <NavGame/>;\r\n            case \"VIEW\":\r\n               return <View/>;\r\n            case \"TECH\":\r\n                return <TechTree/>;\r\n            case \"STATS\":\r\n                return <GameStats/>;\r\n            case \"MENU\": \r\n                return <Settings menu={true}/>\r\n           default:\r\n               return null;\r\n       }\r\n   }\r\n render(){ \r\n     const {location, inGame} = this.state;\r\n     return (\r\n            <ErrorBoundry>\r\n                {location !== \"GAME\" ? \r\n                        <div className=\"background\">\r\n                            {this.loadContent(location)}\r\n                         </div> : \r\n                         <Game>\r\n                             <GameData/>\r\n                            {this.inGameContent(inGame)}\r\n                         </Game>\r\n                }\r\n             </ErrorBoundry>\r\n             );\r\n  }\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\r\n","import {combineReducers} from 'redux';\r\nimport * as rConst from \"./constants\";\r\n\r\n\r\nconst intialAssetsLoadStates = {\r\n    isPending: true,\r\n    error: \"\",\r\n    assets: {},\r\n    progress: {item:0,of:0}\r\n};\r\nconst intialGameLocation = {\r\n    location: \"\"\r\n}\r\n\r\n\r\nexport const gameLocations = (state=intialGameLocation,action={})=>{\r\n    switch (state.type) {\r\n        case rConst.GAMELOCATION:\r\n            return Object.assign({},state,{location: action.payload});\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const gameAssetsLoad = (state=intialAssetsLoadStates,action={})=>{\r\n    switch (action.type) {\r\n        case rConst.GAMEASSETSLOAD.COMPLETE:\r\n            return Object.assign({},state,{isPending: false, assets: action.payload});\r\n        case rConst.GAMEASSETSLOAD.PENDING:\r\n            return Object.assign({},state,{isPending: true});\r\n        case rConst.GAMEASSETSLOAD.PROGRESS:\r\n            return Object.assign({},state,{progress:{item: action.payload.item, of:action.payload.of}});\r\n        case rConst.GAMEASSETSLOAD.ERROR:\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const rootReducer = combineReducers({gameAssetsLoad});","// This optional code is used to register a service worker.\n// register() is not called by default.\nimport { Message } from 'shineout';\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    window.location.hostname === '[::1]' ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              Message.success('New content is available and will be use when all tabs for this page are closed')\n              // See https://bit.ly/CRA-PWA.\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              Message.info('Content is cached for offline use.')\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      Message.error('Error during service worker registration')\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl)\n    .then(response => {\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      Message.info('No internet connection found. App is running in offline mode.');\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Aviator from 'aviator';\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware,compose} from 'redux';\r\nimport {Auth0Provider} from './contaner/Auth/useAuth';\r\nimport App from './contaner/App/App';\r\nimport {rootReducer} from './redux/reducers';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport config from './contaner/Auth/auth_config.json';\r\nimport {CONFIG} from './scripts/utility';\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk)));\r\nCONFIG.load().then(init);\r\n\r\nfunction init(){\r\n    const {settings, dev_url, production_url} = CONFIG.data;\r\n    const redirect = settings.production ? production_url : dev_url;\r\n    console.log(redirect);\r\n    ReactDOM.render(\r\n    <Auth0Provider domain={config.domain} client_id={config.clientId} redirect_uri={redirect} onRedirectCallback={()=>{Aviator.navigate(\"/\")}}>\r\n     <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n   </Auth0Provider>  \r\n, document.getElementById('root'));\r\n}\r\n\r\nserviceWorker.register();\r\n","module.exports = __webpack_public_path__ + \"static/media/menu.8c6957cc.svg\";"],"sourceRoot":""}