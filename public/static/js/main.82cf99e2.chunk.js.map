{"version":3,"sources":["assets/images/background_game.webp","assets/models/field/field.obj","assets/models/field/field.mtl","assets/models/fruit/fruit_one.obj","assets/models/fruit/fruit_one.mtl","assets/models/ocean/ocean.obj","assets/models/ocean/ocean_none.obj","assets/models/ocean/ocean_one.obj","assets/models/ocean/ocean_two.obj","assets/models/ocean/ocean_two_b.obj","assets/models/ocean/ocean_three.obj","assets/models/ocean/ocean.mtl","assets/models/ocean/ocean_none.mtl","assets/models/ocean/ocean_one.mtl","assets/models/ocean/ocean_two.mtl","assets/models/ocean/ocean_two_b.mtl","assets/models/ocean/ocean_three.mtl","assets/models/water/water.obj","assets/models/water/water_none.obj","assets/models/water/water_one.obj","assets/models/water/water_two.obj","assets/models/water/water_two_b.obj","assets/models/water/water_three.obj","assets/models/water/water.mtl","assets/models/water/water_none.mtl","assets/models/water/water_one.mtl","assets/models/water/water_two.mtl","assets/models/water/water_two_b.mtl","assets/models/water/water_three.mtl","assets/models/other/cloud.obj","assets/models/other/cloud.mtl","assets/models/trees/tree_one.obj","assets/models/trees/tree_two.obj","assets/models/trees/tree_one.mtl","assets/models/trees/tree_two.mtl","assets/images/icons/arrow_perv.svg","scripts/createBlockMesh.js","scripts/wordGenerationv3.js","contaner/Game/Game.js","redux/constants.js","redux/actions.js","contaner/Errorboundery/Errorboundery.js","scripts/loaders.js","components/BackButton/BackButton.js","components/pages/About/About.js","components/Loader/Loader.js","components/pages/ThoneRoom/ThroneRoom.js","components/pages/HighScore/HighScore.js","components/ToggleButtom/ToggleButtom.js","components/NormalButton/NormalButton.js","components/pages/Settings/Settings.js","components/IconButton/IconButton.js","components/pages/MainMenu/MainMenu.js","components/pages/Singleplayer/Tribe.js","components/pages/Singleplayer/Mode.js","components/pages/Singleplayer/SetupSP.js","components/pages/Multiplayer/Multiplayer.js","components/pages/Multiplayer/Friends.js","components/pages/Multiplayer/Profile.js","components/pages/Multiplayer/NewGame/SetupMP.js","contaner/App/App.js","redux/reducers.js","serviceWorker.js","index.js"],"names":["module","exports","CREATE","models","this","Cloud","pos","cloud","mesh","Mesh","geometry","material","name","userData","type","faction","position","set","x","y","z","Water","variation","rotation","water","attached","canBuild","rotateY","Math","PI","Field","field","Tree","tree","Wall","wall","Ocean","ocean","Fruit","fruit","Slector","user","slector","WorldGenerationV3","assets","settings","noise","SimplexNoise","width","height","value","nx","ny","noise2D","dimentions","scene","worldNoise","placementArray","worldIndex","row","colum","length","push","blockPlacement","a","b","waterSides","wo","undefined","coords","oceanSides","oo","oceanRotation","console","log","forEach","array","object","add","warn","int","Game","blockClicked","ev","state","canClick","mouse2D","THREE","clientX","window","innerWidth","clientY","innerHeight","raycaster","setFromCamera","camera","intersects","intersectObjects","children","hasClicked","setState","handleResize","e","aspect","updateProjectionMatrix","renderer","setSize","setPixelRatio","devicePixelRatio","composer","animate","delta","clock","getDelta","frameId","requestAnimationFrame","cameraControls","update","entityManager","render","YUKA","antialias","EffectComposer","addEventListener","parsm","gui","dat","onFinishChange","v","hasClick","listen","CameraControls","install","shadowMap","enabled","autoClear","mount","appendChild","domElement","zoom","addPass","RenderPass","bb","dollySpeed","maxZoom","minZoom","setBoundary","directionalLight","hemisphere","setTimeout","props","createWorld","background","textures","cancelAnimationFrame","removeChild","id","ref","Component","connect","gameAssetsLoad","dispatch","GAMEASSETSLOAD","loadManager","LoadingManager","textureLoader","TextureLoader","mtlLoader","MTLLoader","setResourcePath","loadWaterAssets","load","WaterMtl","materials","preload","OBJLoader","setMaterials","WaterObj","WaterThreeMtl","WaterThreeObj","WaterTwoMtl","WaterTwoObj","WaterOneMtl","WaterOneObj","WaterNoneMtl","WaterNoneObj","WaterTwoBMtl","WaterTwoBObj","loadOceanAssets","OceanMtl","OceanObj","OceanThreeMtl","OceanThreeObj","OceanTwoMtl","OceanTwoObj","OceanOneMtl","OceanOneObj","OceanNoneMtl","OceanNoneObj","OceanTwoBMtl","OceanTwoBObj","ErrorBoundry","error","hasError","defaultSettings","sound_effects","ambience","tribe_music","suggestions","info_on_build","confirm_turn","volume","savedGames","localStorage","getItem","loadSettings","JSON","parse","data","current","setItem","stringify","Object","assign","BackButton","uri","params","className","onClick","history","back","src","ICON","alt","AboutPage","REVISION","Loader","ThroneRoom","list","HighScore","dragging","clickWhenDrag","wrapperClass","wheel","ToggleButton","text","checked","change","defaultChecked","onChange","data-tg-on","data-tg-off","htmlFor","NormalButton","method","isUri","callback","disable","Aviator","navigate","reducer","action","payload","Settings","menu","useReducer","min","max","defaultValue","target","IconButton","click","MainMenu","saved","Tribe","queryParams","mode","tribe","Mode","SetupSP","savedGame","Multiplayer","Friends","Profile","SetupMP","App","savedGameObject","location","hasBefore","to","loadGameAssets","setRoutes","showGame","show","index","replace","toUpperCase","goTo","Error","loadContent","of","progress","item","isPending","loadError","onStart","rConst","onLoad","onError","err","onProgress","url","itemsLoaded","itemsTotal","backgroundImage","texture","FieldMtl","FieldObj","CloudMtl","CloudObj","TreeOneMtl","TreeOneObj","TreeTwoMtl","TreeTwoObj","FruitOneMtl","FruitOneObj","intialAssetsLoadStates","rootReducer","combineReducers","Boolean","hostname","match","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.82cf99e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background_game.b879c134.webp\";","module.exports = __webpack_public_path__ + \"static/media/field.820a5de2.obj\";","module.exports = __webpack_public_path__ + \"static/media/field.bd606281.mtl\";","module.exports = __webpack_public_path__ + \"static/media/fruit_one.401782fb.obj\";","module.exports = __webpack_public_path__ + \"static/media/fruit_one.deedf5c9.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean.49960e7c.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_none.e646e666.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_one.1149f12f.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two.8478a460.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two_b.5f12e9cc.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_three.09f7749a.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean.9289348b.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_none.d0d89c1d.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_one.f49bda95.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two.40654d41.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two_b.38e20ff2.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_three.ff5600a1.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water.065725eb.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_none.bd934e57.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_one.34ff3246.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_two.0db41b72.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_two_b.7b4c02ee.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_three.7dfcfd72.obj\";","module.exports = __webpack_public_path__ + \"static/media/water.b6d02e43.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_none.a0876c1d.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_one.14ed2016.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_two.504cbe72.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_two_b.cde0d92a.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_three.a56fb38c.mtl\";","module.exports = __webpack_public_path__ + \"static/media/cloud.1337cfe0.obj\";","module.exports = __webpack_public_path__ + \"static/media/cloud.47b98894.mtl\";","module.exports = __webpack_public_path__ + \"static/media/tree_one.9a0a07b7.obj\";","module.exports = __webpack_public_path__ + \"static/media/tree_two.ddb2b1b0.obj\";","module.exports = __webpack_public_path__ + \"static/media/tree_one.9bf4606c.mtl\";","module.exports = __webpack_public_path__ + \"static/media/tree_two.bed7a1fa.mtl\";","module.exports = __webpack_public_path__ + \"static/media/arrow_perv.1448615b.svg\";","import { Mesh } from 'three';\r\n/**\r\n *  Class For Creating blocks for the world map\r\n *\r\n * @param models - the loaded OBJ and MTL object\r\n */\r\nexport default class CREATE {\r\n    constructor(models) {\r\n        /**\r\n         *  This Method return a Cloud block;\r\n         *\r\n         * @param pos - {x, y ,z}\r\n         *\r\n         * @returns {mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Cloud = (pos) => {\r\n            const { cloud } = this.models;\r\n            let mesh = new Mesh(cloud.geometry, cloud.material);\r\n            mesh.name = \"cloud\";\r\n            mesh.userData = {\r\n                type: \"Cloud\",\r\n                faction: 'none'\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n        };\r\n        /**\r\n         *  This Method return a Water block;\r\n         *\r\n         * @param {object} pos - {x, y ,z}\r\n         * @param {string} faction - The faction to witch the block belongs with\r\n         * @param {number} variation - The variation of the block\r\n         * @param {number} rotation - rotation of the block\r\n         * @returns {Mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Water = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { water } = this.models;\r\n            let mesh = new Mesh(water.geometry[variation], water.material[variation]);\r\n            mesh.name = \"water_\"+variation;\r\n            mesh.userData = {\r\n                type: \"Water\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY( Math.PI * rotation/180);\r\n            return mesh;\r\n        };\r\n        /**\r\n         *  This Method return a Field block;\r\n         *\r\n         * @param pos - {x, y ,z}\r\n         * @param {string} faction - The faction to witch the block belongs with\r\n         * @param {number} variation - The variation of the block\r\n         * @returns {Mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Field = (pos, faction = null, variation = 0) => {\r\n            const { field } = this.models;\r\n            let mesh = new Mesh(field.geometry, field.material);\r\n            mesh.name = \"base_field\";\r\n            mesh.userData = {\r\n                type: \"Field\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n        };\r\n        /**\r\n         *  This Method return a Field block;\r\n         *\r\n         * @param pos - {x, y ,z}\r\n         * @param {string} faction - The faction to witch the block belongs with\r\n         * @param {number} variation - The variation of the block\r\n         * @returns {Mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Tree = (pos, faction = null, variation = 0) => {\r\n            const { tree } = this.models;\r\n            let mesh = new Mesh(tree.geometry[variation], tree.material[variation]);\r\n            mesh.name = \"tree_\"+variation;\r\n            mesh.userData = {\r\n                type: \"Tree\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n        };\r\n        \r\n        this.Wall = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { wall } = this.models;\r\n            let mesh = new Mesh(wall.geometry[variation], wall.material[variation]);\r\n            mesh.name = \"wall_\"+variation;\r\n            mesh.userData = {\r\n                type: \"Wall\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY(Math.PI * rotation/180);\r\n            return mesh;\r\n        };\r\n        /**\r\n         *  This Method return a Ocean block;\r\n         *\r\n         * @param pos - {x, y ,z}\r\n         * @param {string} faction - The faction to witch the block belongs with\r\n         * @param {number} variation - The variation of the block\r\n         * @param {number} rotation - The rotation of the block\r\n         * @returns {Mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Ocean = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { ocean } = this.models;\r\n            let mesh = new Mesh(ocean.geometry[variation], ocean.material[variation]);\r\n            mesh.name = \"ocean_\"+variation;\r\n            mesh.userData = {\r\n                type: \"Ocean\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY(Math.PI * rotation/180);\r\n            return mesh;\r\n        };\r\n        /**\r\n         *  create a Fruit block mesh\r\n         *\r\n         * @param {number} pos - {x, y ,z}\r\n         * @param {string} faction - The faction to witch the block belongs with\r\n         * @param {number} variation - The variation of the block\r\n         * @returns {Mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Fruit = (pos, faction = null, variation = 0) => {\r\n            const { fruit } = this.models;\r\n            let mesh = new Mesh(fruit.geometry[variation], fruit.material[variation]);\r\n            mesh.name = \"fruit_\"+variation;\r\n            mesh.userData = {\r\n                type: \"Fruit\",\r\n                faction: faction,\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n        };\r\n        /**\r\n         *  This Method return a Slector\r\n         *\r\n         * @param {string} user - The faction to who the Slector belongs\r\n         * @param {number} y - The y axis\r\n         * @param {number} variation - The variation of the block\r\n         * @returns {Mesh} a THREEJS Mesh Object\r\n         */\r\n        this.Slector = (user, y, variation = 0) => {\r\n            const { slector } = this.models;\r\n            let mesh = new Mesh(slector.geometry, slector.material[variation]);\r\n            mesh.name = \"slector_\"+user;\r\n            mesh.userData = {\r\n                type: \"Slector\",\r\n                user: user,\r\n                variation: variation\r\n            };\r\n            mesh.position.set(0, y, 0);\r\n            return mesh;\r\n        };\r\n        this.models = models;\r\n    }\r\n}\r\n","import SimplexNoise from 'simplex-noise';\r\nimport CREATE from './createBlockMesh';\r\n\r\n\r\n\r\nexport default class WorldGenerationV3{\r\n    constructor(assets, settings){\r\n        this.settings = settings;\r\n        this.models = new CREATE(assets);\r\n        this.noise = new SimplexNoise();\r\n    }\r\n   \r\n\r\n    /**\r\n     *  creates noise\r\n    * @param {number} height the x axis of the world\r\n    * @param {number} width the y axis of the world\r\n    */\r\n    worldNoise(width,height){\r\n        let value = [];\r\n        for (let y = 0; y < height; y++){\r\n            value[y] = [];\r\n            for(let x = 0; x < width; x++){\r\n                let nx = x/width - 0.5, ny = y/height -0.5;\r\n                value[y][x] = this.noise.noise2D(nx, ny)/2+0.5;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n\r\n    createWorld(){\r\n        const {Field,Ocean,Water} = this.models;\r\n        const {dimentions, scene} = this.settings;\r\n        const noise = this.worldNoise(dimentions,dimentions);\r\n        const placementArray = [];\r\n        const worldIndex = [];\r\n        let row = 0;\r\n        let colum = 0;\r\n\r\n        // change noise into a \"String\" so that it can be test for Oceans by Fields\r\n        for(let y = 0; y <= noise.length-1; y++){\r\n            placementArray.push([])\r\n               for(let x = 0; x <= noise[y].length-1; x++){\r\n                placementArray[y].push(this.blockPlacement(noise[y][x]));      \r\n               }   \r\n        }\r\n         // set roation and variation for water and oceans and block coords\r\n        for(let a = 0; a <= placementArray.length-1; a++){\r\n            worldIndex.push([]);\r\n            for(let b = 0; b <= placementArray[a].length-1; b++){\r\n                switch (placementArray[a][b]) {\r\n                    case \"WATER\":\r\n                        let waterSides = 0;\r\n                        let wo = [];\r\n                        let rotation = 0;\r\n                        placementArray[a][b+1] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a][b-1] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a+1] === undefined ? waterSides+=0 : placementArray[a+1][b] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a-1] === undefined ? waterSides+=0 : placementArray[a-1][b] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        if(waterSides === 2){\r\n                           placementArray[a][b+1] === \"WATER\" && placementArray[a][b-1] === \"WATER\" ? waterSides = 5: waterSides+=0;\r\n                          if( placementArray[a+1] !== undefined && placementArray[a-1] !== undefined){\r\n                            placementArray[a+1][b] === \"WATER\" && placementArray[a-1][b] === \"WATER\" ? waterSides = 5: waterSides+=0;\r\n                          } \r\n                          \r\n                        }\r\n                            //front\r\n                            placementArray[a][b+1] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //back\r\n                            placementArray[a][b-1] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //right\r\n                            placementArray[a+1] === undefined ? wo.push(false) : placementArray[a+1][b] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //left\r\n                            placementArray[a-1] === undefined ? wo.push(false) : placementArray[a-1][b] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            if(waterSides===1){\r\n                                if(wo[0]===true && wo[1]===false && wo[2]===false && wo[3]===false){\r\n                                    rotation = 90;\r\n                                }else if(wo[0]===false && wo[1]===false && wo[2]===true && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===false && wo[1]===true && wo[2]===false && wo[3]===false){\r\n                                    rotation = 270;\r\n                                }else{\r\n                                    rotation = 180;\r\n                                }\r\n                            }\r\n                            if(waterSides===2){\r\n                                if(wo[0]===false && wo[1]===true && wo[2]===false && wo[3]===true){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===true && wo[1]===false && wo[2]===false && wo[3]===true){\r\n                                    rotation = 270;\r\n                                }else if(wo[0]===true && wo[1]===false && wo[2]===true && wo[3]===false){\r\n                                    rotation = 180;\r\n                                }else{\r\n                                    rotation = 90;\r\n                                }\r\n                            }\r\n                            if(waterSides===3){\r\n                                if(wo[0]===true && wo[1]===false && wo[2]===true && wo[3]===true){\r\n                                    rotation = 90;\r\n                                }else if(wo[0]===true && wo[1]===true && wo[2]===true && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===false && wo[1]===true && wo[2]===true && wo[3]===true){\r\n                                    rotation = 270;\r\n                                }else{\r\n                                    rotation = 180;\r\n                                }\r\n                            }\r\n                            if(waterSides===5){\r\n                                if(wo[0]===true && wo[1]===true && wo[2]===false && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else{\r\n                                    rotation = 90;\r\n                                }\r\n                            }\r\n\r\n                        worldIndex[a].push({type: placementArray[a][b], variation: waterSides, rotation, coords:{x:row,y:colum}});\r\n                        break;\r\n                    case \"OCEAN\":\r\n                            let oceanSides = 0;\r\n                            let oo = [];\r\n                            let oceanRotation = 0;\r\n                            placementArray[a][b+1] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a][b-1] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a+1] === undefined ? oceanSides+=0 : placementArray[a+1][b] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a-1] === undefined ? oceanSides+=0 : placementArray[a-1][b] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            if(oceanSides === 2){\r\n                               placementArray[a][b+1] === \"OCEAN\" && placementArray[a][b-1] === \"OCEAN\" ? oceanSides = 5: oceanSides+=0;\r\n                              if( placementArray[a+1] !== undefined && placementArray[a-1] !== undefined){\r\n                                placementArray[a+1][b] === \"OCEAN\" && placementArray[a-1][b] === \"OCEAN\" ? oceanSides = 5: oceanSides+=0;\r\n                              } \r\n                              \r\n                            }\r\n                            if((oceanSides > 0 && oceanSides < 4) || oceanSides === 5 ){\r\n                                //front\r\n                                placementArray[a][b+1] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //back\r\n                                placementArray[a][b-1] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //right\r\n                                placementArray[a+1] === undefined ? oo.push(false) : placementArray[a+1][b] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //left\r\n                                placementArray[a-1] === undefined ? oo.push(false) : placementArray[a-1][b] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n    \r\n                                if(oceanSides===1){\r\n                                    if(oo[0]===true && oo[1]===false && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 270;\r\n                                    }else if(oo[0]===false && oo[1]===false && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 180;\r\n                                    }else if(oo[0]===false && oo[1]===true && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 90;\r\n                                    }else{\r\n                                        oceanRotation = 0;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===2){\r\n                                    if(oo[0]===false && oo[1]===true && oo[2]===false && oo[3]===true){\r\n                                        oceanRotation = 0;\r\n                                    }else if(oo[0]===true && oo[1]===false && oo[2]===false && oo[3]===true){\r\n                                        oceanRotation = 270;\r\n                                    }else if(oo[0]===true && oo[1]===false && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 180;\r\n                                    }else{\r\n                                        oceanRotation = 90;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===3){\r\n                                    if(oo[0]===true && oo[1]===false && oo[2]===true && oo[3]===true){\r\n                                        oceanRotation = 90;\r\n                                    }else if(oo[0]===true && oo[1]===true && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 0;\r\n                                    }else if(oo[0]===false && oo[1]===true && oo[2]===true && oo[3]===true){\r\n                                        oceanRotation = 270;\r\n                                    }else{\r\n                                        oceanRotation = 180;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===5){\r\n                                    if(oo[0]===true && oo[1]===true && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 90;\r\n                                    }else{\r\n                                        oceanRotation = 0;\r\n                                    }\r\n                                }\r\n                            }\r\n                            worldIndex[a].push({type: placementArray[a][b], variation: oceanSides, rotation: oceanRotation, coords:{x:row,y:colum}});\r\n                        break;\r\n                    default:\r\n                        worldIndex[a].push({type: placementArray[a][b], variation: 0, rotation: 0, coords:{x:row,y:colum}});\r\n                        break;\r\n                }\r\n\r\n                row +=2\r\n            }\r\n\r\n            if(row > dimentions){\r\n                colum +=2;\r\n                row = 0;\r\n            }\r\n\r\n\r\n        }\r\n        console.log(worldIndex)\r\n        worldIndex.forEach(array=>{\r\n            array.forEach(object=>{\r\n                switch(object.type){\r\n                    case \"WATER\":\r\n                            scene.add(Water({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    case \"OCEAN\":\r\n                            scene.add(Ocean({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    case \"FIELD\":\r\n                            scene.add(Field({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    default:\r\n                        console.warn(\"E\");\r\n                        break;\r\n                }\r\n            });\r\n        });\r\n       \r\n    }\r\n\r\n\r\n    blockPlacement(int){\r\n        if(int <=0.25){\r\n            return \"OCEAN\";\r\n        }else if(int < 0.45 && int > 0.25){\r\n            return \"WATER\";\r\n        }else{\r\n            return \"FIELD\";\r\n        }\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport * as THREE from 'three';\r\nimport * as YUKA from 'yuka';\r\nimport CameraControls from 'camera-controls';\r\nimport { connect } from 'react-redux'\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport WorldGenerationV3 from '../../scripts/wordGenerationv3';\r\nimport './Game.sass';\r\n\r\n//dev\r\nimport * as dat from 'dat.gui';\r\n\r\n\r\n\r\nconst mapStateToProps = state => {return {\r\n assets:state.gameAssetsLoad.assets\r\n}}\r\nconst mapDispatchToProps = dispatch => {return {}}\r\nclass Game extends Component{\r\n  constructor(){\r\n    super();\r\n    this.entityManager = new YUKA.EntityManager();\r\n    this.scene = new THREE.Scene();\r\n    this.clock = new THREE.Clock();\r\n    this.raycaster = new THREE.Raycaster();\r\n    this.renderer = new THREE.WebGLRenderer({antialias: true});\r\n    this.composer = new EffectComposer( this.renderer );\r\n    this.state = {\r\n      canClick: true,\r\n      hasClicked: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n   // window.addEventListener(\"resize\",this.handleResize);\r\n   window.addEventListener(\"click\",this.blockClicked,false)\r\n    //dev \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\r\n    const parsm = {\r\n      canClick : true,\r\n      hasClicked: false\r\n    }\r\n    const gui = new dat.GUI();\r\n    gui.add(parsm,\"canClick\").onFinishChange(v=>{this.setState({canClick: v})})\r\n    gui.add(parsm,\"hasClicked\").onFinishChange(v=>{this.setState({hasClick: v})}).listen()\r\n  \r\n    //dev \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\r\n\r\n    CameraControls.install({THREE: THREE});\r\n   \r\n    this.renderer.shadowMap.enabled = true;\r\n    this.renderer.autoClear = false;\r\n    this.renderer.setSize(window.innerWidth,window.innerHeight);\r\n    this.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.mount.appendChild(this.renderer.domElement);\r\n\r\n\r\n    this.camera = new THREE.OrthographicCamera(window.innerWidth/-200,window.innerWidth/200,window.innerHeight/200,window.innerHeight/-200,1,1000);\r\n    this.camera.position.set( 53, 57, 57 );\r\n    this.camera.rotation.set(-0.965,0.505,0.610);\r\n    this.camera.zoom =  0.16401226550047032;\r\n    this.camera.updateProjectionMatrix();\r\n\r\n    this.composer.addPass( new RenderPass( this.scene, this.camera ) );\r\n    \r\n    const bb = new THREE.Box3(\r\n      new THREE.Vector3( 20, 0, 20 ),\r\n      new THREE.Vector3( 50, 50, 50 )\r\n    );\r\n    this.cameraControls = new CameraControls( this.camera, this.renderer.domElement);\r\n    this.cameraControls.dollySpeed = 0.9;\r\n    this.cameraControls.maxZoom = 0.5;\r\n    this.cameraControls.minZoom = 0.09;\r\n    this.cameraControls.setBoundary(bb);\r\n  \r\n    \r\n\r\n    // assets\r\n    const directionalLight = new THREE.DirectionalLight();\r\n    directionalLight.position.set(0,200,0);\r\n    directionalLight.rotation.set(25,0,0);\r\n    this.scene.add(directionalLight);\r\n    const hemisphere = new THREE.HemisphereLight();\r\n    this.scene.add(hemisphere);\r\n     \r\n    setTimeout(()=>{\r\n      new WorldGenerationV3(this.props.assets,{scene: this.scene,dimentions:12}).createWorld()\r\n      this.scene.background = this.props.assets.textures.background;\r\n    },1000)\r\n\r\n\r\n    if(!this.frameId){\r\n      this.frameId = requestAnimationFrame(this.animate)\r\n    }else{\r\n      this.animate();\r\n    }\r\n  }\r\n  componentWillUnmount(){\r\n    cancelAnimationFrame(this.frameId);\r\n    this.mount.removeChild(this.renderer.domElement);\r\n  }\r\n  blockClicked = ev =>{\r\n    //  check if cuser is over ui\r\n    if(this.state.canClick){\r\n      const mouse2D = new THREE.Vector2((ev.clientX/window.innerWidth)*2-1,-(ev.clientY/window.innerHeight)*2+1)\r\n      this.raycaster.setFromCamera(mouse2D, this.camera);\r\n      const intersects = this.raycaster.intersectObjects(this.scene.children);\r\n      // has slected a block but not a new one\r\n      if(!this.state.hasClicked){\r\n        if(intersects[0] !== undefined){\r\n          this.setState({hasClicked: true})\r\n         }\r\n       }else{\r\n         this.setState({hasClicked: false})\r\n       }\r\n\r\n\r\n     }  \r\n  }\r\n\r\n  handleResize = e => {\r\n    this.camera.aspect = window.innerWidth/window.innerHeight;\r\n    this.camera.updateProjectionMatrix();\r\n    this.renderer.setSize(window.innerWidth,window.innerHeight, true);\r\n    this.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.composer.setSize(window.innerWidth,window.innerHeight);\r\n    this.composer.setPixelRatio( window.devicePixelRatio );\r\n  }\r\n\r\n  animate = () =>{\r\n    const delta = this.clock.getDelta();\r\n    this.frameId = window.requestAnimationFrame(this.animate);\r\n    this.cameraControls.update(delta);\r\n    this.entityManager.update(delta)\r\n    this.composer.render();\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n       <div id=\"three-scene\" ref={mount => {this.mount = mount}}>\r\n       \r\n       </div>\r\n    );\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Game);\r\n\r\n\r\n","export const GAMEASSETSLOAD = { \r\n                            PENDING: \"GAMEASSETSLOAD_PENDING\", \r\n                            ERROR:\"GAMEASSETSLOAD_ERROR\",\r\n                            COMPLETE:\"GAMEASSETSLOAD_COMPLETE\",\r\n                            PROGRESS:\"GAMEASSETSLOAD_PROGRESS\"\r\n                          };\r\nexport const GAMELOCATION = \"GAMELOCATION\";","import {LoadingManager,TextureLoader} from 'three';\r\nimport {OBJLoader} from 'three/examples/jsm/loaders/OBJLoader';\r\nimport {MTLLoader} from 'three/examples/jsm/loaders/MTLLoader';\r\nimport * as rConst from './constants'\r\n\r\nimport backgroundImage from '../assets/images/background_game.webp';\r\n\r\nimport FieldObj from '../assets/models/field/field.obj';\r\nimport FieldMtl from '../assets/models/field/field.mtl';\r\n\r\nimport FruitOneObj from '../assets/models/fruit/fruit_one.obj';\r\nimport FruitOneMtl from '../assets/models/fruit/fruit_one.mtl';\r\n\r\nimport OceanObj from '../assets/models/ocean/ocean.obj';\r\nimport OceanNoneObj from '../assets/models/ocean/ocean_none.obj';\r\nimport OceanOneObj from '../assets/models/ocean/ocean_one.obj';\r\nimport OceanTwoObj from '../assets/models/ocean/ocean_two.obj';\r\nimport OceanTwoBObj from '../assets/models/ocean/ocean_two_b.obj';\r\nimport OceanThreeObj from '../assets/models/ocean/ocean_three.obj';\r\nimport OceanMtl from '../assets/models/ocean/ocean.mtl';\r\nimport OceanNoneMtl from '../assets/models/ocean/ocean_none.mtl';\r\nimport OceanOneMtl from '../assets/models/ocean/ocean_one.mtl';\r\nimport OceanTwoMtl from '../assets/models/ocean/ocean_two.mtl';\r\nimport OceanTwoBMtl from '../assets/models/ocean/ocean_two_b.mtl';\r\nimport OceanThreeMtl from '../assets/models/ocean/ocean_three.mtl';\r\n\r\nimport WaterObj from '../assets/models/water/water.obj';\r\nimport WaterNoneObj from '../assets/models/water/water_none.obj';\r\nimport WaterOneObj from '../assets/models/water/water_one.obj';\r\nimport WaterTwoObj from '../assets/models/water/water_two.obj';\r\nimport WaterTwoBObj from '../assets/models/water/water_two_b.obj';\r\nimport WaterThreeObj from '../assets/models/water/water_three.obj';\r\nimport WaterMtl from '../assets/models/water/water.mtl';\r\nimport WaterNoneMtl from '../assets/models/water/water_none.mtl';\r\nimport WaterOneMtl from '../assets/models/water/water_one.mtl';\r\nimport WaterTwoMtl from '../assets/models/water/water_two.mtl';\r\nimport WaterTwoBMtl from '../assets/models/water/water_two_b.mtl';\r\nimport WaterThreeMtl from '../assets/models/water/water_three.mtl';\r\n\r\nimport CloudObj from '../assets/models/other/cloud.obj';\r\nimport CloudMtl from '../assets/models/other/cloud.mtl';\r\n\r\n//import SlectorObj from '../assets/models/other/slector.obj';\r\n//import SlectorNoneMtl from '../assets/models/other/slector.mtl';\r\n//import slectorFactionMtl from '../assets/models/other/slectorFaction.mtl';\r\n\r\nimport TreeOneObj from '../assets/models/trees/tree_one.obj';\r\nimport TreeTwoObj from '../assets/models/trees/tree_two.obj';\r\nimport TreeOneMtl from '../assets/models/trees/tree_one.mtl';\r\nimport TreeTwoMtl from '../assets/models/trees/tree_two.mtl';\r\n\r\n\r\n/**\r\n * change the ingame content location \r\n * ex. displayer the block info box \r\n * @param {string} location \r\n */\r\nexport const setGameLocation = (location)=> dispatch =>{\r\n      dispatch({type:rConst.GAMELOCATION, payload: location});\r\n}\r\n\r\nlet assets = { };\r\nconst loadManager = new LoadingManager();\r\nconst textureLoader = new TextureLoader(loadManager);\r\nconst mtlLoader = new MTLLoader(loadManager).setResourcePath('./textures/');\r\nconst loadWaterAssets = async()=>{\r\n\r\n  await mtlLoader.load(WaterMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterObj,object=>{\r\n      assets.water = {\r\n       geometry: [object.children[0].geometry],\r\n       material: [object.children[0].material]\r\n     }\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterThreeMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterThreeObj,object=>{\r\n      assets.water.geometry[1] = object.children[0].geometry\r\n      assets.water.material[1] = object.children[0].material\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterTwoMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterTwoObj,object=>{\r\n      assets.water.geometry[2] = object.children[0].geometry;\r\n      assets.water.material[2] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterOneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterOneObj,object=>{\r\n      assets.water.geometry[3] = object.children[0].geometry;\r\n      assets.water.material[3] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterNoneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterNoneObj,object=>{\r\n      assets.water.geometry[4] = object.children[0].geometry;\r\n      assets.water.material[4] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterTwoBMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterTwoBObj,object=>{\r\n      assets.water.geometry[5] = object.children[0].geometry;\r\n      assets.water.material[5] = object.children[0].material;\r\n    });\r\n  });\r\n}\r\nconst loadOceanAssets = async()=>{\r\n  await mtlLoader.load(OceanMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanObj,object=>{\r\n      assets.ocean = {\r\n       geometry: [object.children[0].geometry],\r\n       material: [object.children[0].material]\r\n     }\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanThreeMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanThreeObj,object=>{\r\n      assets.ocean.geometry[1] = object.children[0].geometry\r\n      assets.ocean.material[1] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanTwoMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanTwoObj,object=>{\r\n      assets.ocean.geometry[2] = object.children[0].geometry;\r\n      assets.ocean.material[2] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanOneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanOneObj,object=>{\r\n      assets.ocean.geometry[3] =object.children[0].geometry;\r\n      assets.ocean.material[3] =object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanNoneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanNoneObj,object=>{\r\n      assets.ocean.geometry[4] = object.children[0].geometry;\r\n      assets.ocean.material[4] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanTwoBMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanTwoBObj,object=>{\r\n      assets.ocean.geometry[5] = object.children[0].geometry;\r\n      assets.ocean.material[5] = object.children[0].material;\r\n    });\r\n  });\r\n}\r\n/**\r\n * load game assets\r\n */\r\nexport const loadAssets = () => (dispatch) => {\r\n    \r\n    loadManager.onStart=()=>{dispatch({type: rConst.GAMEASSETSLOAD.PENDING})};\r\n    loadManager.onLoad=()=>{dispatch({type: rConst.GAMEASSETSLOAD.COMPLETE, payload : assets})};\r\n    loadManager.onError=err=>{dispatch({type: rConst.GAMEASSETSLOAD.ERROR, payload:err})};\r\n    loadManager.onProgress=(url,itemsLoaded,itemsTotal)=>{dispatch({type: rConst.GAMEASSETSLOAD.PROGRESS, payload:{item: itemsLoaded, of: itemsTotal}})}\r\n\r\n    \r\n\r\n    textureLoader.load(backgroundImage,(texture)=>{\r\n        assets.textures = {\r\n          background: texture\r\n        }\r\n      });\r\n\r\n      loadWaterAssets();\r\n      loadOceanAssets();\r\n\r\n      mtlLoader.load(FieldMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials);\r\n        objLoader.load(FieldObj,object=>{\r\n          assets.field = {\r\n           geometry: object.children[0].geometry,\r\n           material: object.children[0].material\r\n         }\r\n        });\r\n      });\r\n\r\n      mtlLoader.load(CloudMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(CloudObj,object=>{\r\n          assets.cloud = {\r\n           geometry: object.children[0].geometry,\r\n           material: object.children[0].material\r\n         }\r\n        });\r\n      });\r\n\r\n\r\n      mtlLoader.load(TreeOneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(TreeOneObj,object=>{\r\n          assets.tree = {\r\n           geometry: [object.children[0].geometry],\r\n           material: [object.children[0].material]\r\n         }\r\n         mtlLoader.load(TreeTwoMtl,materials=>{\r\n          materials.preload();\r\n          const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n          objLoader.load(TreeTwoObj,object=>{\r\n            assets.tree.geometry.push(object.children[0].geometry);\r\n            assets.tree.material.push(object.children[0].material);\r\n          });\r\n        });\r\n        });\r\n      });\r\n\r\n\r\n      mtlLoader.load(FruitOneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(FruitOneObj,object=>{\r\n          assets.fruit = {\r\n           geometry: [object.children[0].geometry],\r\n           material: [object.children[0].material]\r\n         }\r\n        });\r\n      });\r\n\r\n}\r\n\r\n","import React, {Component} from 'react';\r\n\r\nexport default class ErrorBoundry extends Component{\r\nconstructor(props){\r\n super(props);\r\n this.state = {\r\n     error: \"\",\r\n     hasError: false\r\n }\r\n}\r\ncomponentDidCatch(e){\r\n this.setState({ error: e, hasError: true});\r\n}\r\nrender(){ \r\n    return this.state.hasError ? <div>Componet Error</div> : this.props.children\r\n       }\r\n\r\n}","const defaultSettings = {\r\n    sound_effects: true, \r\n    ambience: true, \r\n    tribe_music: true, \r\n    suggestions:true,\r\n    info_on_build:true,\r\n    confirm_turn:true,\r\n    volume: 100\r\n  }\r\nexport const savedGames = {\r\n    get: () =>{\r\n         return JSON.parse(localStorage.getItem('save'));\r\n    },\r\n    set: (data)=>{\r\n        localStorage.setItem('save',data);\r\n    },\r\n    remove: ()=>{\r\n        localStorage.removeItem('save');\r\n    },\r\n    hasSave: ()=>{\r\n        if(localStorage.getItem('save')){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\nexport const loadSettings = {\r\n    default: defaultSettings,\r\n    get: () =>{\r\n        return JSON.parse(localStorage.getItem('settings'));\r\n   },\r\n   set: (data,current)=>{\r\n       localStorage.setItem('settings', JSON.stringify(Object.assign({},current,data)));\r\n       return JSON.parse(localStorage.getItem('settings'));\r\n   },\r\n   remove: ()=>{\r\n       localStorage.removeItem('settings');\r\n   },\r\n   isVaild:()=>{\r\n       let isSettings = localStorage.getItem('settings');\r\n       if(isSettings === null){\r\n           localStorage.setItem('settings', JSON.stringify(defaultSettings))\r\n           return false;\r\n       }\r\n       return true\r\n   }\r\n};","import React from 'react';\r\nimport ICON from '../../assets/images/icons/arrow_perv.svg';\r\nimport './BackButton.sass'\r\n\r\n/**\r\n * \r\n * @param {Function} clickfunc the func to run when clicked \r\n */\r\nconst BackButton = ({uri, params})=> {\r\n    //TODO get font button => http://cdn.onlinewebfonts.com/svg/img_295694.svg\r\n return (<button className=\"back-button\" onClick={()=>{window.history.back()}}><img src={ICON} alt=\"back Icon\"/></button>);\r\n}\r\nexport default BackButton;","import React from 'react';\r\nimport {REVISION} from 'three';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport './About.sass'\r\nconst AboutPage = ()=> {\r\n return (\r\n        <div id=\"about\">\r\n            <BackButton/>\r\n            <h1>-ABOUT-</h1>\r\n\r\n            <section>\r\n                <h3>-Debug Info-</h3>\r\n                <p>Build version . . . . . 2.3.0alpha (Rework)</p>\r\n                <p>THREE Revision . . . . . . . .{REVISION}</p>\r\n                <p>Screen size . . . . . . . . . {`${window.innerHeight}x${window.innerWidth}`}</p>\r\n            </section>\r\n\r\n        </div>\r\n        );\r\n}\r\nexport default AboutPage;","import React from 'react';\r\nimport \"./Loader.sass\";\r\n\r\nconst Loader = ()=> {\r\n return (\r\n    <div className=\"lds\"><div></div><div></div><div></div></div>\r\n        );\r\n}\r\nexport default Loader;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport \"./ThroneRoom.sass\";\r\nconst ThroneRoom = ()=> {\r\n    let topScore = [];\r\n    let topRating = [];\r\n return ( \r\n        <div id=\"throneroom\">\r\n            <BackButton/>\r\n            <h1>-THRONE ROOM-</h1>\r\n            <section id=\"tr-player\">\r\n                <h4>-Player Info</h4>\r\n                <p>Player ID . . . . .  {`GET_ID`}</p>\r\n                <p>Alias . . . . . . .  {`GET_ALIAS`}</p>\r\n                <p>Games Played . . . . {`GET_GAMESPLAYED`}</p>\r\n            </section>\r\n            <section>\r\n                <h4>-Top Score-</h4>\r\n                {topScore.length > 0 ? <p>CONTETN</p>: <Loader/>}\r\n            </section>\r\n            <section>\r\n                <h4>-Top Rating-</h4>\r\n                {topRating.length > 0 ? <p>CONTETN</p>: <Loader/>}\r\n            </section>\r\n        </div>\r\n        );\r\n}\r\nexport default ThroneRoom;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport './HighScore.sass';\r\n\r\n\r\nconst list = [<div className=\"menu-item\">All Tribes</div>,\r\n              <div className=\"menu-item\">Xin-xi</div>,\r\n              <div className=\"menu-item\">Imperius</div>,\r\n              <div className=\"menu-item\">Bardar</div>,\r\n              <div className=\"menu-item\">Oumaji</div>,\r\n              <div className=\"menu-item\">Vengir</div>]\r\nconst HighScore = ()=> {\r\n    let highScores = [];\r\n return (\r\n        <div id=\"highscore\">\r\n            <BackButton/>\r\n            <h1>-HIGH SCORE-</h1>\r\n            <ScrollMenu dragging={true} clickWhenDrag={true} data={list} wrapperClass={\"hr-menu\"} wheel={true}/>\r\n            <section>\r\n                {highScores.length > 0 ? <p>CONTENT</p>: <Loader/>}\r\n            </section>\r\n        </div>\r\n        );\r\n}\r\nexport default HighScore;","import React from \"react\";\r\nimport \"./ToggleButton.sass\";\r\n// TODO add onChange function callback\r\nconst ToggleButton = ({ id, text, checked ,change}) => {\r\n  if (checked === undefined) {\r\n    checked = true;\r\n  }\r\n  return (\r\n    <div className=\"toggle-button\">\r\n      <h5>{text}</h5>\r\n      <input\r\n        className=\"tgl tgl-skewed\"\r\n        id={id}\r\n        type=\"checkbox\"\r\n        defaultChecked={checked}\r\n        onChange={(v)=>{change(v)}}\r\n      />\r\n      <label\r\n        className=\"tgl-btn\"\r\n        data-tg-on=\"ON\"\r\n        data-tg-off=\"OFF\"\r\n        htmlFor={id}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleButton;\r\n","import React from \"react\";\r\nimport Aviator from \"aviator\";\r\nimport \"./NormalButton.sass\";\r\n/**\r\n * @param {string} text display text\r\n * @param {boolean} isUri use router\r\n * @param {object|Function} callback {uri,params} || Function\r\n * @param {boolean} warn  use warn css\r\n * @param {boolean} disable use disable css\r\n */\r\nconst NormalButton = ({ text, isUri, callback, warn, disable }) => {\r\n  let method;\r\n  if (isUri) {\r\n    method = () => {\r\n      Aviator.navigate(callback.uri, callback.params);\r\n    };\r\n  } else {\r\n    method = callback;\r\n  }\r\n  return (\r\n    <button\r\n      onClick={method}\r\n      className={`normal-button ${warn ? \"warn\" : \"\"} ${\r\n        disable ? \"disable\" : \"\"\r\n      }`}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\nexport default NormalButton;\r\n","import React,{useReducer} from 'react';\r\nimport './Settings.sass'\r\nimport ToggleButton from '../../ToggleButtom/ToggleButtom';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {loadSettings} from '../../../scripts/loaders';\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"set\":\r\n            return loadSettings.set(action.payload,state)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n/**\r\n * \r\n * @param {boolen} menu is a ingame menu? \r\n */\r\nconst Settings = ({menu})=> {\r\n    let settings; // loaded settings\r\n    // is a in game menu?\r\n    if(menu === undefined){\r\n        menu = false;\r\n    }\r\n    // audio text state\r\n    if(loadSettings.isVaild()){\r\n         settings = loadSettings.get();\r\n    }else{\r\n        settings = loadSettings.default;\r\n    }\r\n    const [state, dispatch] = useReducer(reducer, settings);\r\n return (   \r\n            <div id=\"settings\">\r\n                <BackButton/>\r\n                <h1>-SETTINGS-</h1>\r\n                <section id=\"audio-select\">\r\n                    <p>Audio volume {state.volume}</p>\r\n                    <div className=\"slidecontainer\">\r\n                      <input type=\"range\" min=\"0\" max=\"100\" defaultValue={settings.volume} id=\"audio\" onChange={(v)=>dispatch({type:\"set\", payload: {volume: v.target.value}})}/>\r\n                    </div>\r\n                </section>\r\n                <section>\r\n                    <ToggleButton checked={settings.sound_effects} id=\"soundEffect\" text=\"Sound Effects\" change={(v)=>dispatch({type:\"set\", payload: {sound_effects: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.ambience} id=\"ambience\" text=\"Ambience\" change={(v)=>dispatch({type:\"set\", payload: {ambience: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.tribe_music} id=\"tribeMusic\" text=\"Tribe Music\" change={(v)=>dispatch({type:\"set\", payload: {tribe_music: v.target.checked}})}/>\r\n                </section>\r\n                <hr/>\r\n                <section>\r\n                    <ToggleButton checked={settings.suggestions} id=\"suggestions\" text=\"Suggestions\" change={(v)=>dispatch({type:\"set\", payload: {suggestions: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.info_on_build} id=\"infoOnBuild\" text=\"Info On Build\" change={(v)=>dispatch({type:\"set\", payload: {info_on_build: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.confirm_turn} id=\"confirmTurn\" text=\"Confirm Turn\" change={(v)=>dispatch({type:\"set\", payload: {confirm_turn: v.target.checked}})}/>\r\n                </section>\r\n                {menu ? <hr/> : null}\r\n                {menu ? <NormalButton text=\"EXIT GAME\" warn={true} isUri={true} callback={{uri:\"/main\", params:{}}}/> : null}         \r\n          </div>\r\n        );\r\n}\r\nexport default Settings;","import React from 'react';\r\nimport Aviator from 'aviator';\r\nimport \"./IconButton.sass\"\r\n\r\n/**\r\n * \r\n * @param {string} text text to display on button\r\n * @param {string|Function} uri uir to naviagete to or function\r\n * \r\n *  uses css class icon-button\r\n */\r\nconst IconButton = ({children, text, uri})=> {\r\n    let click;\r\n    if(typeof uri === \"string\"){\r\n        click = ()=>{Aviator.navigate(uri)};\r\n    }else{\r\n        click = uri;\r\n    }\r\n    return (  \r\n            <div className=\"icon-button\">\r\n                <button onClick={click}>\r\n                    {children}\r\n                </button>\r\n                <p>{text}</p>\r\n            </div>\r\n            );\r\n}\r\nexport default IconButton;","import React from 'react';\r\nimport IconButton from '../../IconButton/IconButton';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport './MainMenu.sass';\r\n\r\nconst MainMenu = ({saved})=> {\r\n return (<div id=\"main-menu\">\r\n        <div className=\"Logo\">\r\n            <img src=\"\" alt=\"Main icon\"></img>\r\n            <p>---THE BATTLE OF ---</p>\r\n            <h1>POLYTOPIA</h1>\r\n        </div>\r\n        <div className=\"main\">\r\n            <NormalButton text=\"NEW GAME\" isUri={true} callback={{uri:\"/main/singleplayer/mode\",params:{}}}/>\r\n            {saved ?  <NormalButton text=\"RESUME GAME\" isUri={true} callback={{uri:\"/game\",params:{}}}/> : null}\r\n            <NormalButton text=\"MULTIPLAYER\" isUri={true} callback={{uri:\"/main/multiplayer\",params:{}}}/>\r\n        </div>\r\n         <section id=\"menu-nav\">\r\n            <IconButton text=\"Settings\" uri=\"/main/settings\"></IconButton>\r\n            <IconButton text=\"throneroom\" uri=\"/main/throneroom\"></IconButton>\r\n            <IconButton text=\"Highscore\" uri=\"/main/highscore\"></IconButton>\r\n            <IconButton text=\"About\" uri=\"/main/about\"></IconButton>\r\n         </section>\r\n        </div>);\r\n}\r\nexport default MainMenu;","import React from 'react';\r\nimport './Singleplayer.sass'\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nconst Tribe = ()=> {\r\n return (<div id=\"sp-tribe\">\r\n     <h1>Tribe</h1>\r\n <NormalButton text=\"RANDOM\" isUri={true} callback={{uri:\"/main/singleplayer/setup\", params:{queryParams:{mode: \"none\", tribe:\"random\"}}}}/></div>);\r\n}\r\nexport default Tribe;","import React from 'react';\r\nimport './Singleplayer.sass';\r\nimport NormalButton from '../../NormalButton/NormalButton'\r\n\r\nconst Mode = ()=> {\r\n return (<div id=\"sp-mode\">\r\n     <h1>MODE</h1>\r\n     <NormalButton text=\"GAME1\" isUri={true} callback={{uri:\"/main/singleplayer/tribe\", params:{queryParams:{mode: false}}}}/>\r\n     <NormalButton text=\"GAME2\" isUri={true} callback={{uri:\"/main/singleplayer/tribe\", params:{queryParams:{mode: false}}}}/>\r\n </div>);\r\n}\r\nexport default Mode;","import React from 'react';\r\nimport './Singleplayer.sass';\r\nimport NormalButton from '../../NormalButton/NormalButton'\r\nconst SetupSP = ()=> {\r\n return (<div id=\"sp-setup\"><NormalButton text=\"Start Game\" isUri={true} callback={{uri:\"/game\", params:{queryParams:{savedGame: false}}}}/></div>);\r\n}\r\nexport default SetupSP;","import React from 'react';\r\nimport IconButton from '../../IconButton/IconButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {ws} from '../../../scripts/websocket';\r\nimport './Multiplayer.sass';\r\n\r\n\r\nconst Multiplayer = ()=> {\r\n    //TODO add Websocket code here\r\n return (<div id=\"multiplayer\">\r\n            <BackButton/>\r\n            <h1>-MULTIPLAYER-</h1>\r\n            <h3>{`-${ false ? \"Your\" : \"Their\"} Turn-`}</h3>\r\n            <h3>{\"-Pass & Play-\"}</h3>\r\n            <section>\r\n                <IconButton uri=\"/main/multiplayer/new-game/setup\" text=\"New Game\"></IconButton> \r\n                <IconButton uri=\"/main/multiplayer/friends\" text=\"Friends\"></IconButton>\r\n                <IconButton uri=\"/main/multiplayer/profile\" text=\"Profile\"></IconButton>\r\n            </section>\r\n            </div>);\r\n}\r\nexport default Multiplayer;","import React from 'react';\r\nimport './Multiplayer.sass'\r\n\r\nconst Friends = ()=> {\r\n return (<div id=\"mp-friends\">FRIENDS</div>);\r\n}\r\nexport default Friends;","import React from 'react';\r\nimport './Multiplayer.sass'\r\n\r\nconst Profile = ()=> {\r\n return (<div id=\"mp-profile\">PROFILE</div>);\r\n}\r\nexport default Profile;","import React from 'react';\r\n\r\nconst SetupMP = ()=> {\r\n return (<div id=\"mp-setup\">SETUP</div>);\r\n}\r\nexport default SetupMP;","import React, {Component} from 'react';\r\nimport Game from '../Game/Game';\r\nimport { connect } from 'react-redux'\r\nimport {loadAssets} from '../../redux/actions';\r\nimport ErrorBoundry from '../Errorboundery/Errorboundery';\r\nimport Aviator from 'aviator';\r\nimport {savedGames} from '../../scripts/loaders';\r\nimport './App.sass'\r\n\r\nimport AboutPage from '../../components/pages/About/About';\r\nimport ThroneRoom from '../../components/pages/ThoneRoom/ThroneRoom';\r\nimport HighScore from '../../components/pages/HighScore/HighScore';\r\nimport Settings from '../../components/pages/Settings/Settings';\r\nimport MainMenu from '../../components/pages/MainMenu/MainMenu';\r\n\r\n// singleplayer pages\r\nimport Tribe from '../../components/pages/Singleplayer/Tribe';\r\nimport Mode from '../../components/pages/Singleplayer/Mode';\r\nimport SetupSP from '../../components/pages/Singleplayer/SetupSP';\r\n//multiplayer pages\r\nimport Multiplayer from '../../components/pages/Multiplayer/Multiplayer';\r\nimport Friends from '../../components/pages/Multiplayer/Friends';\r\nimport Profile from '../../components/pages/Multiplayer/Profile';\r\n//multiplayer new game\r\nimport SetupMP from '../../components/pages/Multiplayer/NewGame/SetupMP';\r\n\r\n\r\nconst mapStateToProps = state => {return {\r\n    of: state.gameAssetsLoad.progress.of,\r\n    item: state.gameAssetsLoad.progress.item,\r\n    isPending: state.gameAssetsLoad.isPending,\r\n    loadError: state.gameAssetsLoad.error,\r\n}}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      loadGameAssets: ()=>dispatch(loadAssets())\r\n    }\r\n  }\r\n\r\n\r\nclass App extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            savedGame: false,\r\n            savedGameObject: {},\r\n            location: \"MAIN\",\r\n            hasBefore: false\r\n        }\r\n    }\r\n    goTo(to, params = {}){\r\n        Aviator.navigate(to,params)\r\n    }\r\n    componentDidMount(){\r\n        this.props.loadGameAssets();\r\n        Aviator.setRoutes({\r\n            '/game': {\r\n                target: { showGame:()=>{this.setState({location:\"GAME\"});},\r\n                          show:(v)=>{console.log(\"game Content\")} \r\n                        },\r\n                '/': \"showGame\",\r\n                \"/view\":{\"/:type\":\"show\" },\r\n                \"/tech\":{'/:type':\"show\"},\r\n                \"/stats\":\"show\",\r\n                \"/menu\":\"show\"\r\n            },\r\n            \"/main\":{\r\n                target:{ \r\n                        index: ()=>{this.setState({location: \"MAIN\"}) },\r\n                        show:(v)=>{ \r\n                           this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})\r\n                         }\r\n                        },\r\n                \"/\":\"index\",\r\n                \"/singleplayer\":{\r\n                    target:{ show:(v)=>{this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})}\r\n                            },\r\n                    \"/mode\":\"show\",\r\n                    \"/tribe\":\"show\",\r\n                    \"/setup\":\"show\"\r\n                },\r\n                \"/multiplayer\":{\r\n                    target:{ show:(v)=>{this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})},\r\n                            },\r\n                    \"/\":\"show\",\r\n                    \"/new-game\":{\r\n                        target:{ show:(v)=>{ this.setState({location: v.uri.replace(\"/main/multiplayer/\",\"\").toUpperCase()})}\r\n                                },\r\n                        \"/setup\":\"show\",\r\n                        \"/players\":\"show\",\r\n                        \"/tribes\":\"show\"\r\n                    },\r\n                    \"/friends\":\"show\",\r\n                    \"/profile\":\"show\",\r\n                    \"/:game\":\"game\"\r\n                },\r\n                \"/settings\":\"show\",\r\n                \"/highscore\":\"show\",\r\n                \"/throneroom\":\"show\",\r\n                \"/about\":\"show\"\r\n            }\r\n          });\r\n          Aviator.dispatch();\r\n          if(!this.state.hasBefore){\r\n              this.goTo('/main',{ replace: true });\r\n              this.setState({hasBefore: true});\r\n          }\r\n          \r\n\r\n    }\r\n   loadContent(location){\r\n       switch (location) {\r\n            case \"MAIN\":\r\n               return (<MainMenu saved={savedGames.hasSave()}/>);\r\n            case \"SETTINGS\":\r\n              return  <Settings menu={false}/>;\r\n            case \"ABOUT\":\r\n              return <AboutPage/>;\r\n            case \"HIGHSCORE\":\r\n                return <HighScore/>;\r\n            case \"THRONEROOM\":\r\n                return <ThroneRoom/>;\r\n            case \"SINGLEPLAYER/MODE\":\r\n                return <Mode/>;\r\n            case \"SINGLEPLAYER/TRIBE\":\r\n                return <Tribe/>;\r\n            case \"SINGLEPLAYER/SETUP\":\r\n                return <SetupSP/>;\r\n            case \"MULTIPLAYER\":\r\n                return <Multiplayer/>;\r\n            case \"MULTIPLAYER/FRIENDS\":\r\n                return <Friends/>;\r\n            case \"MULTIPLAYER/PROFILE\":\r\n                return <Profile/>; \r\n            case \"NEW-GAME/SETUP\":\r\n                return <SetupMP/>;\r\n            case \"NEW-GAME/PLAYERS\":\r\n                return <SetupMP/>;\r\n            case \"NEW-GAME/TRIBES\":\r\n                return <SetupMP/>;\r\n            default:\r\n               throw new Error(\"LOCATION CHANGE ERROR\")\r\n       }\r\n   }\r\n render(){ \r\n     const location = this.state.location;\r\n     return (<ErrorBoundry>\r\n                  {location !== \"GAME\" ? \r\n                        <div className=\"background\">\r\n                            {this.loadContent(location)}\r\n                         </div> : <Game/>\r\n            }\r\n             </ErrorBoundry>);\r\n  }\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);","import {combineReducers} from 'redux';\r\nimport * as rConst from \"./constants\";\r\n\r\n\r\nconst intialAssetsLoadStates = {\r\n    isPending: true,\r\n    error: \"\",\r\n    assets: {},\r\n    progress: {item:0,of:0}\r\n};\r\nconst intialGameLocation = {\r\n    location: \"\"\r\n}\r\n\r\n\r\nexport const gameLocations = (state=intialGameLocation,action={})=>{\r\n    switch (state.type) {\r\n        case rConst.GAMELOCATION:\r\n            return Object.assign({},state,{location: action.payload});\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const gameAssetsLoad = (state=intialAssetsLoadStates,action={})=>{\r\n    switch (action.type) {\r\n        case rConst.GAMEASSETSLOAD.COMPLETE:\r\n            return Object.assign({},state,{isPending: false, assets: action.payload});\r\n        case rConst.GAMEASSETSLOAD.PENDING:\r\n            return Object.assign({},state,{isPending: true});\r\n        case rConst.GAMEASSETSLOAD.PROGRESS:\r\n            return Object.assign({},state,{progress:{item: action.payload.item, of:action.payload.of}});\r\n        case rConst.GAMEASSETSLOAD.ERROR:\r\n            return;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const rootReducer = combineReducers({gameAssetsLoad});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware,compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport App from './contaner/App/App';\r\nimport {rootReducer} from './redux/reducers';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk)));\r\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}