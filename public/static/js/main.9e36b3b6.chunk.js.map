{"version":3,"sources":["assets/images/background_game.webp","assets/models/field/field.obj","assets/models/field/field.mtl","assets/models/fruit/fruit_one.obj","assets/models/fruit/fruit_one.mtl","assets/models/ocean/ocean.obj","assets/models/ocean/ocean_none.obj","assets/models/ocean/ocean_one.obj","assets/models/ocean/ocean_two.obj","assets/models/ocean/ocean_two_b.obj","assets/models/ocean/ocean_three.obj","assets/models/ocean/ocean.mtl","assets/models/ocean/ocean_none.mtl","assets/models/ocean/ocean_one.mtl","assets/models/ocean/ocean_two.mtl","assets/models/ocean/ocean_two_b.mtl","assets/models/ocean/ocean_three.mtl","assets/models/water/water.obj","assets/models/water/water_none.obj","assets/models/water/water_one.obj","assets/models/water/water_two.obj","assets/models/water/water_two_b.obj","assets/models/water/water_three.obj","assets/models/water/water.mtl","assets/models/water/water_none.mtl","assets/models/water/water_one.mtl","assets/models/water/water_two.mtl","assets/models/water/water_two_b.mtl","assets/models/water/water_three.mtl","assets/models/cloud/cloud.obj","assets/models/cloud/cloud.mtl","assets/models/slector/slector.obj","assets/models/slector/slector.mtl","assets/models/trees/tree_one.obj","assets/models/trees/tree_two.obj","assets/models/trees/tree_one.mtl","assets/models/trees/tree_two.mtl","assets/images/icons/arrow_perv.svg","assets/images/icons/sign-in.svg","assets/images/icons/sign-out.svg","assets/images/icons/plus.svg","assets/images/icons/arrow_down.svg","contaner/Auth/useAuth.js","scripts/utility.js","scripts/createBlockMesh.js","scripts/wordGenerationv3.js","scripts/websocket.js","contaner/Game/GameProvider.js","contaner/Game/Game.js","redux/constants.js","redux/actions.js","contaner/Errorboundery/Errorboundery.js","components/BackButton/BackButton.js","components/pages/About/About.js","components/Loader/Loader.js","components/pages/ThoneRoom/ThroneRoom.js","components/pages/HighScore/HighScore.js","components/ToggleButtom/ToggleButtom.js","components/NormalButton/NormalButton.js","components/pages/Settings/Settings.js","components/IconButton/IconButton.js","components/pages/MainMenu/MainMenu.js","components/pages/Singleplayer/Tribe.js","components/pages/Singleplayer/Mode.js","components/pages/Singleplayer/SetupSP.js","components/pages/Multiplayer/Multiplayer.js","components/pages/Multiplayer/Friends.js","components/pages/Multiplayer/NewGame/SetupMP.js","components/pages/Multiplayer/NewGame/PlayerMP.js","components/pages/Multiplayer/NewGame/TribesMP.js","components/pages/Multiplayer/NewGame/AddPlayerMP.js","scripts/anim.js","components/menus/View.js","components/menus/NavGame.js","contaner/App/App.js","redux/reducers.js","serviceWorker.js","index.js","assets/images/icons/menu.svg"],"names":["module","exports","notify","msg","data","position","title","Message","info","error","success","show","DEFAULT_REDIRECT_CALLBACK","Aviator","naviagte","Auth0Context","createContext","useAuth0","useContext","savedGames","a","JSON","parse","localStorage","getItem","savedlocalMPGames","loadSettings","default","sound_effects","ambience","tribe_music","suggestions","info_on_build","confirm_turn","volume","get","set","current","setItem","stringify","Object","assign","remove","removeItem","isVaild","getQueryParams","object","uri","getCurrentURI","replace","split","reali","array","i","length","includes","push","CONFIG","load","fetch","then","res","json","console","global","showingView","preId","CREATE","models","Water","pos","faction","variation","rotation","water","mesh","Mesh","geometry","material","name","cursor","on","ev","target","userData","click","id","navigate","queryParams","blockId","type","children","canBuild","parent","x","y","z","rotateY","Math","PI","Field","field","fram","cost","Ocean","ocean","Tree","tree","log","attached","Wall","wall","Fruit","fruit","Cloud","cloud","Slector","user","slector","this","WorldGenerationV3","assets","settings","noise","SimplexNoise","mp","width","height","value","nx","ny","noise2D","worldGroup","Group","worldSize","121","256","324","400","scene","worldNoise","mapsize","placementArray","worldIndex","row","colum","add","player","blockPlacement","b","waterSides","wo","undefined","coords","oceanSides","oo","oceanRotation","forEach","warn","int","onMessageHandler","payload","token","ws","userToken","messageSystem","messageGame","getRequest","onCloseHandler","event","send","onErrorHandler","errorMessages","socket","systemMessage","gameMessage","requestReponse","currentRequest","init","host","WebSocket","onopen","loginMsg","date","Date","now","readyState","onmessage","onclose","e","quit","close","reconnect","PolytopiaGameContext","PolytopiaGameProvider","useState","setMP","mode","setMode","currentPlayer","setCurrentPlayer","players","setPlayers","useEffect","concat","score","tech","stars","Provider","Game","handleResize","renderer","setSize","window","innerWidth","innerHeight","composer","setPixelRatio","devicePixelRatio","camera","aspect","updateProjectionMatrix","animate","delta","clock","getDelta","st","begin","frameId","requestAnimationFrame","cameraControls","update","entityManager","render","end","EntityManager","THREE","antialias","EffectComposer","quaryData","Stats","showPanel","document","body","appendChild","dom","CameraControls","install","shadowMap","enabled","mount","domElement","zoom","addPass","RenderPass","outlinePass","OutlinePass","edgeStrength","edgeGlow","edgeThickness","pulsePeriod","hiddenEdgeColor","visibleEdgeColor","effectFXAA","ShaderPass","FXAAShader","uniforms","bb","dollySpeed","maxZoom","minZoom","setBoundary","Interaction","addEventListener","lightGroup","directionalLight","castShadow","shadow","mapSize","hemisphere","setTimeout","background","props","textures","createWorld","cancelAnimationFrame","removeChild","ref","Component","connect","state","gameAssetsLoad","dispatch","GAMEASSETSLOAD","loadManager","LoadingManager","textureLoader","TextureLoader","mtlLoader","MTLLoader","setResourcePath","loadWaterAssets","WaterMtl","materials","preload","OBJLoader","setMaterials","WaterObj","WaterThreeMtl","WaterThreeObj","WaterTwoMtl","WaterTwoObj","WaterOneMtl","WaterOneObj","WaterNoneMtl","WaterNoneObj","WaterTwoBMtl","WaterTwoBObj","loadOceanAssets","OceanMtl","OceanObj","OceanThreeMtl","OceanThreeObj","OceanTwoMtl","OceanTwoObj","OceanOneMtl","OceanOneObj","OceanNoneMtl","OceanNoneObj","OceanTwoBMtl","OceanTwoBObj","ErrorBoundry","hasError","setState","BackButton","className","onClick","history","back","src","ArrowPerv","alt","AboutPage","build","REVISION","Loader","ThroneRoom","isAuthenticated","list","key","HighScore","selected","wrapperClass","ToggleButton","text","checked","change","defaultChecked","onChange","v","data-tg-on","data-tg-off","htmlFor","NormalButton","method","isUri","callback","disable","params","disabled","reducer","action","Settings","menu","useReducer","min","max","defaultValue","IconButton","MainMenu","saved","loginWithPopup","logout","size","outline","returnTo","LogoutIcon","LoginIcon","MENUICON","TribeData","prevQuary","setShowTribe","Tribe","showTribe","tribe","showInfo","Mode","opponents","worldSizes","difficulty","createData","map","element","SetupSP","query","setMap","diff","setDiff","opponent","setOpponents","onSelect","useButtonRole","savedgame","toUpperCase","getSaves","dataArray","el","Multiplayer","getTokenSilently","loginModal","setLoginModal","yourTurn","setYourTrun","hasOnlineGames","setHasOnlineGames","hasLocalGame","setHasLocalGames","forceLogin","sub","visible","maskCloseAble","footer","production","PLUSICON","Friends","SetupMP","network","setNetwork","setMapSize","PlayerMP","urlParams","setUrlParams","minPlayers","setMinPlayers","urp","filter","item","readOnly","TribesMP","request","ofGameID","isLocal","currentPlayers","lock","ofUser","status","ViewOut","TimelineMax","to","ease","Power4","easeIn","View","from","Power3","easeOut","block","getObjectById","Number","getObjectByName","DownArrow","keys","menuClass","NavGame","class","nb","MenuIcon","App","savedGame","savedGameObject","location","inGame","hasBefore","loadGameAssets","setRoutes","showGame","index","goTo","AddPlayerMP","Error","loadContent","inGameContent","of","progress","isPending","loadError","onStart","rConst","onLoad","onError","err","onProgress","url","itemsLoaded","itemsTotal","backgroundImage","texture","FieldMtl","FieldObj","CloudMtl","CloudObj","TreeOneMtl","TreeOneObj","TreeTwoMtl","TreeTwoObj","FruitOneMtl","FruitOneObj","SlectorNoneMtl","SlectorObj","intialAssetsLoadStates","rootReducer","combineReducers","Boolean","hostname","match","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","onRedirectCallback","initOptions","setIsAuthenticated","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","createAuth0Client","auth0FromHook","search","handleRedirectCallback","appState","getUser","initAuth0","getIdTokenClaims","loginWithRedirect","getTokenWithPopup","domain","config","client_id","clientId","redirect_uri","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gPAAAA,EAAOC,QAAU,IAA0B,8C,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,+fCY3C,SAASC,IAAsD,IAA/CC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","file":"static/js/main.9e36b3b6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background_game.b879c134.webp\";","module.exports = __webpack_public_path__ + \"static/media/field.820a5de2.obj\";","module.exports = __webpack_public_path__ + \"static/media/field.bd606281.mtl\";","module.exports = __webpack_public_path__ + \"static/media/fruit_one.401782fb.obj\";","module.exports = __webpack_public_path__ + \"static/media/fruit_one.deedf5c9.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean.49960e7c.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_none.e646e666.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_one.1149f12f.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two.8478a460.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two_b.5f12e9cc.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean_three.09f7749a.obj\";","module.exports = __webpack_public_path__ + \"static/media/ocean.9289348b.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_none.d0d89c1d.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_one.f49bda95.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two.40654d41.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_two_b.38e20ff2.mtl\";","module.exports = __webpack_public_path__ + \"static/media/ocean_three.ff5600a1.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water.065725eb.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_none.bd934e57.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_one.34ff3246.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_two.0db41b72.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_two_b.7b4c02ee.obj\";","module.exports = __webpack_public_path__ + \"static/media/water_three.7dfcfd72.obj\";","module.exports = __webpack_public_path__ + \"static/media/water.b6d02e43.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_none.a0876c1d.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_one.14ed2016.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_two.504cbe72.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_two_b.cde0d92a.mtl\";","module.exports = __webpack_public_path__ + \"static/media/water_three.a56fb38c.mtl\";","module.exports = __webpack_public_path__ + \"static/media/cloud.1337cfe0.obj\";","module.exports = __webpack_public_path__ + \"static/media/cloud.47b98894.mtl\";","module.exports = __webpack_public_path__ + \"static/media/slector.a35f20df.obj\";","module.exports = __webpack_public_path__ + \"static/media/slector.1da0a85a.mtl\";","module.exports = __webpack_public_path__ + \"static/media/tree_one.9a0a07b7.obj\";","module.exports = __webpack_public_path__ + \"static/media/tree_two.ddb2b1b0.obj\";","module.exports = __webpack_public_path__ + \"static/media/tree_one.9bf4606c.mtl\";","module.exports = __webpack_public_path__ + \"static/media/tree_two.bed7a1fa.mtl\";","module.exports = __webpack_public_path__ + \"static/media/arrow_perv.1448615b.svg\";","module.exports = __webpack_public_path__ + \"static/media/sign-in.2d188652.svg\";","module.exports = __webpack_public_path__ + \"static/media/sign-out.80e1990a.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.785b6480.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_down.84da5a29.svg\";","import React,{ createContext,useState , useEffect, useContext } from \"react\";\r\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\r\nimport Aviator from 'aviator';\r\nimport {Message} from 'shineout'\r\n\r\n\r\n\r\n/**\r\n * Creates a Notiry Popup\r\n * @param {*} msg\r\n * @param {*} title\r\n */\r\nfunction notify(msg = \"Message\", title = \"Title\", type = null){\r\n  const data = {position:\"top-right\", title};\r\n   switch(type){\r\n      case \"info\":\r\n        Message.info(msg, 5, data);\r\n        break;\r\n      case \"error\":\r\n        Message.error(msg, 5, data);\r\n        break;\r\n      case \"success\":\r\n        Message.success(msg,5,data) ;\r\n        break;   \r\n      default:\r\n        Message.show(msg, 5, data);\r\n        break;\r\n   }\r\n \r\n}\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () => Aviator.naviagte(\"/\");\r\n\r\nexport const Auth0Context = createContext();\r\n\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\n/**\r\n * JSX Element providing Auth0 functions \r\n */\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes(\"code=\")) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n        notify(`Welcome ${user.name}`,\"Login\",\"success\")\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      notify(\"There was a error when logging in!\",\"Login Error\",\"error\")\r\n      console.error(error);\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n    notify(`Welcome ${user.name}`,\"Login\",\"success\")\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n\r\n\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) =>  auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};","import Aviator from \"aviator\";\r\n/*\r\n    {id:\"GAMEID\", mapdata:{MAPDATA}, data:{GAMEDATA}}\r\n*/\r\nexport const savedGames = {\r\n    get: async() =>{\r\n         return JSON.parse(localStorage.getItem('save-sp'));\r\n    },\r\n    set: (data)=>{\r\n        localStorage.setItem('save-sp',data);\r\n    },\r\n    remove: ()=>{\r\n        localStorage.removeItem('save-sp');\r\n    },\r\n    hasSave: ()=>{\r\n        if(localStorage.getItem('save-sp')){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\n/*\r\n    [\r\n        {name: \"NAME\", id:\"GAMEID\", mapdata:{MAPDATAOBJECT}, data:{GAMEDATA} },\r\n        {name: \"NAME\", id:\"GAMEID\", mapdata:{MAPDATAOBJECT}, data:{GAMEDATA} }\r\n    ]\r\n*/\r\nexport const savedlocalMPGames = {\r\n    get: () =>{\r\n         return JSON.parse(localStorage.getItem('save-mp'));\r\n    },\r\n    set: (data)=>{\r\n        localStorage.setItem('save-mp',JSON.stringify(data));\r\n    },\r\n    remove: ()=>{\r\n        //TODO \r\n        // get game id => remove from array but keep array\r\n    },\r\n    hasSaves: ()=>{\r\n        let storage = localStorage.getItem('save-mp');\r\n        if(storage !== null){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * main var to get, set and remove settings\r\n * @function get() gets the settings from localstorge\r\n * @function set(data,current) set new values to settings\r\n * @function remove() remove settings from localstorge\r\n * @function isVaild() to check if vaules exsist \r\n */\r\nexport const loadSettings = {\r\n    /** \r\n     * @var default the defaults for settings\r\n    */\r\n    default: {\r\n    sound_effects: true, \r\n    ambience: true, \r\n    tribe_music: true, \r\n    suggestions:true,\r\n    info_on_build:true,\r\n    confirm_turn:true,\r\n    volume: 100\r\n  },\r\n    get: () =>{\r\n        return JSON.parse(localStorage.getItem('settings'));\r\n   },\r\n   /**\r\n    * @param {Object} data data to set\r\n    * @param {Object} current the orginal data \r\n    */\r\n   set: (data,current)=>{\r\n       localStorage.setItem('settings', JSON.stringify(Object.assign({},current,data)));\r\n       return JSON.parse(localStorage.getItem('settings'));\r\n   },\r\n   remove: ()=>{\r\n       localStorage.removeItem('settings');\r\n   },\r\n   isVaild:()=>{\r\n       let isSettings = localStorage.getItem('settings');\r\n       if(isSettings === null){\r\n           localStorage.setItem('settings', JSON.stringify(loadSettings.default))\r\n           return false;\r\n       }\r\n       return true\r\n   }\r\n};\r\n\r\n/**\r\n * Get the queary prams from the url\r\n * @returns {object} queary parms object\r\n */\r\nexport const getQueryParams = ()=> {\r\n  let object = {};\r\n  let uri = Aviator.getCurrentURI()\r\n    .replace(/\\/(.*)\\/(.*)\\/(.*)\\?/, \"\")\r\n    .replace(/\\/(.*)\\/(.*)\\?/, \"\")\r\n    .replace(/\\/(.*)\\?/, \"\")\r\n    .split(/=|&/);\r\n  let reali = 0;\r\n  let array = [];\r\n  for (let i = 0; i < (uri.length/2); i++) {\r\n      if(uri[reali].includes(\"[]\")){\r\n         array.push(uri[reali+1]);\r\n         Object.assign(object, JSON.parse(`{\"${uri[reali].replace(\"[]\",\"\")}\":${JSON.stringify(array)}}`));\r\n      }else{\r\n        Object.assign(object, JSON.parse(`{\"${uri[reali]}\":\"${uri[reali+1]}\"}`));\r\n      }\r\n    reali +=2\r\n  }\r\n\r\n  return object;\r\n}\r\nexport const CONFIG = {\r\n    data : {},\r\n    load: async()=>{\r\n      try{\r\n        let data = await fetch(\"/config/config.json\").then(res=>res.json());\r\n        CONFIG.data = data;\r\n      }catch(e){\r\n          console.error(\"Failed to load config\")\r\n      }\r\n    }\r\n}; \r\n\r\n/**\r\n * Fetch data from backend\r\n * @async\r\n * @param {string} path \r\n * @param {Object} params \r\n * @returns {Object} server data\r\n */\r\nexport const Post = async(path,params)=>{\r\n  const response = await fetch(`http://localhost:8000/${path}`,{\r\n    method: \"POST\",\r\n    mode:\"cors\",\r\n    body: JSON.stringify(params),\r\n    headers:{\r\n      'Content-Type':'application/json'\r\n    }\r\n  });\r\n  return await response.json();\r\n}\r\n\r\nexport const combineQuery = (query)=>{\r\n    return Object.assign({}, query, getQueryParams());\r\n} \r\n\r\nexport const global = {\r\n    showingView: false,\r\n    preId: 0\r\n}\r\n","import { Mesh } from 'three';\r\nimport Aviator from 'aviator';\r\nimport {global} from './utility';\r\n/**\r\n * @typedef Position \r\n * @type {object}\r\n * @property {number} x \r\n * @property {number} y\r\n * @property {number} z \r\n */\r\n/**\r\n * @typedef ObjectUserData\r\n * @type {object}\r\n * @property {string} type\r\n * @property {string} faction\r\n * @property {number[]=} children\r\n * @property {object=} canBuild\r\n * @property {number} variation\r\n * @property {(number | null)} parent\r\n * @property {number=} click\r\n */\r\n /**\r\n *  Class For Creating blocks for the world map\r\n * @param models - the loaded OBJ and MTL object\r\n */\r\nexport default class CREATE {\r\n    constructor(models) {\r\n        this.models = models;\r\n    }\r\n    /** Main Blocks that world contants */\r\n    /**\r\n    *  This Method return a Water block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @param {number} rotation - rotation of the block\r\n    * @returns {Mesh} THREE Mesh Object\r\n    */\r\n    Water = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { water } = this.models;\r\n            let mesh = new Mesh(water.geometry[variation], water.material[variation]);\r\n            mesh.name = \"water_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', (ev)=> {\r\n                if(!global.showingView && ((ev.data.target.userData.click < 1) || (global.preId !== ev.data.target.id))){\r\n                    Aviator.navigate(\"/game/view/water\",{queryParams:{blockId: ev.data.target.id}});\r\n                    ev.data.target.userData.click++;\r\n                    global.preId = ev.data.target.id;\r\n                }else{\r\n                    Aviator.navigate(\"/game\");\r\n                        ev.data.target.userData.click = 0;\r\n                }  \r\n            });\r\n            mesh.userData = {\r\n                type: \"Water\",\r\n                faction: faction,\r\n                children: [],\r\n                canBuild: {},\r\n                variation: variation,\r\n                parent: null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY( Math.PI * rotation/180);\r\n            return mesh;\r\n    };\r\n    /**\r\n    *  This Method return a Field block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Field = (pos, faction = null, variation = 0) => {\r\n            const { field } = this.models;\r\n            let mesh = new Mesh(field.geometry[0], field.material[0]);\r\n            mesh.name = `field_${variation}`;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', ev=> {\r\n                if(!global.showingView && ((ev.data.target.userData.click < 1) || (global.preId !== ev.data.target.id))){\r\n                    Aviator.navigate(\"/game/view/field\",{queryParams:{blockId: ev.data.target.id}});\r\n                    ev.data.target.userData.click++;\r\n                    global.preId = ev.data.target.id;\r\n                }else{\r\n                    Aviator.navigate(\"/game\");\r\n                        ev.data.target.userData.click = 0;\r\n                }\r\n            });\r\n            mesh.userData = {\r\n                type: \"Field\",\r\n                faction: faction,\r\n                children: [],\r\n                canBuild: { fram: { cost: 0} },\r\n                variation: variation,\r\n                parent:null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n    };\r\n    /**\r\n    *  This Method return a Ocean block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @param {number} rotation - The rotation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Ocean = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { ocean } = this.models;\r\n            let mesh = new Mesh(ocean.geometry[variation], ocean.material[variation]);\r\n            mesh.name = \"ocean_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', ev=> {\r\n                if(!global.showingView && ((ev.data.target.userData.click < 1) || (global.preId !== ev.data.target.id))){\r\n                    Aviator.navigate(\"/game/view/ocean\",{queryParams:{blockId: ev.data.target.id}});\r\n                    ev.data.target.userData.click++;\r\n                    global.preId = ev.data.target.id;\r\n                }else{\r\n                    Aviator.navigate(\"/game\");\r\n                        ev.data.target.userData.click = 0;\r\n                }\r\n            });\r\n            mesh.userData = {\r\n                type: \"Ocean\",\r\n                faction: faction,\r\n                children: [],\r\n                canBuild: {},\r\n                variation: variation,\r\n                parent: null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY(Math.PI * rotation/180);\r\n            return mesh;\r\n    };\r\n    /**  Function blocks */\r\n    /**\r\n    *  This Method return a Field block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Tree = (pos, faction = null, variation = 0) => {\r\n            const { tree } = this.models;\r\n            let mesh = new Mesh(tree.geometry[variation], tree.material[variation]);\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', function(ev) {console.log(ev)});\r\n            mesh.name = \"tree_\"+variation;\r\n            mesh.userData = {\r\n                type: \"TREE\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n    };\r\n    /**\r\n    * This Method return a Wall block;\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Wall = (pos, faction = null, variation = 0, rotation = 0) => {\r\n            const { wall } = this.models;\r\n            let mesh = new Mesh(wall.geometry[variation], wall.material[variation]);\r\n            mesh.name = \"wall_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', function(ev) {console.log(ev)});\r\n            mesh.userData = {\r\n                type: \"WALL\",\r\n                faction: faction,\r\n                attached: [],\r\n                canBuild: [],\r\n                variation: variation\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            mesh.rotateY(Math.PI * rotation/180);\r\n            return mesh;\r\n    };\r\n    /**\r\n    *  create a Fruit block mesh\r\n    * @param {Position} pos - {x, y ,z}\r\n    * @param {string} faction - The faction to witch the block belongs with\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Fruit = (pos, faction = null, variation = 0) => {\r\n            const { fruit } = this.models;\r\n            let mesh = new Mesh(fruit.geometry[variation], fruit.material[variation]);\r\n            mesh.name = \"fruit_\"+variation;\r\n            mesh.cursor = 'pointer';\r\n            mesh.on('click', function(ev) {console.log(ev)});\r\n            mesh.userData = {\r\n                type: \"Fruit\",\r\n                faction: faction,\r\n                variation: variation,\r\n                parent: null,\r\n                click: 0\r\n            };\r\n            mesh.position.set(pos.x, pos.y, pos.z);\r\n            return mesh;\r\n    };\r\n    /** Non function blocks  */\r\n    /**\r\n    *  This Method return a Cloud block;\r\n    * @param {Position} pos - x, y ,z \r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Cloud = (pos) => {\r\n        const { cloud } = this.models;\r\n        let mesh = new Mesh(cloud.geometry[0], cloud.material[0]);\r\n        mesh.name = \"cloud\";\r\n        mesh.cursor = 'pointer';\r\n        mesh.on('click', function(ev) { /** TODO || add animation */});\r\n        mesh.userData = {\r\n            type: \"Cloud\",\r\n            faction: null,\r\n            variation: 0\r\n        };\r\n        mesh.position.set(pos.x, pos.y, pos.z);\r\n        return mesh;\r\n    };\r\n    /**\r\n    *  This Method return a Slector\r\n    * @param {string} user - The faction to who the Slector belongs\r\n    * @param {number} y - The y axis\r\n    * @param {number} variation - The variation of the block\r\n    * @returns {Mesh} a THREEJS Mesh Object\r\n    */\r\n    Slector = (user, y = 0, variation = 0) => {\r\n            const { slector } = this.models;\r\n            let mesh = new Mesh(slector.geometry[0], slector.material[variation]);\r\n            mesh.name = `slector_${user}`;\r\n            mesh.userData = {\r\n                type: \"Slector\",\r\n                user: user,\r\n                variation: variation\r\n            };\r\n            mesh.position.set(0, y, 0);\r\n            return mesh;\r\n    };\r\n}\r\n","import SimplexNoise from 'simplex-noise';\r\nimport CREATE from './createBlockMesh';\r\nimport {Group} from 'three';\r\n\r\n\r\n\r\nexport default class WorldGenerationV3{\r\n    constructor(assets, settings){\r\n        this.settings = settings;\r\n        this.models = new CREATE(assets);\r\n        this.noise = new SimplexNoise();\r\n    }\r\n    /**\r\n     * Load World from save\r\n     * @param {boolean} mp is a local mp game.\r\n     * @param {string=} id id of local mp game \r\n     */\r\n    loadworld(mp, id){\r\n    \r\n    }\r\n    /**\r\n     *  creates noise\r\n    * @param {number} height the x axis of the world\r\n    * @param {number} width the y axis of the world\r\n    */\r\n    worldNoise(width,height){\r\n        let value = [];\r\n        for (let y = 0; y < height; y++){\r\n            value[y] = [];\r\n            for(let x = 0; x < width; x++){\r\n                let nx = x/width - 0.5, ny = y/height -0.5;\r\n                value[y][x] = this.noise.noise2D(nx, ny)/2+0.5;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n    createWorld(){\r\n        const worldGroup = new Group();\r\n        const worldSize = {121:11,256:16,324:18,400:20}\r\n        const {Field,Ocean,Water, Slector} = this.models;\r\n        const {scene, data} = this.settings;\r\n        const noise = this.worldNoise(worldSize[data.mapsize],worldSize[data.mapsize]);\r\n        const placementArray = [];\r\n        const worldIndex = [];\r\n        let row = 0;\r\n        let colum = 0;\r\n        worldGroup.add(Slector(data.player, -2, 0))\r\n        // change noise into a \"String\" so that it can be tested for Ocean blocks by Fields\r\n        for(let y = 0; y <= noise.length-1; y++){\r\n            placementArray.push([])\r\n               for(let x = 0; x <= noise[y].length-1; x++){\r\n                placementArray[y].push(this.blockPlacement(noise[y][x]));      \r\n               }   \r\n        }\r\n         // set roation and variation for water and oceans and block coords\r\n        for(let a = 0; a <= placementArray.length-1; a++){\r\n            worldIndex.push([]);\r\n            for(let b = 0; b <= placementArray[a].length-1; b++){\r\n                switch (placementArray[a][b]) {\r\n                    case \"WATER\": {\r\n                        let waterSides = 0;\r\n                        let wo = [];\r\n                        let rotation = 0;\r\n                        placementArray[a][b+1] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a][b-1] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a+1] === undefined ? waterSides+=0 : placementArray[a+1][b] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        placementArray[a-1] === undefined ? waterSides+=0 : placementArray[a-1][b] === \"WATER\" ? waterSides++ : waterSides+=0;\r\n                        if(waterSides === 2){\r\n                           placementArray[a][b+1] === \"WATER\" && placementArray[a][b-1] === \"WATER\" ? waterSides = 5: waterSides+=0;\r\n                          if( placementArray[a+1] !== undefined && placementArray[a-1] !== undefined){\r\n                            placementArray[a+1][b] === \"WATER\" && placementArray[a-1][b] === \"WATER\" ? waterSides = 5: waterSides+=0;\r\n                          } \r\n                          \r\n                        }\r\n                            //front\r\n                            placementArray[a][b+1] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //back\r\n                            placementArray[a][b-1] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //right\r\n                            placementArray[a+1] === undefined ? wo.push(false) : placementArray[a+1][b] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            //left\r\n                            placementArray[a-1] === undefined ? wo.push(false) : placementArray[a-1][b] === \"WATER\" ? wo.push(true) : wo.push(false);\r\n                            if(waterSides===1){\r\n                                if(wo[0]===true && wo[1]===false && wo[2]===false && wo[3]===false){\r\n                                    rotation = 90;\r\n                                }else if(wo[0]===false && wo[1]===false && wo[2]===true && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===false && wo[1]===true && wo[2]===false && wo[3]===false){\r\n                                    rotation = 270;\r\n                                }else{\r\n                                    rotation = 180;\r\n                                }\r\n                            }\r\n                            if(waterSides===2){\r\n                                if(wo[0]===false && wo[1]===true && wo[2]===false && wo[3]===true){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===true && wo[1]===false && wo[2]===false && wo[3]===true){\r\n                                    rotation = 270;\r\n                                }else if(wo[0]===true && wo[1]===false && wo[2]===true && wo[3]===false){\r\n                                    rotation = 180;\r\n                                }else{\r\n                                    rotation = 90;\r\n                                }\r\n                            }\r\n                            if(waterSides===3){\r\n                                if(wo[0]===true && wo[1]===false && wo[2]===true && wo[3]===true){\r\n                                    rotation = 90;\r\n                                }else if(wo[0]===true && wo[1]===true && wo[2]===true && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else if(wo[0]===false && wo[1]===true && wo[2]===true && wo[3]===true){\r\n                                    rotation = 270;\r\n                                }else{\r\n                                    rotation = 180;\r\n                                }\r\n                            }\r\n                            if(waterSides===5){\r\n                                if(wo[0]===true && wo[1]===true && wo[2]===false && wo[3]===false){\r\n                                    rotation = 0;\r\n                                }else{\r\n                                    rotation = 90;\r\n                                }\r\n                            }\r\n\r\n                        worldIndex[a].push({type: placementArray[a][b], variation: waterSides, rotation, coords:{x:row,y:colum}});\r\n                        break;\r\n                    }\r\n                    case \"OCEAN\":{\r\n                            let oceanSides = 0;\r\n                            let oo = [];\r\n                            let oceanRotation = 0;\r\n                            placementArray[a][b+1] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a][b-1] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a+1] === undefined ? oceanSides+=0 : placementArray[a+1][b] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            placementArray[a-1] === undefined ? oceanSides+=0 : placementArray[a-1][b] === \"OCEAN\" ? oceanSides++ : oceanSides+=0;\r\n                            if(oceanSides === 2){\r\n                               placementArray[a][b+1] === \"OCEAN\" && placementArray[a][b-1] === \"OCEAN\" ? oceanSides = 5: oceanSides+=0;\r\n                              if( placementArray[a+1] !== undefined && placementArray[a-1] !== undefined){\r\n                                placementArray[a+1][b] === \"OCEAN\" && placementArray[a-1][b] === \"OCEAN\" ? oceanSides = 5: oceanSides+=0;\r\n                              } \r\n                              \r\n                            }\r\n                            if((oceanSides > 0 && oceanSides < 4) || oceanSides === 5 ){\r\n                                //front\r\n                                placementArray[a][b+1] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //back\r\n                                placementArray[a][b-1] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //right\r\n                                placementArray[a+1] === undefined ? oo.push(false) : placementArray[a+1][b] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n                                //left\r\n                                placementArray[a-1] === undefined ? oo.push(false) : placementArray[a-1][b] === \"OCEAN\" ? oo.push(true) : oo.push(false);\r\n    \r\n                                if(oceanSides===1){\r\n                                    if(oo[0]===true && oo[1]===false && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 270;\r\n                                    }else if(oo[0]===false && oo[1]===false && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 180;\r\n                                    }else if(oo[0]===false && oo[1]===true && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 90;\r\n                                    }else{\r\n                                        oceanRotation = 0;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===2){\r\n                                    if(oo[0]===false && oo[1]===true && oo[2]===false && oo[3]===true){\r\n                                        oceanRotation = 0;\r\n                                    }else if(oo[0]===true && oo[1]===false && oo[2]===false && oo[3]===true){\r\n                                        oceanRotation = 270;\r\n                                    }else if(oo[0]===true && oo[1]===false && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 180;\r\n                                    }else{\r\n                                        oceanRotation = 90;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===3){\r\n                                    if(oo[0]===true && oo[1]===false && oo[2]===true && oo[3]===true){\r\n                                        oceanRotation = 90;\r\n                                    }else if(oo[0]===true && oo[1]===true && oo[2]===true && oo[3]===false){\r\n                                        oceanRotation = 0;\r\n                                    }else if(oo[0]===false && oo[1]===true && oo[2]===true && oo[3]===true){\r\n                                        oceanRotation = 270;\r\n                                    }else{\r\n                                        oceanRotation = 180;\r\n                                    }\r\n                                }\r\n                                if(oceanSides===5){\r\n                                    if(oo[0]===true && oo[1]===true && oo[2]===false && oo[3]===false){\r\n                                        oceanRotation = 90;\r\n                                    }else{\r\n                                        oceanRotation = 0;\r\n                                    }\r\n                                }\r\n                            }\r\n                            worldIndex[a].push({type: placementArray[a][b], variation: oceanSides, rotation: oceanRotation, coords:{x:row,y:colum}});\r\n                        break;\r\n                    }\r\n                    default:\r\n                        worldIndex[a].push({type: placementArray[a][b], variation: 0, rotation: 0, coords:{x:row,y:colum}});\r\n                        break;\r\n                }\r\n                row +=2\r\n            }\r\n            if(row > worldSize[data.mapsize]){\r\n                colum +=2;\r\n                row = 0;\r\n            }\r\n        }\r\n        worldIndex.forEach(array=>{\r\n            array.forEach(object=>{\r\n                switch(object.type){\r\n                    case \"WATER\":\r\n                            worldGroup.add(Water({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    case \"OCEAN\":\r\n                            worldGroup.add(Ocean({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    case \"FIELD\":\r\n                            worldGroup.add(Field({x:object.coords.x,y:0,z:object.coords.y},null,object.variation,object.rotation));\r\n                        break;\r\n                    default:\r\n                        console.warn(\"?\");\r\n                        break;\r\n                }\r\n            });\r\n        });\r\n\r\n    scene.add(worldGroup);\r\n       \r\n    }\r\n    blockPlacement(int){\r\n        if(int <=0.25){\r\n            return \"OCEAN\";\r\n        }else if(int < 0.45 && int > 0.25){\r\n            return \"WATER\";\r\n        }else{\r\n            return \"FIELD\";\r\n        }\r\n    }\r\n}","\r\n\r\nconst onMessageHandler = async(msg) =>{\r\n    /** @type {import(\"./index\").ServerMessage}*/\r\n    let data = await JSON.parse(msg.data);\r\n    console.log(data)\r\n    switch (data.type) {\r\n         case \"LOGIN\":\r\n             if(data.payload.token === null){\r\n                data.payload.id = ws.userToken;\r\n             }else if(data.payload.id === null){\r\n                data.payload.token = ws.userToken;\r\n             }\r\n             break;\r\n         case \"SYSTEM\":\r\n            ws.messageSystem.push(data);\r\n            break;\r\n         case \"GAME\":\r\n            ws.messageGame.push(data)\r\n            break;\r\n         case \"REQUEST\":\r\n            ws.getRequest.push(data);\r\n            break;\r\n         case \"ERROR\":\r\n\r\n             break;\r\n         default:\r\n            break;\r\n    }\r\n }\r\n const onCloseHandler = event =>{\r\n    ws.send({type:\"EXIT\"})\r\n  \r\n }\r\n const onErrorHandler = event =>{\r\n      ws.errorMessages.push({type:\"client\", error: event});\r\n }\r\n /** @type {import(\"./index\").WebSocketClient}*/\r\n export const ws = {\r\n     socket: null,\r\n     userToken: null,\r\n     systemMessage: [],\r\n     gameMessage: [],\r\n     requestReponse: [],\r\n     errorMessages: [],\r\n     currentRequest: function(){\r\n         return this.requestReponse[this.requestReponse.length-1];\r\n     },\r\n     init: function(id = null, token = null, host = \"ws://localhost:8000/polytopia\"){\r\n         try{\r\n             this.socket = new WebSocket(host);\r\n             this.socket.onopen = ()=>{\r\n                 // login to the websocket my send auth0 Token and user id\r\n                   const loginMsg = {\r\n                                         type:\"LOGIN\",\r\n                                         payload:{\r\n                                             token\r\n                                         },\r\n                                         id,\r\n                                         date: Date.now()\r\n                                     };\r\n                   this.socket.send(JSON.stringify(loginMsg));\r\n                   this.readyState = this.socket.readyState;\r\n             };\r\n             this.socket.onmessage = onMessageHandler;\r\n             this.socket.onclose = onCloseHandler;\r\n             this.socket.error = onErrorHandler;\r\n             this.readyState = this.socket.readyState\r\n         }catch(e){\r\n             //TODO, and method to try to reconecct!\r\n            console.error(\"Websocket error\")\r\n         }\r\n         return this;\r\n     },\r\n\r\n     send: async function(msg){\r\n         try{\r\n             this.socket.send(JSON.stringify(Object.assign({},msg,{id: this.userToken, date: Date.now()})));\r\n         }catch(e){\r\n             //TODO, and method to try again\r\n             console.warn(\"Did not send msg\");\r\n         }\r\n         return this;\r\n     },\r\n     quit: async function(){\r\n         if(this.socket !== null){\r\n             this.socket.close();\r\n             this.socket = null;\r\n         }\r\n         return this;\r\n     },\r\n     reconnect: async function(){\r\n         this.quit();\r\n         this.init();\r\n         return this;\r\n     }\r\n }\r\n ","import React, {useState, useContext, useEffect, createContext} from 'react';\r\n\r\n\r\nexport const PolytopiaGameContext = createContext();\r\nexport const usePolytopiaGame = () => useContext(PolytopiaGameContext);\r\n\r\nfunction createPlayer(opt){\r\n  return [{\r\n    id:\"\",\r\n    score: 0,\r\n    faction:\"\",\r\n    tech: [],\r\n    stars: 5\r\n  }]\r\n}\r\n\r\nexport const PolytopiaGameProvider = ({ children, data})=>{\r\n    const [mp, setMP] = useState(false);\r\n    const [mode,setMode] = useState(\"custom\");\r\n    const [currentPlayer, setCurrentPlayer] = useState({});\r\n    const [players, setPlayers] = useState([]);\r\n    useEffect(()=>{\r\n      const init = async()=>{\r\n        let mp = (data.mp === \"true\");\r\n        setMP(mp)\r\n        setMode(data.mode);\r\n        setPlayers(players.concat(createPlayer()));\r\n        setCurrentPlayer(players[0]);\r\n\r\n      }\r\n      init();\r\n    },[])\r\n\r\n    return <PolytopiaGameContext.Provider value={{mp, mode, players, currentPlayer}}>\r\n                {children}\r\n           </PolytopiaGameContext.Provider>\r\n}","import React, {Component} from 'react';\r\nimport * as THREE from 'three';\r\nimport {EntityManager} from 'yuka';\r\nimport CameraControls from 'camera-controls';\r\nimport { connect } from 'react-redux';\r\nimport { Interaction } from 'three.interaction';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\r\nimport { FXAAShader} from 'three/examples/jsm/shaders/FXAAShader';\r\nimport { ShaderPass }from 'three/examples/jsm/postprocessing/ShaderPass'\r\nimport WorldGenerationV3 from '../../scripts/wordGenerationv3';\r\nimport {getQueryParams} from '../../scripts/utility';\r\nimport {ws} from '../../scripts/websocket';\r\n\r\nimport {PolytopiaGameProvider} from './GameProvider';\r\nimport './Game.sass';\r\n\r\n\r\nimport Stats from 'stats.js';\r\n\r\nconst mapStateToProps = state => {return {\r\n assets:state.gameAssetsLoad.assets\r\n}}\r\nconst mapDispatchToProps = dispatch => {return {}}\r\nclass Game extends Component{\r\n  constructor(){\r\n    super();\r\n    this.entityManager = new EntityManager();\r\n    this.scene = new THREE.Scene();\r\n    window.scene = this.scene;\r\n    this.clock = new THREE.Clock();\r\n    this.renderer = new THREE.WebGLRenderer({antialias: false});\r\n    this.composer = new EffectComposer( this.renderer );\r\n    this.quaryData = getQueryParams();\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.st = new Stats();\r\n    this.st.showPanel(1)\r\n    document.body.appendChild(this.st.dom);\r\n    CameraControls.install({THREE: THREE});\r\n   \r\n    this.renderer.shadowMap.enabled = true;\r\n    this.mount.appendChild(this.renderer.domElement);\r\n\r\n\r\n    this.camera = new THREE.OrthographicCamera(window.innerWidth/-200,window.innerWidth/200,window.innerHeight/200,window.innerHeight/-200,1,1000);\r\n    this.camera.position.set( 53, 57, 57 );\r\n    this.camera.rotation.set(-0.965,0.505,0.610);\r\n    this.camera.zoom =  0.16401226550047032;\r\n    this.camera.updateProjectionMatrix();\r\n\r\n    this.composer.addPass( new RenderPass( this.scene, this.camera ) );\r\n    const outlinePass = new OutlinePass(new THREE.Vector2(window.innerWidth,window.innerHeight), this.scene, this.camera);\r\n    outlinePass.edgeStrength = 5;\r\n    outlinePass.edgeGlow = 0;\r\n    outlinePass.edgeThickness = 3;\r\n    outlinePass.pulsePeriod = 0;\r\n    outlinePass.hiddenEdgeColor.set(\"#ffffff\");\r\n    outlinePass.visibleEdgeColor.set(0x0000ff);\r\n    this.composer.addPass(outlinePass);\r\n\r\n    const effectFXAA = new ShaderPass(FXAAShader);\r\n    effectFXAA.uniforms['resolution'].value.set(1/window.innerWidth, 1/window.innerHeight);\r\n    this.composer.addPass(effectFXAA);\r\n    const bb = new THREE.Box3(\r\n      new THREE.Vector3( 20, 0, 20 ),\r\n      new THREE.Vector3( 50, 50, 50 )\r\n    );\r\n    this.cameraControls = new CameraControls( this.camera, this.renderer.domElement);\r\n    this.cameraControls.dollySpeed = 0.9;\r\n    this.cameraControls.maxZoom = 0.5;\r\n    this.cameraControls.minZoom = 0.09;\r\n    this.cameraControls.setBoundary(bb);\r\n    new Interaction(this.renderer,this.scene,this.camera);\r\n\r\n    this.renderer.setSize(window.innerWidth,window.innerHeight);\r\n    this.composer.setSize(window.innerWidth,window.innerHeight);\r\n    this.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.composer.setPixelRatio( window.devicePixelRatio );\r\n    this.camera.aspect = window.innerWidth/window.innerHeight;\r\n    window.addEventListener(\"resize\",this.handleResize, false);\r\n    // assets\r\n    const lightGroup = new THREE.Group();\r\n    const directionalLight = new THREE.DirectionalLight(0xddffdd, 0.6);\r\n    directionalLight.position.set(0,200,0);\r\n    directionalLight.rotation.set(25,0,0);\r\n    directionalLight.castShadow = true;\r\n    directionalLight.shadow.mapSize.width = 1024;\r\n    directionalLight.shadow.mapSize.height = 1024;\r\n    lightGroup.add(directionalLight);\r\n    const hemisphere = new THREE.HemisphereLight();\r\n    lightGroup.add(hemisphere);\r\n    lightGroup.add(new THREE.AmbientLight(0xaaaaaa, 0.2));\r\n    this.scene.add(lightGroup);\r\n    setTimeout(()=>{\r\n      this.scene.background = this.props.assets.textures.background;\r\n      new WorldGenerationV3(this.props.assets,{scene: this.scene, data: this.quaryData}).createWorld();\r\n    },1000)\r\n    if(!this.frameId){\r\n      this.frameId = requestAnimationFrame(this.animate)\r\n    }else{\r\n      this.animate();\r\n    }\r\n  }\r\n  componentWillUnmount(){\r\n    ws.send({type:\"EXIT\"});\r\n    cancelAnimationFrame(this.frameId);\r\n    this.mount.removeChild(this.renderer.domElement);\r\n  }\r\n\r\n  handleResize = e => {\r\n    this.renderer.setSize(window.innerWidth,window.innerHeight);\r\n    this.composer.setSize(window.innerWidth,window.innerHeight);\r\n    this.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.composer.setPixelRatio( window.devicePixelRatio );\r\n    this.camera.aspect = window.innerWidth/window.innerHeight;\r\n    this.camera.updateProjectionMatrix();\r\n  }\r\n\r\n  animate = () =>{\r\n    const delta = this.clock.getDelta();\r\n    this.st.begin();\r\n    this.frameId = requestAnimationFrame(this.animate);\r\n    this.cameraControls.update(delta);\r\n    this.entityManager.update(delta)\r\n    this.composer.render();\r\n    this.st.end();\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n      <PolytopiaGameProvider data={this.quaryData}>\r\n       <div id=\"three-scene\" ref={mount => {this.mount = mount}}>\r\n         {this.props.children}\r\n       </div>\r\n       </PolytopiaGameProvider>\r\n    );\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Game);\r\n\r\n\r\n","export const GAMEASSETSLOAD = { \r\n                            PENDING: \"GAMEASSETSLOAD_PENDING\", \r\n                            ERROR:\"GAMEASSETSLOAD_ERROR\",\r\n                            COMPLETE:\"GAMEASSETSLOAD_COMPLETE\",\r\n                            PROGRESS:\"GAMEASSETSLOAD_PROGRESS\"\r\n                          };\r\nexport const GAMELOCATION = \"GAMELOCATION\";","import {LoadingManager,TextureLoader} from 'three';\r\nimport {OBJLoader} from 'three/examples/jsm/loaders/OBJLoader';\r\nimport {MTLLoader} from 'three/examples/jsm/loaders/MTLLoader';\r\nimport * as rConst from './constants'\r\n\r\nimport backgroundImage from '../assets/images/background_game.webp';\r\n\r\nimport FieldObj from '../assets/models/field/field.obj';\r\nimport FieldMtl from '../assets/models/field/field.mtl';\r\n\r\nimport FruitOneObj from '../assets/models/fruit/fruit_one.obj';\r\nimport FruitOneMtl from '../assets/models/fruit/fruit_one.mtl';\r\n\r\nimport OceanObj from '../assets/models/ocean/ocean.obj';\r\nimport OceanNoneObj from '../assets/models/ocean/ocean_none.obj';\r\nimport OceanOneObj from '../assets/models/ocean/ocean_one.obj';\r\nimport OceanTwoObj from '../assets/models/ocean/ocean_two.obj';\r\nimport OceanTwoBObj from '../assets/models/ocean/ocean_two_b.obj';\r\nimport OceanThreeObj from '../assets/models/ocean/ocean_three.obj';\r\nimport OceanMtl from '../assets/models/ocean/ocean.mtl';\r\nimport OceanNoneMtl from '../assets/models/ocean/ocean_none.mtl';\r\nimport OceanOneMtl from '../assets/models/ocean/ocean_one.mtl';\r\nimport OceanTwoMtl from '../assets/models/ocean/ocean_two.mtl';\r\nimport OceanTwoBMtl from '../assets/models/ocean/ocean_two_b.mtl';\r\nimport OceanThreeMtl from '../assets/models/ocean/ocean_three.mtl';\r\n\r\nimport WaterObj from '../assets/models/water/water.obj';\r\nimport WaterNoneObj from '../assets/models/water/water_none.obj';\r\nimport WaterOneObj from '../assets/models/water/water_one.obj';\r\nimport WaterTwoObj from '../assets/models/water/water_two.obj';\r\nimport WaterTwoBObj from '../assets/models/water/water_two_b.obj';\r\nimport WaterThreeObj from '../assets/models/water/water_three.obj';\r\nimport WaterMtl from '../assets/models/water/water.mtl';\r\nimport WaterNoneMtl from '../assets/models/water/water_none.mtl';\r\nimport WaterOneMtl from '../assets/models/water/water_one.mtl';\r\nimport WaterTwoMtl from '../assets/models/water/water_two.mtl';\r\nimport WaterTwoBMtl from '../assets/models/water/water_two_b.mtl';\r\nimport WaterThreeMtl from '../assets/models/water/water_three.mtl';\r\n\r\nimport CloudObj from '../assets/models/cloud/cloud.obj';\r\nimport CloudMtl from '../assets/models/cloud/cloud.mtl';\r\n\r\nimport SlectorObj from '../assets/models/slector/slector.obj';\r\nimport SlectorNoneMtl from '../assets/models/slector/slector.mtl';\r\n//import slectorFactionMtl from '../assets/models/other/slectorFaction.mtl';\r\n\r\nimport TreeOneObj from '../assets/models/trees/tree_one.obj';\r\nimport TreeTwoObj from '../assets/models/trees/tree_two.obj';\r\nimport TreeOneMtl from '../assets/models/trees/tree_one.mtl';\r\nimport TreeTwoMtl from '../assets/models/trees/tree_two.mtl';\r\n\r\n\r\n/**\r\n * change the ingame content location \r\n * ex. displayer the block info box \r\n * @param {string} location \r\n */\r\nexport const setGameLocation = (location)=> dispatch =>{\r\n      dispatch({type:rConst.GAMELOCATION, payload: location});\r\n}\r\n\r\nlet assets = {    \r\nfield: {\r\n  geometry: {},\r\n  material:{}\r\n},\r\ncloud: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\nwater: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\nocean: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\ntree: {\r\n  geometry:{},\r\n  material:{}\r\n},\r\nfruit:{\r\n  geometry:{},\r\n  material:{}\r\n},\r\nslector: {\r\n  geometry: {},\r\n  material: {}\r\n}\r\n};\r\nconst loadManager = new LoadingManager();\r\nconst textureLoader = new TextureLoader(loadManager);\r\nconst mtlLoader = new MTLLoader(loadManager).setResourcePath('./textures/');\r\nconst loadWaterAssets = async()=>{\r\n\r\n  await mtlLoader.load(WaterMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterObj,object=>{\r\n      assets.water.geometry[0] = object.children[0].geometry;\r\n       assets.water.material[0] = object.children[0].material;\r\n     \r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterThreeMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterThreeObj,object=>{\r\n      assets.water.geometry[1] = object.children[0].geometry\r\n      assets.water.material[1] = object.children[0].material\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterTwoMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterTwoObj,object=>{\r\n      assets.water.geometry[2] = object.children[0].geometry;\r\n      assets.water.material[2] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterOneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterOneObj,object=>{\r\n      assets.water.geometry[3] = object.children[0].geometry;\r\n      assets.water.material[3] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterNoneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterNoneObj,object=>{\r\n      assets.water.geometry[4] = object.children[0].geometry;\r\n      assets.water.material[4] = object.children[0].material;\r\n    });\r\n  });\r\n\r\n  await mtlLoader.load(WaterTwoBMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(WaterTwoBObj,object=>{\r\n      assets.water.geometry[5] = object.children[0].geometry;\r\n      assets.water.material[5] = object.children[0].material;\r\n    });\r\n  });\r\n}\r\nconst loadOceanAssets = async()=>{\r\n  await mtlLoader.load(OceanMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanObj,object=>{\r\n      assets.ocean.geometry[0] = object.children[0].geometry;\r\n      assets.ocean.material[0] = object.children[0].material;\r\n     \r\n    });\r\n  });\r\n  await mtlLoader.load(OceanThreeMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanThreeObj,object=>{\r\n      assets.ocean.geometry[1] = object.children[0].geometry\r\n      assets.ocean.material[1] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanTwoMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanTwoObj,object=>{\r\n      assets.ocean.geometry[2] = object.children[0].geometry;\r\n      assets.ocean.material[2] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanOneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanOneObj,object=>{\r\n      assets.ocean.geometry[3] = object.children[0].geometry;\r\n      assets.ocean.material[3] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanNoneMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanNoneObj,object=>{\r\n      assets.ocean.geometry[4] = object.children[0].geometry;\r\n      assets.ocean.material[4] = object.children[0].material;\r\n    });\r\n  });\r\n  await mtlLoader.load(OceanTwoBMtl,materials=>{\r\n    materials.preload();\r\n    const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n    objLoader.load(OceanTwoBObj,object=>{\r\n      assets.ocean.geometry[5] = object.children[0].geometry;\r\n      assets.ocean.material[5] = object.children[0].material;\r\n    });\r\n  });\r\n}\r\n/**\r\n * load game assets\r\n */\r\nexport const loadAssets = () => (dispatch) => {\r\n    loadManager.onStart=()=>{dispatch({type: rConst.GAMEASSETSLOAD.PENDING})};\r\n    loadManager.onLoad=()=>{dispatch({type: rConst.GAMEASSETSLOAD.COMPLETE, payload : assets})};\r\n    loadManager.onError=err=>{dispatch({type: rConst.GAMEASSETSLOAD.ERROR, payload:err})};\r\n    loadManager.onProgress=(url,itemsLoaded,itemsTotal)=>{dispatch({type: rConst.GAMEASSETSLOAD.PROGRESS, payload:{item: itemsLoaded, of: itemsTotal}})}\r\n\r\n    textureLoader.load(backgroundImage,(texture)=>{\r\n        assets.textures = {\r\n          background: texture\r\n        }\r\n      });\r\n      loadWaterAssets();\r\n      loadOceanAssets();\r\n      mtlLoader.load(FieldMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials);\r\n        objLoader.load(FieldObj,object=>{\r\n          assets.field.geometry[0] = object.children[0].geometry;\r\n          assets.field.material[0] = object.children[0].material;\r\n         \r\n        });\r\n      });\r\n      mtlLoader.load(CloudMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(CloudObj,object=>{\r\n          assets.cloud.geometry[0] = object.children[0].geometry;\r\n          assets.cloud.material[0] = object.children[0].material;\r\n         \r\n        });\r\n      });\r\n      mtlLoader.load(TreeOneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(TreeOneObj,object=>{\r\n          assets.tree.geometry[0] = object.children[0].geometry;\r\n          assets.tree.material[0] = object.children[0].material;\r\n         mtlLoader.load(TreeTwoMtl,materials=>{\r\n          materials.preload();\r\n          const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n          objLoader.load(TreeTwoObj,object=>{\r\n            assets.tree.geometry[1] = object.children[0].geometry;\r\n            assets.tree.material[1] = object.children[0].material;\r\n          });\r\n        });\r\n        });\r\n      });\r\n      mtlLoader.load(FruitOneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(FruitOneObj,object=>{\r\n          assets.fruit.geometry[0] = object.children[0].geometry;\r\n          assets.fruit.material[0] = object.children[0].material;\r\n        });\r\n      });\r\n      mtlLoader.load(SlectorNoneMtl,materials=>{\r\n        materials.preload();\r\n        const objLoader = new OBJLoader(loadManager).setMaterials(materials)\r\n        objLoader.load(SlectorObj,object=>{\r\n          assets.slector.geometry[0] = object.children[0].geometry;\r\n          assets.slector.material[0] = object.children[0].material;\r\n        });\r\n      });\r\n}\r\n\r\n","import React, {Component} from 'react';\r\n\r\nexport default class ErrorBoundry extends Component{\r\nconstructor(props){\r\n super(props);\r\n this.state = {\r\n     error: \"\",\r\n     hasError: false\r\n }\r\n}\r\ncomponentDidCatch(e){\r\n this.setState({ error: e, hasError: true});\r\n}\r\nrender(){ \r\n    return this.state.hasError ? <div>Componet Error</div> : this.props.children\r\n       }\r\n\r\n}","import React from 'react';\r\nimport ArrowPerv from '../../assets/images/icons/arrow_perv.svg';\r\nimport './BackButton.sass'\r\n\r\n/**\r\n * \r\n * @param {Function} clickfunc the func to run when clicked \r\n */\r\nconst BackButton = ()=> {\r\n    //TODO get font button => http://cdn.onlinewebfonts.com/svg/img_295694.svg\r\n return (<button className=\"back-button\" onClick={()=>{window.history.back()}}><img src={ArrowPerv} alt=\"back Icon\"/></button>);\r\n}\r\nexport default BackButton;","import React from 'react';\r\nimport {REVISION} from 'three';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {CONFIG} from '../../../scripts/utility';\r\nimport './About.sass'\r\nconst AboutPage = ()=> {\r\n return (\r\n        <div id=\"about\">\r\n            <BackButton/>\r\n            <h1>-ABOUT-</h1>\r\n\r\n            <section>\r\n                <h3>-Debug Info-</h3>\r\n                <p>Build version . . . . . {CONFIG.data.build}</p>\r\n                <p>THREE Revision . . . . . . . .{REVISION}</p>\r\n                <p>Screen size . . . . . . . . . {`${window.innerHeight}x${window.innerWidth}`}</p>\r\n            </section>\r\n\r\n        </div>\r\n        );\r\n}\r\nexport default AboutPage;","import React from 'react';\r\nimport \"./Loader.sass\";\r\n\r\nconst Loader = ()=> {\r\n return (\r\n    <div className=\"lds\"><div></div><div></div><div></div></div>\r\n        );\r\n}\r\nexport default Loader;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {useAuth0} from '../../../contaner/Auth/useAuth';\r\n//import NormalButton from '../../NormalButton/NormalButton';\r\nimport \"./ThroneRoom.sass\";\r\nconst ThroneRoom = ()=> {\r\n    const {isAuthenticated, user} = useAuth0();\r\n    let topScore = [];\r\n    let topRating = [];\r\n return ( \r\n        isAuthenticated ? \r\n        <div id=\"throneroom\">\r\n            <BackButton/>\r\n            <h1>-THRONE ROOM-</h1>\r\n            <section id=\"tr-player\">\r\n                <h4>-Player Info</h4>\r\n                <p>Alias . . . . . . .  {user.name}</p>\r\n                <p>Games Played . . . {`GET_GAMESPLAYED`}</p>\r\n            </section>\r\n            <section>\r\n                <h4>-Top Score-</h4>\r\n                {topScore.length > 0 ? <p>CONTETN</p>: <Loader/>}\r\n            </section>\r\n            <section>\r\n                <h4>-Top Rating-</h4>\r\n                {topRating.length > 0 ? <p>CONTETN</p>: <Loader/>}\r\n            </section>\r\n        </div> : \r\n        <div id=\"throneroom\">\r\n            <BackButton/>\r\n            <h1>-THRONE ROOM-</h1>\r\n            <h3>Plesse Login to View</h3>\r\n        </div>\r\n        );\r\n}\r\nexport default ThroneRoom;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport './HighScore.sass';\r\n\r\n\r\nconst list = [<div className=\"menu-item\" key={\"all_tribes\"}>All Tribes</div>,\r\n              <div className=\"menu-item\" key={\"xin_xi\"}>Xin-xi</div>,\r\n              <div className=\"menu-item\" key={\"imperius\"}>Imperius</div>,\r\n              <div className=\"menu-item\" key={\"bardar\"}>Bardar</div>,\r\n              <div className=\"menu-item\" key={\"oumaji\"}>Oumaji</div>,\r\n              <div className=\"menu-item\" key={\"vengir\"}>Vengir</div>\r\n             ];\r\nconst HighScore = ()=> {\r\n    let highScores = [];\r\n return (\r\n        <div id=\"highscore\">\r\n            <BackButton/>\r\n            <h1>-HIGH SCORE-</h1>\r\n            <ScrollMenu selected={\"vengir\"} data={list} wrapperClass={\"hr-menu\"}/>\r\n            <section>\r\n                {highScores.length > 0 ? <p>CONTENT</p>: <Loader/>}\r\n            </section>\r\n        </div>\r\n        );\r\n}\r\nexport default HighScore;","import React from \"react\";\r\nimport \"./ToggleButton.sass\";\r\n// TODO add onChange function callback\r\nconst ToggleButton = ({ id, text, checked ,change}) => {\r\n  if (checked === undefined) {\r\n    checked = true;\r\n  }\r\n  return (\r\n    <div className=\"toggle-button\">\r\n      <h5>{text}</h5>\r\n      <input\r\n        className=\"tgl tgl-skewed\"\r\n        id={id}\r\n        type=\"checkbox\"\r\n        defaultChecked={checked}\r\n        onChange={(v)=>{change(v)}}\r\n      />\r\n      <label\r\n        className=\"tgl-btn\"\r\n        data-tg-on=\"ON\"\r\n        data-tg-off=\"OFF\"\r\n        htmlFor={id}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleButton;\r\n","import React from \"react\";\r\nimport Aviator from \"aviator\";\r\nimport \"./NormalButton.sass\";\r\n/**\r\n * @param {string} text display text\r\n * @param {boolean} isUri use router\r\n * @param {object|Function} callback {uri,params} || Function\r\n * @param {boolean} warn  use warn css\r\n * @param {boolean} disable use disable css\r\n */\r\nconst NormalButton = ({ text, isUri, callback, warn, disable }) => {\r\n  let method;\r\n  if (isUri) {\r\n    method = () => {\r\n      Aviator.navigate(callback.uri, callback.params);\r\n    };\r\n  } else {\r\n    method = callback;\r\n  }\r\n  return (\r\n    <button disabled={disable}\r\n      onClick={method}\r\n      className={`normal-button ${warn ? \"warn\" : \"\"} ${\r\n        disable ? \"disable\" : \"\"\r\n      }`}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\nexport default NormalButton;\r\n","import React,{useReducer} from 'react';\r\nimport './Settings.sass'\r\nimport ToggleButton from '../../ToggleButtom/ToggleButtom';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {loadSettings} from '../../../scripts/utility';\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"set\":\r\n            return loadSettings.set(action.payload,state)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n/**\r\n * \r\n * @param {boolen} menu is a ingame menu? \r\n */\r\nconst Settings = ({menu})=> {\r\n    let settings; // loaded settings\r\n    // is a in game menu?\r\n    if(menu === undefined){\r\n        menu = false;\r\n    }\r\n    // audio text state\r\n    if(loadSettings.isVaild()){\r\n         settings = loadSettings.get();\r\n    }else{\r\n        settings = loadSettings.default;\r\n    }\r\n    const [state, dispatch] = useReducer(reducer, settings);\r\n return (   \r\n            <div id=\"settings\">\r\n                <BackButton/>\r\n                <h1>-SETTINGS-</h1>\r\n                <section id=\"audio-select\">\r\n                    <p>Audio volume {state.volume}</p>\r\n                    <div className=\"slidecontainer\">\r\n                      <input type=\"range\" min=\"0\" max=\"100\" defaultValue={settings.volume} id=\"audio\" onChange={(v)=>dispatch({type:\"set\", payload: {volume: v.target.value}})}/>\r\n                    </div>\r\n                </section>\r\n                <section>\r\n                    <ToggleButton checked={settings.sound_effects} id=\"soundEffect\" text=\"Sound Effects\" change={(v)=>dispatch({type:\"set\", payload: {sound_effects: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.ambience} id=\"ambience\" text=\"Ambience\" change={(v)=>dispatch({type:\"set\", payload: {ambience: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.tribe_music} id=\"tribeMusic\" text=\"Tribe Music\" change={(v)=>dispatch({type:\"set\", payload: {tribe_music: v.target.checked}})}/>\r\n                </section>\r\n                <hr/>\r\n                <section>\r\n                    <ToggleButton checked={settings.suggestions} id=\"suggestions\" text=\"Suggestions\" change={(v)=>dispatch({type:\"set\", payload: {suggestions: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.info_on_build} id=\"infoOnBuild\" text=\"Info On Build\" change={(v)=>dispatch({type:\"set\", payload: {info_on_build: v.target.checked}})}/>\r\n                    <ToggleButton checked={settings.confirm_turn} id=\"confirmTurn\" text=\"Confirm Turn\" change={(v)=>dispatch({type:\"set\", payload: {confirm_turn: v.target.checked}})}/>\r\n                </section>\r\n                {menu ? <hr/> : null}\r\n                {menu ? <NormalButton text=\"EXIT GAME\" warn={true} isUri={true} callback={{uri:\"/main\", params:{}}}/> : null}         \r\n          </div>\r\n        );\r\n}\r\nexport default Settings;","import React from 'react';\r\nimport Aviator from 'aviator';\r\nimport \"./IconButton.sass\"\r\n\r\n/**\r\n * \r\n * @param {string} text text to display on button\r\n * @param {string|Object|Function} uri uir to naviagete to or function\r\n * \r\n *  uses css class icon-button\r\n */\r\nconst IconButton = ({children, text, uri, disable = false})=> {\r\n    let click;\r\n    if(typeof uri === \"string\" || typeof uri === 'object'){\r\n        typeof uri === \"string\" ? click = ()=>{Aviator.navigate(uri)} : click = ()=>{Aviator.navigate(uri.uri, uri.params)}\r\n    }else{\r\n        click = uri;\r\n    }\r\n    return (  \r\n            <div className=\"icon-button\">\r\n                <button onClick={click} disabled={disable}>\r\n                    {children}\r\n                </button>\r\n                <p>{text}</p>\r\n            </div>\r\n            );\r\n}\r\nexport default IconButton;","import React from 'react';\r\nimport IconButton from '../../IconButton/IconButton';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport {Button} from 'shineout';\r\nimport {useAuth0} from '../../../contaner/Auth/useAuth';\r\nimport MENUICON from '../../../assets/images/icons/menu.svg';\r\nimport LoginIcon from '../../../assets/images/icons/sign-in.svg';\r\nimport LogoutIcon from '../../../assets/images/icons/sign-out.svg';\r\nimport './MainMenu.sass';\r\n\r\nconst MainMenu = ({saved})=> {\r\n    const {isAuthenticated, loginWithPopup, logout} = useAuth0();\r\n return (<div id=\"main-menu\">\r\n        { \r\n            isAuthenticated ? \r\n            <Button type=\"primary\" size=\"large\" outline={false} className=\"log-out-in\" onClick={()=>{logout({returnTo:\"http://localhost:3000\"});}}>    \r\n                <img src={LogoutIcon} alt=\"Logout\" className=\"img-out\"/>\r\n            </Button> :\r\n            <Button type=\"primary\" size=\"large\" outline={false} className=\"log-out-in\" onClick={()=>{loginWithPopup();}}>    \r\n                <img src={LoginIcon} alt=\"Login\" className=\"img-in\"/>\r\n            </Button>  \r\n        }\r\n        <div className=\"Logo\">\r\n            <img src=\"\" alt=\"Main icon\"></img>\r\n            <p>---THE BATTLE OF ---</p>\r\n            <h1>POLYTOPIA</h1>\r\n        </div>\r\n        <div className=\"main\">\r\n            <NormalButton text=\"NEW GAME\" isUri={true} callback={{uri:\"/main/singleplayer/mode\",params:{}}}/>\r\n            {saved ?  <NormalButton text=\"RESUME GAME\" isUri={true} callback={{uri:\"/game\",params:{}}}/> : null}\r\n            <NormalButton text=\"MULTIPLAYER\" isUri={true} callback={{uri:\"/main/multiplayer\",params:{}}}/>\r\n        </div>\r\n         <section id=\"menu-nav\">\r\n            <IconButton text=\"Settings\" uri=\"/main/settings\">\r\n                <img src={MENUICON} alt=\"Menu ICON\"/>\r\n            </IconButton>\r\n            <IconButton text=\"throneroom\" uri=\"/main/throneroom\"></IconButton>\r\n            <IconButton text=\"Highscore\" uri=\"/main/highscore\"></IconButton>\r\n            <IconButton text=\"About\" uri=\"/main/about\"></IconButton>\r\n         </section>\r\n        </div>);\r\n}\r\nexport default MainMenu;","import React,{useState} from 'react';\r\nimport './Singleplayer.sass'\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport IconButton from '../../IconButton/IconButton'\r\nimport BackButton from '../../BackButton/BackButton'\r\nimport {getQueryParams} from '../../../scripts/utility';\r\n\r\n\r\nconst TribeData = ({name,prevQuary,setShowTribe}) => <div id=\"tribe-data\">\r\n                            <h4>{name}</h4>\r\n                            <img src=\"\" alt=\"tribe view\"/>\r\n                            <p>Lorm</p>\r\n                            <p>Lorm</p>\r\n                            <section>\r\n                                <p>Score</p>\r\n                                <p>next</p>\r\n                            </section>\r\n                           <div>\r\n                           <NormalButton  text=\"CANCEL\" isUri={false} callback={()=>{setShowTribe(null)}}/>\r\n                            <NormalButton text=\"PICK\" isUri={true} callback={{uri:\"/main/singleplayer/setup\", params:{queryParams:{mode: prevQuary.mode, players: `player_${name}` }}}}/>\r\n                           </div>\r\n                            </div>\r\n\r\nconst showInfo = (tribe,prevQuary,setShowTribe)=>{\r\n    switch (tribe) {\r\n        case \"xin-xi\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"imperius\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"bardar\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"oumaji\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        case \"vengir\":\r\n            return <TribeData name={tribe} prevQuary={prevQuary} setShowTribe={setShowTribe}/>;\r\n        default:\r\n            return null\r\n    }\r\n}\r\nconst Tribe = ()=> {\r\n    let prevQuary = getQueryParams();\r\n    const [showTribe,setShowTribe] = useState(\"\");\r\n return (<div id=\"sp-tribe\">\r\n     <BackButton/>\r\n     <h1>-PICK YOUR TRIBE-</h1>\r\n     <section>\r\n         <div>\r\n            <IconButton text=\"Xin-Xi\" uri={()=>{setShowTribe(\"xin-xi\")}}></IconButton>\r\n            <IconButton text=\"Bardar\" uri={()=>{setShowTribe(\"bardar\")}}></IconButton>\r\n            <IconButton text=\"Imperius\" uri={()=>{setShowTribe(\"imperius\")}}></IconButton>\r\n         </div>\r\n         <div>\r\n            <IconButton text=\"Oumaji\" uri={()=>{setShowTribe(\"oumaji\")}}></IconButton>\r\n            <IconButton text=\"Vengir\" uri={()=>{setShowTribe(\"vengir\")}}></IconButton>\r\n         </div>\r\n     </section>\r\n     <section id=\"sp-tribe-random\">\r\n         <p>-Let fate decide!-</p>\r\n        <NormalButton text=\"RANDOM\" isUri={true} callback={{uri:\"/main/singleplayer/setup\", params:{queryParams:{mode: prevQuary.mode, player:\"player_random\"}}}}/>\r\n     </section>\r\n     {showInfo(showTribe,prevQuary,setShowTribe)}\r\n    </div>);\r\n}\r\nexport default Tribe;","import React from 'react';\r\nimport './Singleplayer.sass';\r\nimport Aviator from \"aviator\";\r\nimport BackButton from '../../BackButton/BackButton'\r\n\r\nconst Mode = ()=> {\r\n return (<div id=\"sp-mode\">\r\n     <BackButton/>\r\n     <h1>-GAME MODE-</h1>\r\n     <section>\r\n        <button className=\"normal-button\" onClick={()=>{Aviator.navigate(\"/main/singleplayer/tribe\",{queryParams:{mode:\"perfection\"}});}}>\r\n            <img src=\"\" alt=\"perfection_icon\"/>\r\n            <h3>PERFECTION</h3>\r\n            <p>Show your skills on the golobal highscore in the classic 30 turns game.</p>\r\n        </button>\r\n        <button className=\"normal-button\" onClick={()=>{Aviator.navigate(\"/main/singleplayer/tribe\",{queryParams:{mode:\"domination\"}});}}>\r\n            <img src=\"\" alt=\"domination_icon\"/>\r\n            <h3>DOMINATION</h3>\r\n            <p>Play until there is only one tribe left, with no time limit.</p>\r\n        </button>\r\n        <button className=\"normal-button\" onClick={()=>{Aviator.navigate(\"/main\",{queryParams:{mode:\"custom\"}});}}>\r\n            <img src=\"\" alt=\"custommode_icon\"/>\r\n            <h3>CUSTOM</h3>\r\n            <p>Play custom created modes you created or the community.</p>\r\n        </button>\r\n     </section>\r\n </div>);\r\n}\r\nexport default Mode;","import React,{useState} from 'react';\r\nimport './Singleplayer.sass';\r\nimport NormalButton from '../../NormalButton/NormalButton'\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {combineQuery} from '../../../scripts/utility'\r\n\r\nconst opponents = [1,2,3,4];\r\nconst worldSizes = [121,256,324,400]\r\nconst difficulty = [\"Easy\",\"Normal\",\"Hard\",\"Crazy\"];\r\nconst createData = list => {\r\n     return list.map(element => {\r\n         return <div className={`scrollmenu-item`} key={element}>{element}</div>;\r\n     });    \r\n}\r\nconst SetupSP = ()=> {\r\n    const [map,setMap] = useState(121);\r\n    const [diff, setDiff] = useState(\"NORMAL\");\r\n    const [opponent, setOpponents] = useState(1);\r\n return (<div id=\"sp-setup\">\r\n     <BackButton/>\r\n    <h1>-GAME SETUP-</h1>\r\n     <section>\r\n         <h5>Opponents</h5>\r\n        <ScrollMenu selected={1} onSelect={e=>{setOpponents(e)}} data={createData(opponents)}/>\r\n     </section>\r\n     <section>\r\n         <h5>World Size</h5>\r\n        <ScrollMenu selected={121} onSelect={e=>{setMap(e)}} data={createData(worldSizes)} useButtonRole={true}/>\r\n     </section>\r\n     <section>\r\n         <h5>Difficulty</h5>\r\n        <ScrollMenu selected={\"Easy\"} onSelect={e=>{setDiff(e);}}data={createData(difficulty)}/>\r\n     </section>\r\n\r\n     <NormalButton text=\"Start Game\" isUri={true} callback={{uri:\"/game\", params:{replace: true, queryParams: combineQuery({savedgame: false, mp: false, opponents:opponent, mapsize: map, diff: diff.toUpperCase()})}}}/>\r\n     </div>);\r\n}\r\nexport default SetupSP;","import React,{useState, useEffect} from 'react';\r\nimport IconButton from '../../IconButton/IconButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport {savedlocalMPGames, CONFIG} from '../../../scripts/utility';\r\nimport {useAuth0} from '../../../contaner/Auth/useAuth';\r\nimport Aviator from 'aviator';\r\nimport { Modal, Button} from 'shineout'\r\nimport Loader from '../../Loader/Loader';\r\nimport {ws} from '../../../scripts/websocket';\r\nimport './Multiplayer.sass';\r\nimport PLUSICON from '../../../assets/images/icons/plus.svg'\r\n\r\nconst getSaves = () =>{\r\n    let dataArray = [];\r\n    if(savedlocalMPGames.hasSaves()){\r\n        let data = savedlocalMPGames.get();\r\n        dataArray = data.map(el=>{\r\n         return <button className=\"saved\" key={el.id}>\r\n                    <img src=\"\" alt=\"randomIcon\"/>\r\n                    <h5>{el.name}</h5>\r\n                </button>\r\n        });\r\n    }\r\n    return dataArray;\r\n}\r\n\r\n\r\n\r\nconst Multiplayer = ()=> {\r\n   const {isAuthenticated,getTokenSilently, user} = useAuth0();\r\n   const [loginModal, setLoginModal] = useState(false);\r\n   const [yourTurn, setYourTrun] = useState(false);\r\n   const [hasOnlineGames, setHasOnlineGames] = useState([]);\r\n   const [hasLocalGame,setHasLocalGames] = useState(getSaves());\r\n   \r\n\r\n   useEffect(()=>{\r\n    setYourTrun(false);\r\n    setHasOnlineGames([]);\r\n    setHasLocalGames(getSaves());\r\n    if(CONFIG.data.settings.forceLogin) setLoginModal(!isAuthenticated);\r\n    if(isAuthenticated && (ws.socket === null)){\r\n      getTokenSilently().then(token=>{\r\n         ws.init(user.sub.replace(\"auth0|\",\"\"), token)\r\n      });\r\n     }\r\n   },[isAuthenticated,user.sub,getTokenSilently]);\r\n    \r\n\r\n return (<div id=\"multiplayer\">\r\n        <Modal\r\n          visible={loginModal}\r\n          maskCloseAble={false}\r\n          width={500}\r\n          height={300}\r\n          title=\"Login\"\r\n          footer={[\r\n            <Button key=\"ok\" type=\"primary\" onClick={()=>{Aviator.navigate(\"/main\")}}>\r\n              Ok\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <h3>Please login to use the multiplayer component</h3>\r\n        </Modal>\r\n            <BackButton/>\r\n            <h1>-MULTIPLAYER-</h1>\r\n            <h3>{`-${ yourTurn ? \"Your\" : \"Their\"} Turn-`}</h3>\r\n            {hasOnlineGames.length > 0 ? <div/> : <Loader/>}\r\n            <h3>{\"-Pass & Play-\"}</h3>\r\n            {hasLocalGame.length > 0 ? hasLocalGame : <Loader/>}\r\n            <section>\r\n                {\r\n                    CONFIG.data.settings.production ?  <IconButton uri=\"/main/multiplayer/new-game/setup\" text=\"New Game\"><img src={PLUSICON} alt=\"NewGame\"/></IconButton> : null\r\n                }\r\n                <IconButton uri=\"/main/multiplayer/friends\" text=\"Friends\"></IconButton>\r\n            </section>\r\n            </div>\r\n            );\r\n}\r\nexport default Multiplayer;\r\n\r\n","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport NormalButton from '../../NormalButton/NormalButton';\r\nimport BackButton from '../../BackButton/BackButton';\r\nimport './Multiplayer.sass';\r\n\r\nconst Friends = ()=> {\r\n return (<div id=\"mp-friends\">\r\n            <BackButton/>\r\n            <h1>-FRIENDS LIST-</h1>\r\n            <h5>-Friends-</h5>\r\n            {/*Load Friends */\r\n                <Loader/>\r\n            }\r\n            <NormalButton text=\"NEW FRIEND\" isUri={false} callback={()=>{}}/>\r\n        </div>);\r\n}\r\nexport default Friends;","import React,{useState} from 'react';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport NormalButton from '../../../NormalButton/NormalButton';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport '../Multiplayer.sass'\r\nconst SetupMP = ()=> {\r\n    const [network,setNetwork] = useState(\"local\");\r\n    const [mode,setMode] = useState(\"might\");\r\n    const [mapSize, setMapSize] = useState(\"tiny\")\r\n return (<div id=\"mp-setup\">\r\n     <BackButton/>\r\n            <h1>-SETUP-</h1>\r\n            <div>\r\n                <h6>Network</h6>\r\n                <ScrollMenu data={[<button onClick={()=>setNetwork(\"online\")} key=\"online\">Online</button>,<button onClick={()=>setNetwork(\"local\")} key=\"local\">{\"Pass & Play\"}</button>]}/>\r\n            </div>\r\n            <p>{'Lorm ipsom'}</p>\r\n            <div>\r\n                <h6>Game Mode</h6>\r\n                <ScrollMenu data={[<div onClick={()=>setMode(\"glory\")} key=\"glory\">Glory</div>,<div onClick={()=>setMode(\"might\")} key=\"might\">Might</div>]}/>\r\n            </div>\r\n            <p>{`Lorm Ipsom`}</p>\r\n            <div>\r\n                <h6>Map Size</h6>\r\n                <ScrollMenu data={[<div onClick={()=>{setMapSize(\"tiny\")}} key=\"tiny\">tiny</div>,<div onClick={()=>setMapSize(\"normal\")} key=\"normal\">normal</div>,<div onClick={()=>setMapSize(\"large\")} key=\"large\">large</div>,<div onClick={()=>setMapSize(\"mega\")} key=\"mega\">mega</div>,<div onClick={()=>setMapSize(\"ultra\")} key=\"ultra\">ultra</div>]}/>\r\n            </div>\r\n            <p>{`${999} tiles map.`}</p>\r\n            <NormalButton text=\"CONTINUE\" isUri={true} callback={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:{network,mode,mapSize}}}}/>\r\n        </div>);\r\n}\r\nexport default SetupMP;\r\n\r\n\r\n","import React,{useState} from 'react';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport NormalButton from '../../../NormalButton/NormalButton';\r\nimport {getQueryParams} from '../../../../scripts/utility';\r\nimport '../Multiplayer.sass';\r\n\r\n\r\nconst removePlayer = (player, urp)=>{\r\n        return Object.assign({},urp, {players: urp.players.filter(item=> item !== player)})\r\n}\r\n\r\nconst PlayerMP = ()=> {\r\n    const [urlParams,setUrlParams] = useState(getQueryParams());\r\n    const [minPlayers,setMinPlayers] = useState(urlParams.players === undefined ? 0 : urlParams.players.length);\r\n    let players = null;\r\n    if(urlParams.players){\r\n        players = urlParams.players.map(el=>{\r\n            return <div key={el}>\r\n                     <img src=\"\" alt=\"head\"/>\r\n                     <h6>{el}</h6>\r\n                     <button onClick={()=>{setMinPlayers(minPlayers-1); setUrlParams(removePlayer(el, urlParams))}}>X</button>\r\n                   </div>\r\n        });\r\n    }\r\n return (<div id=\"player-mp\">\r\n            <BackButton/>\r\n            <h1>-PICK PLAYERS-</h1>\r\n            <h5>-Game Name-</h5>\r\n            <input type=\"text\" readOnly={true} defaultValue={\"RANDOM_NAME\"}></input>\r\n            <div>\r\n                <p>{`Map Size: ${324}`}</p>\r\n                <p>{`Game Mode: ${\"Might\"}`}</p>\r\n                <p>{\"MODE_TEXT\"}</p>\r\n                <hr/>\r\n                <h5>{`-Players (${minPlayers}/5)-`}</h5>\r\n                {players}\r\n                <NormalButton text=\"ADD PLAYER\" isUri={true} callback={{uri:\"/main/multiplayer/new-game/add\", params: {queryParams: urlParams} }}/>\r\n                <hr/>\r\n                <NormalButton  disable={minPlayers >= 2 ? false : true} text=\"START GAME\" isUri={true} callback={{uri:\"/main/multiplayer/new-game/tribes\", params:{replace: true, queryParams: Object.assign({}, { mp: true, savedgame: false}, urlParams) }}}/>\r\n            </div>\r\n         </div>);\r\n}\r\nexport default PlayerMP;","import React from 'react';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport {getQueryParams} from '../../../../scripts/utility';\r\nimport {ws} from '../../../../scripts/websocket';\r\nimport '../Multiplayer.sass';\r\n\r\n\r\nconst TribesMP = ()=> {\r\n    const urlParams = getQueryParams();\r\n    const isLocal = urlParams.network === \"local\" ? true: false;\r\n    if(!isLocal){\r\n        ws.send({type:\"get\", request:\"slectedTribes\", ofGameID:\"CURRENT_GAME_ID\"})\r\n    }\r\n return (<div id=\"tribes-mp\">\r\n     <BackButton/>\r\n            \r\n        </div>);\r\n}\r\nexport default TribesMP;","import React from 'react';\r\nimport IconButton from '../../../IconButton/IconButton';\r\nimport BackButton from '../../../BackButton/BackButton';\r\nimport {getQueryParams} from '../../../../scripts/utility';\r\nimport {ws} from '../../../../scripts/websocket';\r\nimport '../Multiplayer.sass';\r\n\r\n\r\n\r\n\r\nconst TribesMP = ()=> {\r\n    const urlParams = getQueryParams();\r\n    const isLocal = urlParams.network === \"local\" ? true: false;\r\n    const currentPlayers = urlParams.players || [];\r\n    let lock = false;\r\n    if(urlParams.players){\r\n        if(urlParams.players.length === 5){\r\n            lock = true;\r\n        }\r\n    }\r\n    if(!isLocal){\r\n        ws.send({type:\"get\",request:\"friendsList\", ofUser:\"USER_TEMP\", status:204});\r\n    }\r\n return (<div id=\"tribes-mp\">\r\n     <BackButton/>\r\n            <h1>-FRIEND LIST-</h1>\r\n            <div>\r\n                <h5>-Local Players-</h5>\r\n                <section>\r\n                    <IconButton disable={lock} text=\"Player 1\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player1_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 2\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player2_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 3\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player3_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 4\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player4_na\")})}}}/>\r\n                    <IconButton disable={lock} text=\"Player 5\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"player5_na\")})}}}/>\r\n                </section>\r\n            </div>\r\n            <h5>-Bots-</h5>\r\n            <section>\r\n               <IconButton disable={lock} text=\"Easy Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botEasy_random\")})}}}/>\r\n               <IconButton disable={lock} text=\"Normal Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botNormal_random\")})}}}/>\r\n               <IconButton disable={lock} text=\"Hard Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botHard_random\")})}}}/>\r\n               <IconButton disable={lock} text=\"Crazy Bot\" uri={{uri:\"/main/multiplayer/new-game/players\",params:{queryParams:Object.assign({}, urlParams,  {players: currentPlayers.concat(\"botCrazy_random\")})}}}/>\r\n            </section>\r\n        </div>);\r\n}\r\nexport default TribesMP;","import {Power3, TimelineMax, Power4} from 'gsap/TweenMax'\r\nimport Aviator from 'aviator';\r\n\r\nexport const ViewOut = ()=>{\r\n    let tl = new TimelineMax();\r\n    tl.to(\"#view-block\", 0.8 , { y: 200 , ease: Power4.easeIn});\r\n    setTimeout(()=>{\r\n        Aviator.navigate(\"/game\");\r\n    },805)\r\n}\r\nexport const ViewIn = ()=>{\r\n    let tl = new TimelineMax();\r\n     tl.from(\"#view-block\", 1 , { y: 100 , ease: Power3.easeOut})\r\n}","import React,{useEffect} from 'react';\r\nimport {getQueryParams} from '../../scripts/utility';\r\nimport IconButton from '../IconButton/IconButton';\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport {ViewIn,ViewOut} from '../../scripts/anim';\r\nimport DownArrow from '../../assets/images/icons/arrow_down.svg';\r\nimport './menus.sass';\r\n\r\n\r\nconst View = ()=> {\r\n    useEffect(()=>{ViewIn()\r\n                  },[]);\r\n    const data = getQueryParams();\r\n    let block = window.scene.getObjectById(Number(data.blockId));\r\n    let slector = window.scene.getObjectByName(\"slector_player_random\");\r\n    slector.position.set(block.position.x, 2, block.position.z);\r\n return (<div id=\"view-block\">\r\n           <section>\r\n                <img src=\"\" alt=\"block icon\"/>\r\n                <div>\r\n                    <h3>{block.userData.type}</h3>\r\n                    {<p>{}</p>}\r\n                </div>\r\n                <button onClick={ViewOut}><img src={DownArrow} alt=\"hide\"/></button>\r\n           </section>\r\n              {\r\n                Object.keys(block.userData.canBuild).length > 0 ? <ScrollMenu data={[<IconButton text=\"Fram\"></IconButton>]} menuClass=\"view-scroll\"/> : null\r\n               }\r\n        </div>);\r\n}\r\n\r\nexport default View;\r\n","import React,{useState} from 'react';\r\nimport IconButtom from '../IconButton/IconButton';\r\nimport MenuIcon from '../../assets/images/icons/menu.svg';\r\nconst NavGame = ()=> {\r\n    const [nb,setNB] = useState({\r\n                                text:\"Next Turn\",\r\n                                class:\"nb-default\"\r\n                                });\r\n return (\r\n            <div id=\"nav-game\">\r\n                <IconButtom text=\"Menu\" uri=\"/game/menu\"><img src={MenuIcon} alt=\"Game Menu\"/></IconButtom>\r\n                <IconButtom text=\"Game Stats\"></IconButtom>\r\n                <IconButtom text=\"Tech Tree\"></IconButtom>\r\n                <IconButtom text={nb.text}></IconButtom>\r\n            </div>\r\n        );\r\n}\r\nexport default NavGame;","import React, {Component} from 'react';\r\nimport Game from '../Game/Game';\r\nimport { connect } from 'react-redux'\r\nimport {loadAssets} from '../../redux/actions';\r\nimport ErrorBoundry from '../Errorboundery/Errorboundery';\r\nimport Aviator from 'aviator';\r\nimport {savedGames, CONFIG} from '../../scripts/utility';\r\nimport './App.sass';\r\n\r\n\r\nimport AboutPage from '../../components/pages/About/About';\r\nimport ThroneRoom from '../../components/pages/ThoneRoom/ThroneRoom';\r\nimport HighScore from '../../components/pages/HighScore/HighScore';\r\nimport Settings from '../../components/pages/Settings/Settings';\r\nimport MainMenu from '../../components/pages/MainMenu/MainMenu';\r\n\r\n// singleplayer pages\r\nimport Tribe from '../../components/pages/Singleplayer/Tribe';\r\nimport Mode from '../../components/pages/Singleplayer/Mode';\r\nimport SetupSP from '../../components/pages/Singleplayer/SetupSP';\r\n//multiplayer pages\r\nimport Multiplayer from '../../components/pages/Multiplayer/Multiplayer';\r\nimport Friends from '../../components/pages/Multiplayer/Friends';\r\n//multiplayer new game\r\nimport SetupMP from '../../components/pages/Multiplayer/NewGame/SetupMP';\r\nimport PlayerMP from '../../components/pages/Multiplayer/NewGame/PlayerMP';\r\nimport TribesMP from '../../components/pages/Multiplayer/NewGame/TribesMP';\r\nimport AddPlayerMP from '../../components/pages/Multiplayer/NewGame/AddPlayerMP';\r\n\r\n\r\nimport View from '../../components/menus/View';\r\nimport NavGame from '../../components/menus/NavGame';\r\n\r\n\r\nconst mapStateToProps = state => {return {\r\n    of: state.gameAssetsLoad.progress.of,\r\n    item: state.gameAssetsLoad.progress.item,\r\n    isPending: state.gameAssetsLoad.isPending,\r\n    loadError: state.gameAssetsLoad.error,\r\n}}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      loadGameAssets: ()=>dispatch(loadAssets())\r\n    }\r\n  }\r\n\r\nclass App extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            savedGame: false,\r\n            savedGameObject: {},\r\n            location: \"MAIN\",\r\n            inGame: \"NONE\",\r\n            hasBefore: false\r\n        }\r\n    }\r\n    goTo(to, params = {}){\r\n        Aviator.navigate(to,params)\r\n    }\r\n    componentDidMount(){\r\n        this.props.loadGameAssets();\r\n        CONFIG.load();\r\n        Aviator.setRoutes({\r\n            '/game': {\r\n                target: { \r\n                    showGame:()=>{this.setState({location:\"GAME\", inGame:\"NONE\"});},\r\n                    show:(v)=>{this.setState({inGame: v.uri.replace(\"/game/\",\"\").replace(/\\/(ocean|field|water)$/,\"\").toUpperCase()})}\r\n                },\r\n                '/': \"showGame\",\r\n                \"/view\":{\"/:type\":\"show\"},\r\n                \"/tech\":{'/:type':\"show\"},\r\n                \"/stats\":\"show\",\r\n                \"/menu\":\"show\"\r\n            },\r\n            \"/main\":{\r\n                target:{ \r\n                        index: ()=>{this.setState({location: \"MAIN\"}) },\r\n                        show:(v)=>{ \r\n                           this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})\r\n                         }\r\n                        },\r\n                \"/\":\"index\",\r\n                \"/singleplayer\":{\r\n                    target:{ show:(v)=>{this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})}\r\n                            },\r\n                    \"/mode\":\"show\",\r\n                    \"/tribe\":\"show\",\r\n                    \"/setup\":\"show\"\r\n                },\r\n                \"/multiplayer\":{\r\n                    target:{ show:(v)=>{this.setState({location: v.uri.replace(\"/main/\",\"\").toUpperCase()})},\r\n                            },\r\n                    \"/\":\"show\",\r\n                    \"/new-game\":{\r\n                        target:{ show:(v)=>{ this.setState({location: v.uri.replace(\"/main/multiplayer/\",\"\").toUpperCase()})}\r\n                                },\r\n                        \"/setup\":\"show\",\r\n                        \"/players\":\"show\",\r\n                        \"/tribes\":\"show\",\r\n                        \"/add\":\"show\"\r\n                    },\r\n                    \"/friends\":\"show\",\r\n                    \"/:game\":\"game\"\r\n                },\r\n                \"/settings\":\"show\",\r\n                \"/highscore\":\"show\",\r\n                \"/throneroom\":\"show\",\r\n                \"/about\":\"show\"\r\n            }\r\n          });\r\n          Aviator.dispatch();\r\n          if(!this.state.hasBefore){\r\n              this.goTo('/main',{ replace: true });\r\n              this.setState({hasBefore: true});\r\n          }\r\n          \r\n\r\n    }\r\n   loadContent(location){\r\n       switch (location) {\r\n            case \"MAIN\":\r\n               return (<MainMenu saved={savedGames.hasSave()}/>);\r\n            case \"SETTINGS\":\r\n              return  <Settings menu={false}/>;\r\n            case \"ABOUT\":\r\n              return <AboutPage/>;\r\n            case \"HIGHSCORE\":\r\n                return <HighScore/>;\r\n            case \"THRONEROOM\":\r\n                return <ThroneRoom/>;\r\n            case \"SINGLEPLAYER/MODE\":\r\n                return <Mode/>;\r\n            case \"SINGLEPLAYER/TRIBE\":\r\n                return <Tribe/>;\r\n            case \"SINGLEPLAYER/SETUP\":\r\n                return <SetupSP/>;\r\n            case \"MULTIPLAYER\":\r\n                return <Multiplayer/>;\r\n            case \"MULTIPLAYER/FRIENDS\":\r\n                return <Friends/>;\r\n            case \"NEW-GAME/SETUP\":\r\n                return <SetupMP/>;\r\n            case \"NEW-GAME/PLAYERS\":\r\n                return <PlayerMP/>;\r\n            case \"NEW-GAME/TRIBES\":\r\n                return <TribesMP/>;\r\n            case \"NEW-GAME/ADD\":\r\n                return <AddPlayerMP/>\r\n            default:\r\n               throw new Error(\"LOCATION CHANGE ERROR\")\r\n       }\r\n   }\r\n   inGameContent(menu){\r\n       switch (menu) {\r\n            case \"NONE\":\r\n               return <NavGame/>;\r\n            case \"VIEW\":\r\n               return <View/>;\r\n            case \"TECH\":\r\n                return null;\r\n            case \"TECH/ITEM\":\r\n                return null;\r\n            case \"STATS\":\r\n                return null;\r\n            case \"MENU\": \r\n                return <Settings menu={true}/>\r\n           default:\r\n               return null;\r\n       }\r\n   }\r\n render(){ \r\n     const {location, inGame} = this.state;\r\n     return (\r\n            <ErrorBoundry>\r\n                {location !== \"GAME\" ? \r\n                        <div className=\"background\">\r\n                            {this.loadContent(location)}\r\n                         </div> : \r\n                         <Game>\r\n                            {this.inGameContent(inGame)}\r\n                         </Game>\r\n                }\r\n             </ErrorBoundry>\r\n             );\r\n  }\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);","import {combineReducers} from 'redux';\r\nimport * as rConst from \"./constants\";\r\n\r\n\r\nconst intialAssetsLoadStates = {\r\n    isPending: true,\r\n    error: \"\",\r\n    assets: {},\r\n    progress: {item:0,of:0}\r\n};\r\nconst intialGameLocation = {\r\n    location: \"\"\r\n}\r\n\r\n\r\nexport const gameLocations = (state=intialGameLocation,action={})=>{\r\n    switch (state.type) {\r\n        case rConst.GAMELOCATION:\r\n            return Object.assign({},state,{location: action.payload});\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const gameAssetsLoad = (state=intialAssetsLoadStates,action={})=>{\r\n    switch (action.type) {\r\n        case rConst.GAMEASSETSLOAD.COMPLETE:\r\n            return Object.assign({},state,{isPending: false, assets: action.payload});\r\n        case rConst.GAMEASSETSLOAD.PENDING:\r\n            return Object.assign({},state,{isPending: true});\r\n        case rConst.GAMEASSETSLOAD.PROGRESS:\r\n            return Object.assign({},state,{progress:{item: action.payload.item, of:action.payload.of}});\r\n        case rConst.GAMEASSETSLOAD.ERROR:\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const rootReducer = combineReducers({gameAssetsLoad});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Aviator from 'aviator';\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware,compose} from 'redux';\r\nimport {Auth0Provider} from './contaner/Auth/useAuth';\r\nimport App from './contaner/App/App';\r\nimport {rootReducer} from './redux/reducers';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport config from './contaner/Auth/auth_config.json';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk)));\r\nReactDOM.render(\r\n    <Auth0Provider domain={config.domain} client_id={config.clientId} redirect_uri={\"http://localhost:3000\"} onRedirectCallback={()=>{Aviator.navigate(\"/\")}}>\r\n     <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n   </Auth0Provider>  \r\n, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/menu.8c6957cc.svg\";"],"sourceRoot":""}